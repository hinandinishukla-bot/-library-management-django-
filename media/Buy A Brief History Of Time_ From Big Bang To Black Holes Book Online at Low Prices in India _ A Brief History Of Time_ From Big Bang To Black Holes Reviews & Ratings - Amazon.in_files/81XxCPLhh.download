////////////////////////////////////////////
// BEGIN ASSET BooksDesignSystemWebBuzzAssets@BaseAssets-1.0.5031.0
/////////////////////////
// BEGIN FILE bds-hns-integration.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.enableHNSIntegration = true;
/////////////////////////
// END FILE bds-hns-integration.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-qv-sf-experiment.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.isBDSStarRatingEnabledOnStorefront = false;
/////////////////////////
// END FILE bds-qv-sf-experiment.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-qv-typ-experiment.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.isBDSStarRatingEnabledOnTYP = false;
/////////////////////////
// END FILE bds-qv-typ-experiment.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-qv-cc-experiment.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
window.BDS = window.BDS || {};
window.BDS.isBDSStarRatingEnabledOnYourBooks = false;
/////////////////////////
// END FILE bds-qv-cc-experiment.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-base-assets.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
!function(e){function t(e,t,i,a){var o,r=arguments.length,s=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}function i(e,t,i,a){return new(i||(i=Promise))((function(o,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function n(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,n)}l((a=a.apply(e,t||[])).next())}))}function a(e,t,i,a,o,r,s){try{var n=e[r](s),l=n.value}catch(e){return void i(e)}n.done?t(l):Promise.resolve(l).then(a,o)}function o(e){return function(){var t=this,i=arguments;return new Promise((function(o,r){var s=e.apply(t,i);function n(e){a(s,o,r,n,l,"next",e)}function l(e){a(s,o,r,n,l,"throw",e)}n(void 0)}))}}function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}
/**
     * @license
     * Copyright 2019 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}"function"==typeof SuppressedError&&SuppressedError;var l=window,d=l.ShadowRoot&&(void 0===l.ShadyCSS||l.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c=Symbol(),u=new WeakMap;class b{constructor(e,t,i){if(this._$cssResult$=!0,i!==c)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){var e=this.o,t=this.t;if(d&&void 0===e){var i=void 0!==t&&1===t.length;i&&(e=u.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&u.set(t,e))}return e}toString(){return this.cssText}}var g,h,v=e=>new b("string"==typeof e?e:e+"",void 0,c),p=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];var o=1===e.length?e[0]:i.reduce(((t,i,a)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[a+1]),e[0]);return new b(o,e,c)},m=d?e=>e:e=>e instanceof CSSStyleSheet?(e=>{var t="";for(var i of e.cssRules)t+=i.cssText;return v(t)})(e):e
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */,_=window,f=_.trustedTypes,y=f?f.emptyScript:"",x=_.reactiveElementPolyfillSupport,k={toAttribute(e,t){switch(t){case Boolean:e=e?y:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){var i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},w=(e,t)=>t!==e&&(t==t||e==e),C={attribute:!0,type:String,converter:k,reflect:!1,hasChanged:w},B="finalized";class P extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();var e=[];return this.elementProperties.forEach(((t,i)=>{var a=this._$Ep(i,t);void 0!==a&&(this._$Ev.set(a,i),e.push(a))})),e}static createProperty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){var i="symbol"==typeof e?Symbol():"__"+e,a=this.getPropertyDescriptor(e,i,t);void 0!==a&&Object.defineProperty(this.prototype,e,a)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(a){var o=this[e];this[t]=a,this.requestUpdate(e,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||C}static finalize(){if(this.hasOwnProperty(B))return!1;this[B]=!0;var e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(var a of i)this.createProperty(a,t[a])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){var t=[];if(Array.isArray(e)){var i=new Set(e.flat(1/0).reverse());for(var a of i)t.unshift(m(a))}else void 0!==e&&t.push(m(e));return t}static _$Ep(e,t){var i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e,t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{d?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{var i=document.createElement("style"),a=l.litNonce;void 0!==a&&i.setAttribute("nonce",a),i.textContent=t.cssText,e.appendChild(i)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C,o=this.constructor._$Ep(e,a);if(void 0!==o&&!0===a.reflect){var r=(void 0!==(null===(i=a.converter)||void 0===i?void 0:i.toAttribute)?a.converter:k).toAttribute(t,a.type);this._$El=e,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}_$AK(e,t){var i,a=this.constructor,o=a._$Ev.get(e);if(void 0!==o&&this._$El!==o){var r=a.getPropertyOptions(o),s="function"==typeof r.converter?{fromAttribute:r.converter}:void 0!==(null===(i=r.converter)||void 0===i?void 0:i.fromAttribute)?r.converter:k;this._$El=o,this[o]=s.fromAttribute(t,r.type),this._$El=null}}requestUpdate(e,t,i){var a=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||w)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,i))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}_$Ej(){var e=this;return o((function*(){e.isUpdatePending=!0;try{yield e._$E_}catch(t){Promise.reject(t)}var t=e.scheduleUpdate();return null!=t&&(yield t),!e.isUpdatePending}))()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);var t=!1,i=this._$AL;try{(t=this.shouldUpdate(i))?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(i)}}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}}P[B]=!0,P.elementProperties=new Map,P.elementStyles=[],P.shadowRootOptions={mode:"open"},null==x||x({ReactiveElement:P}),(null!==(g=_.reactiveElementVersions)&&void 0!==g?g:_.reactiveElementVersions=[]).push("1.6.3");var $=window,T=$.trustedTypes,S=T?T.createPolicy("lit-html",{createHTML:e=>e}):void 0,z="$lit$",I="lit$".concat((Math.random()+"").slice(9),"$"),A="?"+I,L="<".concat(A,">"),R=document,O=()=>R.createComment(""),F=e=>null===e||"object"!=typeof e&&"function"!=typeof e,D=Array.isArray,M="[ \t\n\f\r]",E=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,U=/-->/g,H=/>/g,N=RegExp(">|".concat(M,"(?:([^\\s\"'>=/]+)(").concat(M,"*=").concat(M,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),j=/'/g,V=/"/g,W=/^(?:script|style|textarea|title)$/i,G=(e=>function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return{_$litType$:e,strings:t,values:a}})(1),Q=Symbol.for("lit-noChange"),q=Symbol.for("lit-nothing"),X=new WeakMap,K=R.createTreeWalker(R,129,null,!1);function Y(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==S?S.createHTML(t):t}var J=(e,t)=>{for(var i,a=e.length-1,o=[],r=2===t?"<svg>":"",s=E,n=0;n<a;n++){for(var l=e[n],d=void 0,c=void 0,u=-1,b=0;b<l.length&&(s.lastIndex=b,null!==(c=s.exec(l)));)b=s.lastIndex,s===E?"!--"===c[1]?s=U:void 0!==c[1]?s=H:void 0!==c[2]?(W.test(c[2])&&(i=RegExp("</"+c[2],"g")),s=N):void 0!==c[3]&&(s=N):s===N?">"===c[0]?(s=null!=i?i:E,u=-1):void 0===c[1]?u=-2:(u=s.lastIndex-c[2].length,d=c[1],s=void 0===c[3]?N:'"'===c[3]?V:j):s===V||s===j?s=N:s===U||s===H?s=E:(s=N,i=void 0);var g=s===N&&e[n+1].startsWith("/>")?" ":"";r+=s===E?l+L:u>=0?(o.push(d),l.slice(0,u)+z+l.slice(u)+I+g):l+I+(-2===u?(o.push(void 0),n):g)}return[Y(e,r+(e[a]||"<?>")+(2===t?"</svg>":"")),o]};class Z{constructor(e,t){var i,{strings:a,_$litType$:o}=e;this.parts=[];var r=0,s=0,n=a.length-1,l=this.parts,[d,c]=J(a,o);if(this.el=Z.createElement(d,t),K.currentNode=this.el.content,2===o){var u=this.el.content,b=u.firstChild;b.remove(),u.append(...b.childNodes)}for(;null!==(i=K.nextNode())&&l.length<n;){if(1===i.nodeType){if(i.hasAttributes()){var g=[];for(var h of i.getAttributeNames())if(h.endsWith(z)||h.startsWith(I)){var v=c[s++];if(g.push(h),void 0!==v){var p=i.getAttribute(v.toLowerCase()+z).split(I),m=/([.?@])?(.*)/.exec(v);l.push({type:1,index:r,name:m[2],strings:p,ctor:"."===m[1]?oe:"?"===m[1]?se:"@"===m[1]?ne:ae})}else l.push({type:6,index:r})}for(var _ of g)i.removeAttribute(_)}if(W.test(i.tagName)){var f=i.textContent.split(I),y=f.length-1;if(y>0){i.textContent=T?T.emptyScript:"";for(var x=0;x<y;x++)i.append(f[x],O()),K.nextNode(),l.push({type:2,index:++r});i.append(f[y],O())}}}else if(8===i.nodeType)if(i.data===A)l.push({type:2,index:r});else for(var k=-1;-1!==(k=i.data.indexOf(I,k+1));)l.push({type:7,index:r}),k+=I.length-1;r++}}static createElement(e,t){var i=R.createElement("template");return i.innerHTML=e,i}}function ee(e,t){var i,a,o,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3?arguments[3]:void 0;if(t===Q)return t;var l=void 0!==n?null===(i=s._$Co)||void 0===i?void 0:i[n]:s._$Cl,d=F(t)?void 0:t._$litDirective$;return(null==l?void 0:l.constructor)!==d&&(null===(a=null==l?void 0:l._$AO)||void 0===a||a.call(l,!1),void 0===d?l=void 0:(l=new d(e))._$AT(e,s,n),void 0!==n?(null!==(o=(r=s)._$Co)&&void 0!==o?o:r._$Co=[])[n]=l:s._$Cl=l),void 0!==l&&(t=ee(e,l._$AS(e,t.values),l,n)),t}class te{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t,{el:{content:i},parts:a}=this._$AD,o=(null!==(t=null==e?void 0:e.creationScope)&&void 0!==t?t:R).importNode(i,!0);K.currentNode=o;for(var r=K.nextNode(),s=0,n=0,l=a[0];void 0!==l;){if(s===l.index){var d=void 0;2===l.type?d=new ie(r,r.nextSibling,this,e):1===l.type?d=new l.ctor(r,l.name,l.strings,this,e):6===l.type&&(d=new le(r,this,e)),this._$AV.push(d),l=a[++n]}s!==(null==l?void 0:l.index)&&(r=K.nextNode(),s++)}return K.currentNode=R,o}v(e){var t=0;for(var i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class ie{constructor(e,t,i,a){var o;this.type=2,this._$AH=q,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=a,this._$Cp=null===(o=null==a?void 0:a.isConnected)||void 0===o||o}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){var e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===(null==e?void 0:e.nodeType)&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e){e=ee(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),F(e)?e===q||null==e||""===e?(this._$AH!==q&&this._$AR(),this._$AH=q):e!==this._$AH&&e!==Q&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):(e=>D(e)||"function"==typeof(null==e?void 0:e[Symbol.iterator]))(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==q&&F(this._$AH)?this._$AA.nextSibling.data=e:this.$(R.createTextNode(e)),this._$AH=e}g(e){var t,{values:i,_$litType$:a}=e,o="number"==typeof a?this._$AC(e):(void 0===a.el&&(a.el=Z.createElement(Y(a.h,a.h[0]),this.options)),a);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===o)this._$AH.v(i);else{var r=new te(o,this),s=r.u(this.options);r.v(i),this.$(s),this._$AH=r}}_$AC(e){var t=X.get(e.strings);return void 0===t&&X.set(e.strings,t=new Z(e)),t}T(e){D(this._$AH)||(this._$AH=[],this._$AR());var t,i=this._$AH,a=0;for(var o of e)a===i.length?i.push(t=new ie(this.k(O()),this.k(O()),this,this.options)):t=i[a],t._$AI(o),a++;a<i.length&&(this._$AR(t&&t._$AB.nextSibling,a),i.length=a)}_$AR(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,i=arguments.length>1?arguments[1]:void 0;for(null===(e=this._$AP)||void 0===e||e.call(this,!1,!0,i);t&&t!==this._$AB;){var a=t.nextSibling;t.remove(),t=a}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}}class ae{constructor(e,t,i,a,o){this.type=1,this._$AH=q,this._$AN=void 0,this.element=e,this.name=t,this._$AM=a,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=q}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=this.strings,r=!1;if(void 0===o)e=ee(this,e,t,0),(r=!F(e)||e!==this._$AH&&e!==Q)&&(this._$AH=e);else{var s,n,l=e;for(e=o[0],s=0;s<o.length-1;s++)(n=ee(this,l[i+s],t,s))===Q&&(n=this._$AH[s]),r||(r=!F(n)||n!==this._$AH[s]),n===q?e=q:e!==q&&(e+=(null!=n?n:"")+o[s+1]),this._$AH[s]=n}r&&!a&&this.j(e)}j(e){e===q?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=e?e:"")}}class oe extends ae{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===q?void 0:e}}var re=T?T.emptyScript:"";class se extends ae{constructor(){super(...arguments),this.type=4}j(e){e&&e!==q?this.element.setAttribute(this.name,re):this.element.removeAttribute(this.name)}}class ne extends ae{constructor(e,t,i,a,o){super(e,t,i,a,o),this.type=5}_$AI(e){var t;if((e=null!==(t=ee(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==t?t:q)!==Q){var i=this._$AH,a=e===q&&i!==q||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==q&&(i===q||a);a&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}}handleEvent(e){var t,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==i?i:this.element,e):this._$AH.handleEvent(e)}}class le{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){ee(this,e)}}var de=$.litHtmlPolyfillSupport;null==de||de(Z,ie),(null!==(h=$.litHtmlVersions)&&void 0!==h?h:$.litHtmlVersions=[]).push("2.8.0");var ce,ue;
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class be extends P{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t,i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,i)=>{var a,o,r=null!==(a=null==i?void 0:i.renderBefore)&&void 0!==a?a:t,s=r._$litPart$;if(void 0===s){var n=null!==(o=null==i?void 0:i.renderBefore)&&void 0!==o?o:null;r._$litPart$=s=new ie(t.insertBefore(O(),n),n,void 0,null!=i?i:{})}return s._$AI(e),s})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return Q}}be.finalized=!0,be._$litElement$=!0,null===(ce=globalThis.litElementHydrateSupport)||void 0===ce||ce.call(globalThis,{LitElement:be});var ge=globalThis.litElementPolyfillSupport;null==ge||ge({LitElement:be}),(null!==(ue=globalThis.litElementVersions)&&void 0!==ue?ue:globalThis.litElementVersions=[]).push("3.3.3");
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
class he extends Event{constructor(e,t,i){super("context-request",{bubbles:!0,composed:!0}),this.context=e,this.callback=t,this.subscribe=i}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
class ve{constructor(e,t,i,a){var o;if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(e,t)=>{this.unsubscribe&&(this.unsubscribe!==t&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=e,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(e,t)),this.unsubscribe=t},this.host=e,void 0!==t.context){var r=t;this.context=r.context,this.callback=r.callback,this.subscribe=null!==(o=r.subscribe)&&void 0!==o&&o}else this.context=t,this.callback=i,this.subscribe=null!=a&&a;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new he(this.context,this.t,this.subscribe))}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class pe{constructor(e){this.disposers=new Map,this.updateObservers=()=>{for(var[e,t]of this.disposers)e(this.o,t)},void 0!==e&&(this.value=e)}get value(){return this.o}set value(e){this.setValue(e)}setValue(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!Object.is(e,this.o);this.o=e,t&&this.updateObservers()}addCallback(e,t){if(t){this.disposers.has(e)||this.disposers.set(e,(()=>{this.disposers.delete(e)}));var i=this.disposers.get(e);e(this.value,i)}else e(this.value)}clearCallbacks(){this.disposers.clear()}}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class me extends Event{constructor(e){super("context-provider",{bubbles:!0,composed:!0}),this.context=e}}class _e extends pe{constructor(e,t,i){super(void 0!==t.context?t.initialValue:i),this.onContextRequest=e=>{e.context===this.context&&e.composedPath()[0]!==this.host&&(e.stopPropagation(),this.addCallback(e.callback,e.subscribe))},this.host=e,void 0!==t.context?this.context=t.context:this.context=t,this.attachListeners(),this.host.addController(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest)}hostConnected(){this.host.dispatchEvent(new me(this.context))}}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var fe=e=>{var{finisher:t,descriptor:i}=e;return(e,a)=>{var o;if(void 0===a){var r=null!==(o=e.originalKey)&&void 0!==o?o:e.key,s=null!=i?{kind:"method",placement:"prototype",key:r,descriptor:i(e.key)}:n(n({},e),{},{key:r});return null!=t&&(s.finisher=function(e){t(e,r)}),s}var l=e.constructor;void 0!==i&&Object.defineProperty(e,a,i(a)),null==t||t(l,a)}};
/**
     * @license
     * Copyright 2022 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function ye(e){var{context:t,subscribe:i}=e;return fe({finisher:(e,a)=>{e.addInitializer((e=>{new ve(e,{context:t,callback:t=>{e[a]=t},subscribe:i})}))}})}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var xe,ke=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?n(n({},t),{},{finisher(i){i.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function we(e){return(t,i)=>void 0!==i?((e,t,i)=>{t.constructor.createProperty(i,e)})(e,t,i):ke(e,t)}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function Ce(e){return we(n(n({},e),{},{state:!0}))}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function Be(e,t){return fe({descriptor:i=>{var a={get(){var t,i;return null!==(i=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==i?i:null},enumerable:!0,configurable:!0};if(t){var o="symbol"==typeof i?Symbol():"__"+i;a.get=function(){var t,i;return void 0===this[o]&&(this[o]=null!==(i=null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector(e))&&void 0!==i?i:null),this[o]}}return a}})}
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */null===(xe=window.HTMLSlotElement)||void 0===xe||xe.prototype.assignedElements;const Pe="render-context",$e="asin-metadata-context",Te=e=>customElements.get(e)?(console.warn(`BDS Custom Element '${e}' already defined, will not re-define`),()=>{}):(e=>t=>"function"==typeof t?((e,t)=>(customElements.define(e,t),t))(e,t):((e,t)=>{var{kind:i,elements:a}=t;return{kind:i,elements:a,finisher(t){customElements.define(e,t)}}})(e,t))(e);function Se(){return function(){const e=document.documentElement;return e.classList.contains("a-mobile")||e.classList.contains("a-tablet")}()&&!("UICTFontTextStyleBody"===window.getComputedStyle(document.documentElement).getPropertyValue("font-family"))}var ze;e.RenderContextProvider=ze=class extends be{constructor(){super(...arguments),this.marketplace="default",this.devicetype="default",this.operatingsystem="default",this.hostapplication="default",this.pagetype="default",this.theme="light",this.locale="en-US",this.renderContext=new _e(this,{context:Pe,initialValue:{marketplace:this.marketplace,devicetype:this.devicetype,operatingsystem:this.operatingsystem,hostapplication:this.hostapplication,pagetype:this.pagetype,theme:this.theme,locale:this.locale,widgetid:this.widgetid}}),this.asinMetadataContext=new _e(this,{context:$e,initialValue:{asinMetadataCallbacks:[],asinList:this.asinList}})}willUpdate(){this.renderContext.setValue({marketplace:this.marketplace,devicetype:this.devicetype,operatingsystem:this.operatingsystem,hostapplication:this.hostapplication,pagetype:this.pagetype,theme:this.theme,locale:this.locale,widgetid:this.widgetid}),this.asinMetadataContext.setValue({asinMetadataCallbacks:this.asinMetadataContext.value.asinMetadataCallbacks,asinList:this.asinList})}render(){return Se()?this.classList.add(ze.AUIMobileTabletRootFontSizeClass):this.classList.remove(ze.AUIMobileTabletRootFontSizeClass),G`<slot></slot>`}},e.RenderContextProvider.AUIMobileTabletRootFontSizeClass="aui-mobile-tablet-root-font-size",t([we({type:String,reflect:!0})],e.RenderContextProvider.prototype,"marketplace",void 0),t([we({type:String,reflect:!0})],e.RenderContextProvider.prototype,"devicetype",void 0),t([we({type:String,reflect:!0})],e.RenderContextProvider.prototype,"operatingsystem",void 0),t([we({type:String,reflect:!0})],e.RenderContextProvider.prototype,"hostapplication",void 0),t([we({type:String,reflect:!0})],e.RenderContextProvider.prototype,"pagetype",void 0),t([we({type:String,reflect:!0})],e.RenderContextProvider.prototype,"theme",void 0),t([we({type:String,reflect:!0})],e.RenderContextProvider.prototype,"locale",void 0),t([we({type:String,reflect:!0})],e.RenderContextProvider.prototype,"widgetid",void 0),t([we({type:Array})],e.RenderContextProvider.prototype,"asinList",void 0),e.RenderContextProvider=ze=t([Te("bds-render-context-provider")],e.RenderContextProvider);const Ie="skeleton-loading-metadata-context",Ae="books_ui",Le="bds-";var Re;!function(e){e.FATAL="FATAL",e.ERROR="ERROR",e.WARN="WARN"}(Re||(Re={}));class Oe{static logCountMetric(...e){var t;const i=this.getMetricName(e);null===(t=window.ue)||void 0===t||t.count(i,1)}static getMetricName(e){return Le.concat(e.join("-"))}static logJSErrorMetric(e,t,i,a){var o;const r={logLevel:t,attribution:Le.concat(i),message:a};null===(o=window.ue)||void 0===o||o.ueLogError(e,r)}}const Fe="csaAttributes",De="layout",Me="NULL";function Ee(e,t){return e in t}function Ue(e){var t;const i=null===(t=e.prototype)||void 0===t?void 0:t.connectedCallback;function a(e){if("renderContext"in e){const t=e.renderContext;e.setAttribute("data-csa-c-device-type",(null==t?void 0:t.devicetype)||Me),e.setAttribute("data-csa-c-os",(null==t?void 0:t.operatingsystem)||Me),e.setAttribute("data-csa-c-host-application",(null==t?void 0:t.hostapplication)||Me),e.setAttribute("data-csa-c-locale",(null==t?void 0:t.locale)||Me),e.setAttribute("data-csa-c-theme",(null==t?void 0:t.theme)||Me),e.setAttribute("data-csa-c-marketplace",(null==t?void 0:t.marketplace)||Me),e.setAttribute("data-csa-c-page-type",(null==t?void 0:t.pagetype)||Me),e.setAttribute("data-csa-c-widget-id",(null==t?void 0:t.widgetid)||Me)}}i&&(e.prototype.connectedCallback=function(){var e;null==i||i.call(this),null===(e=window.csa)||void 0===e||e.call(window,"Content",{element:this});const t=this.firstUpdated;this.firstUpdated=function(e){null==t||t.call(this,e),a(this),this.setAttribute("data-csa-c-source",Ae),this.setAttribute("data-csa-c-type","item"),this.setAttribute("data-csa-c-component",this.tagName||Me),this.setAttribute("data-csa-c-pathname",window.location.pathname);const i=this.constructor.elementProperties;var o,r,s,n;(null==i?void 0:i.has(Fe))&&Ee(Fe,this)&&this[Fe]&&Object.entries(this[Fe]).forEach((([e,t])=>{this.setAttribute(e,String(t))})),o=this,r=De,s="data-csa-c-layout",n=this.getAttribute(De)||Me,o.hasAttribute(r)&&Ee(r,o)&&o.setAttribute(s,n)};const o=this.updated;this.updated=function(e){null==o||o.call(this,e),a(this)}})}e.SkeletalLoadingContextProvider=class extends be{constructor(){super(...arguments),this.asinList=[],this.metadataContext=new _e(this,{context:Ie,initialValue:{latentDataMap:new Map,asinList:this.asinList,metadataToLazyLoad:this.metadataToLazyLoad}})}willUpdate(){var e,t;this.metadataContext.setValue({metadataToLazyLoad:(null===(e=this.metadataToLazyLoad)||void 0===e?void 0:e.slice(0,null!==(t=this.maxSkeletons)&&void 0!==t?t:this.metadataToLazyLoad.length))||[],latentDataMap:this.metadataContext.value.latentDataMap,asinList:this.asinList})}firstUpdated(){return i(this,void 0,void 0,(function*(){if(0===this.metadataToLazyLoad.length)return;yield this.updateComplete;const e=yield this.fetchLatentDataCallback(this.asinList);if(e)if(Array.isArray(e)){const t=new Map(e.map((e=>[e.asin,e])));this.metadataContext.setValue(Object.assign(Object.assign({},this.metadataContext.value),{latentDataMap:t}))}else Oe.logCountMetric("sll_invalid_ajax_response_format");else Oe.logCountMetric("sll_ajax_call_failure");this.metadataToLazyLoad=[]}))}render(){return G`<slot></slot>`}},t([we({type:Object})],e.SkeletalLoadingContextProvider.prototype,"fetchLatentDataCallback",void 0),t([we({type:Array})],e.SkeletalLoadingContextProvider.prototype,"metadataToLazyLoad",void 0),t([we({type:Array})],e.SkeletalLoadingContextProvider.prototype,"asinList",void 0),t([we({type:Number})],e.SkeletalLoadingContextProvider.prototype,"maxSkeletons",void 0),e.SkeletalLoadingContextProvider=t([Te("bds-skeleton-loading-context-provider")],e.SkeletalLoadingContextProvider),e.AsinMetadataContextProvider=class extends be{constructor(){super(...arguments),this.asinMetadataContext=new _e(this,{context:$e,initialValue:{asinMetadataCallbacks:[],asinList:this.asinList}})}updated(){this.asinMetadataContext.setValue({asinMetadataCallbacks:this.asinMetadataContext.value.asinMetadataCallbacks,asinList:this.asinList})}render(){return G`<slot></slot>`}},t([we({type:Array})],e.AsinMetadataContextProvider.prototype,"asinList",void 0),e.AsinMetadataContextProvider=t([Te("bds-asin-metadata-context-provider")],e.AsinMetadataContextProvider);const He="toggle-button-group";class Ne extends be{}t([ye({context:Pe,subscribe:!0})],Ne.prototype,"renderContext",void 0),e.ToggleButtonGroupContextProvider=class extends Ne{constructor(){super(...arguments),this.multipleSelect=!1,this.selectedButtonIds=[],this.toggleButtonGroupContext=new _e(this,{context:He,initialValue:{selectedButtonIds:[],multipleSelect:!0,groupName:void 0,onButtonToggle:this.handleButtonToggle.bind(this)}})}handleButtonToggle(e){var t;let i;if(this.selectedButtonIds.includes(e)){if(!this.multipleSelect&&1===this.selectedButtonIds.length)return;i=this.selectedButtonIds.filter((t=>t!==e))}else i=this.multipleSelect?[...this.selectedButtonIds,e]:[e];this.selectedButtonIds=i,null===(t=this.onButtonToggle)||void 0===t||t.call(this,e)}updated(){this.toggleButtonGroupContext.setValue({selectedButtonIds:[...this.selectedButtonIds],multipleSelect:this.multipleSelect,groupName:this.groupName,onButtonToggle:this.handleButtonToggle.bind(this)})}render(){return G`
            <div class="bds-toggle-button-group" role="group">
                <slot></slot>
            </div>
        `}},t([we({type:Boolean,reflect:!0})],e.ToggleButtonGroupContextProvider.prototype,"multipleSelect",void 0),t([we({type:Array,reflect:!0})],e.ToggleButtonGroupContextProvider.prototype,"selectedButtonIds",void 0),t([we({type:String,reflect:!0})],e.ToggleButtonGroupContextProvider.prototype,"groupName",void 0),t([we({type:Object,reflect:!0})],e.ToggleButtonGroupContextProvider.prototype,"onButtonToggle",void 0),e.ToggleButtonGroupContextProvider=t([Te("bds-toggle-button-group-context-provider")],e.ToggleButtonGroupContextProvider);const je="books-design-system-web",Ve="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem",We=`${Ve}/icons`,Ge=`${Ve}/book-placeholder-light.svg`,Qe=`${Ve}/book-placeholder-dark.svg`;var qe;function Xe(e,t,i,a="jpg",o,r,s=qe.HEIGHT,n=500){if(!e||"01RmK+J4pJL"===e)return"dark"===i?Qe:Ge;return[1,1.5,2,3,4].filter(((e,i)=>e*t<=n||0===i)).map((i=>function(e,t,i="jpg",a,o,r=qe.HEIGHT){return a?`https://m.media-amazon.com/images/I/${e}.${a}_U${r}${t}${o?`_FM${o}_`:""}.${i}?aicid=${je}`:`https://m.media-amazon.com/images/I/${e}._U${r}${t}${o?`_FM${o}_`:""}.${i}?aicid=${je}`}(e,t*i,a,o,r,s)+` ${i}x`)).join(", ")}function Ke(e){return`${We}/${e}`}!function(e){e.HEIGHT="Y",e.WIDTH="X"}(qe||(qe={}));var Ye=p`
    .coverImageWrapper {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: flex-start;
        margin-bottom: var(--bds-size-spacing-2x-small);
        position: relative;
    }

    .programBadge {
        max-width: 100%;
    }

    .coverImage {
        display: block;
    }

    .coverImageWrapper.contained .coverImage,
    .coverImageWrapper.containedBaseline .coverImage {
        max-width: 100%;
        object-fit: contain;
    }

    .coverImageWrapper.blurredBackdrop {
        margin: 0;
    }

    .coverImageWrapper.blurredBackdrop .coverImageWithBackdrop {
        position: relative;
        width: 100%;
        height: 100%;
    }

    .coverImageWrapper.blurredBackdrop .blurredCoverImageWrapper {
        overflow: hidden;
        background: var(--bds-color-expressive-brand-white);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: -1;
        position: relative;
    }

    .coverImageWrapper.blurredBackdrop.dark .blurredCoverImageWrapper::after {
        opacity: 0.2;
    }

    .coverImageWrapper.blurredBackdrop .blurredCoverImageWrapper picture {
        width: 113%;
        height: 113%;
        min-width: 113%;
        min-height: 113%;
        display: flex;
        background: rgba(0, 0, 0, 3%);
    }

    .coverImageWrapper.blurredBackdrop.dark .blurredCoverImageWrapper picture {
        background: rgba(0, 0, 0, 20%);
    }

    .coverImageWrapper.blurredBackdrop .blurredCoverImage {
        filter: blur(7px);
        min-width: 100%;
        min-height: 100%;
        opacity: 0.6;
        object-fit: cover;
    }

    .coverImageWrapper.blurredBackdrop .coverImage {
        position: absolute;
        max-width: calc(100% - 2 * var(--bds-size-spacing-small));
        object-fit: contain;
        left: 50%;
        transform: translateX(-50%);
    }

    .coverImageWrapper.blurredBackdrop bds-program-badge {
        position: absolute;
        display: flex;
        justify-content: center;
        max-width: calc(100% - 2 * var(--bds-size-spacing-small));
        object-fit: contain;
        top: var(--bds-size-spacing-x-small);
        left: 50%;
        transform: translateX(-50%);
    }

    .grid.coverImageWrapper .coverImageContainer {
        border-radius: 0 0 var(--bds-size-radius-small) var(--bds-size-radius-small);
        overflow: hidden;
        padding: var(--bds-size-spacing-none) var(--bds-size-spacing-x-small)
            var(--bds-size-spacing-x-small) var(--bds-size-spacing-x-small);
        position: relative;
    }

    .grid.coverImageWrapper .coverImageContainer::after {
        position: absolute;
        content: '';
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 3%);
        pointer-events: none;
    }

    .responsive.coverImageWrapper img {
        display: flex;
        justify-content: center;
        object-fit: contain;
        align-items: center;
        margin: auto;
        width: 100%;
    }

    .grid.coverImageWrapper img {
        aspect-ratio: 1 / 1.25;
    }

    .responsive.coverImageWrapper {
        display: block;
    }

    .deepstack {
        position: relative;
        width: 100%;
        height: 15px;
        display: block;
    }

    .domino {
        position: relative;
        height: 100%;
        display: inline-block;
        align-self: stretch;
        margin-left: 2px;
        margin-right: 10px;
    }

    .domino:dir(rtl) {
        margin-left: 10px;
        margin-right: 2px;
    }

    .coverImageWrapper > picture:has(bds-domino) {
        display: flex;
        flex-direction: row;
        align-items: flex-start;
        max-width: 100%;
    }

    .grid.coverImageWrapper .coverImageContainer bds-deepstack {
        width: calc(100% - 4 * var(--bds-size-spacing-x-small)); /* Adjust for padding */
        margin: 0 auto;
    }

    .grid.coverImageWrapper .coverImageContainer > picture:has(bds-domino) {
        display: flex;
        flex-direction: row;
        gap: 4px;
        align-items: flex-start;
    }

    .grid.coverImageWrapper .coverImageContainer picture:has(bds-domino) img {
        width: calc(100% - 24px); /* Adjust for domino width + gap */
    }

    .grid.coverImageWrapper .coverImageContainer .domino {
        width: 20px;
        height: 80%;
        flex-shrink: 0;
    }

    /* Class-based styling for aspect ratio constraints */
    .coverImageWrapper.fixedHeight {
        /* stylelint-disable-next-line csstools/value-no-unknown-custom-properties */
        min-width: calc(var(--image-height) * 0.6 - 2 * var(--bds-size-spacing-2x-small));
    }

    .coverImageWrapper.fixedHeight picture img {
        object-fit: contain;
        /* stylelint-disable-next-line csstools/value-no-unknown-custom-properties */
        max-width: calc(var(--image-height) * 1.3);
    }

    .shouldNormalize.coverImageWrapper.fixedHeight::after {
        position: absolute;
        content: '';
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 3%);
        border-radius: var(--bds-size-radius-x-small);
        pointer-events: none;
    }

    .shouldNormalize.coverImageWrapper.fixedHeight {
        padding: var(--bds-size-spacing-2x-small);
        /* stylelint-disable-next-line csstools/value-no-unknown-custom-properties */
        max-width: calc(var(--image-height) * 1.3 - 2 * var(--bds-size-spacing-2x-small));
    }

    .shouldNormalize.coverImageWrapper.fixedHeight picture img {
        /* stylelint-disable-next-line csstools/value-no-unknown-custom-properties */
        max-width: calc(var(--image-height) * 1.3 - 2 * var(--bds-size-spacing-2x-small));
    }

`;const Je=["layout","theme","pagetype","devicetype","operatingsystem","hostapplication","locale","marketplace"];function Ze(e,t,i){if(!t||!i)return e;let a=Object.assign({},e);return t.filter((e=>function(e,t){return Object.keys(e).every((i=>e[i]===t[i]))}(e.targeting,i))).sort(((e,t)=>function(e,t){const i=Object.keys(e.targeting).length-Object.keys(t.targeting).length;if(0!==i)return i;let a=0,o=0,r=0;const s=Object.keys(e.targeting),n=Object.keys(t.targeting);for(let e=0;e<s.length;e++){const t=Je.indexOf(s[e]),i=Je.indexOf(n[e]);a+=t-i,o=t>o?t:o,r=i>r?i:r}return 0===a?o-r:a}(e,t))).forEach((e=>{a=Object.assign(Object.assign({},a),e.overrides)})),a}class et extends be{getRenderConfiguration(e){return Ze(this.getDefaultConfiguration(),this.getConfigurationOverrides(),e?Object.assign(Object.assign({},this.renderContext),{layout:e}):this.renderContext)}}t([ye({context:Pe,subscribe:!0})],et.prototype,"renderContext",void 0);
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
var tt=(e,t,i)=>{for(var a of t)if(a[0]===e)return(0,a[1])();return null==i?void 0:i()},it=1,at=2,ot=e=>function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return{_$litDirective$:e,values:i}};
/**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class rt{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var st=(e,t)=>{var i,a,o=e._$AN;if(void 0===o)return!1;for(var r of o)null===(a=(i=r)._$AO)||void 0===a||a.call(i,t,!1),st(r,t);return!0},nt=e=>{var t,i;do{if(void 0===(t=e._$AM))break;(i=t._$AN).delete(e),e=t}while(0===(null==i?void 0:i.size))},lt=e=>{for(var t;t=e._$AM;e=t){var i=t._$AN;if(void 0===i)t._$AN=i=new Set;else if(i.has(e))break;i.add(e),ut(t)}};function dt(e){void 0!==this._$AN?(nt(this),this._$AM=e,lt(this)):this._$AM=e}function ct(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(t)if(Array.isArray(a))for(var r=i;r<a.length;r++)st(a[r],!1),nt(a[r]);else null!=a&&(st(a,!1),nt(a));else st(this,e)}var ut=e=>{var t,i,a,o;e.type==at&&(null!==(t=(a=e)._$AP)&&void 0!==t||(a._$AP=ct),null!==(i=(o=e)._$AQ)&&void 0!==i||(o._$AQ=dt))};class bt extends rt{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,i){super._$AT(e,t,i),lt(this),this.isConnected=e._$AU}_$AO(e){var t,i,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e!==this.isConnected&&(this.isConnected=e,e?null===(t=this.reconnected)||void 0===t||t.call(this):null===(i=this.disconnected)||void 0===i||i.call(this)),a&&(st(this,e),nt(this))}setValue(e){if((e=>void 0===e.strings)
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */(this._$Ct))this._$Ct._$AI(e,this);else{var t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}
/**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */var gt=()=>new ht;class ht{}var vt=new WeakMap,pt=ot(class extends bt{render(e){return q}update(e,t){var i,[a]=t,o=a!==this.G;return o&&void 0!==this.G&&this.ot(void 0),(o||this.rt!==this.lt)&&(this.G=a,this.dt=null===(i=e.options)||void 0===i?void 0:i.host,this.ot(this.lt=e.element)),q}ot(e){var t;if("function"==typeof this.G){var i=null!==(t=this.dt)&&void 0!==t?t:globalThis,a=vt.get(i);void 0===a&&(a=new WeakMap,vt.set(i,a)),void 0!==a.get(this.G)&&this.G.call(this.dt,void 0),a.set(this.G,e),void 0!==e&&this.G.call(this.dt,e)}else this.G.value=e}get rt(){var e,t,i;return"function"==typeof this.G?null===(t=vt.get(null!==(e=this.dt)&&void 0!==e?e:globalThis))||void 0===t?void 0:t.get(this.G):null===(i=this.G)||void 0===i?void 0:i.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}}),mt=e=>null!=e?e:q,_t=p`
    :host {
        line-height: 0;
    }

    .programBadge {
        max-width: 50vw;
    }
`
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */;
/**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */function ft(e,t,i){return e?t():null==i?void 0:i()}function yt(e){var t;if("object"==typeof e)return e;const i=(t=class extends e{constructor(){super(...arguments),this.isLoading=!1,this.skeletonType="metadata"}connectedCallback(){super.connectedCallback(),new ve(this,{context:Ie,callback:e=>{this.context=e},subscribe:!0})}shouldShowSkeleton(){var e;if(this.isLoading)return!0;if(!(null===(e=this.context)||void 0===e?void 0:e.metadataToLazyLoad))return!1;const t=this.constructor.elementProperties;if(!t)return!1;const i=new Set(t.keys()),a=this.context.metadataToLazyLoad.filter((e=>i.has(e)));if(!a.length)return!1;return!a.some((e=>{const t=this[e];return t&&(!Array.isArray(t)||t.length>0)}))}render(){return ft(this.shouldShowSkeleton(),(()=>G`<bds-skeleton-loader
                    type="${this.skeletonType}"
                    .width=${this.skeletonWidth}
                    .widthPx=${this.skeletonWidthPx}
                    .heightPx=${this.skeletonHeightPx}></bds-skeleton-loader>`),(()=>super.render()))}},function(e,t,i){"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:i?"".concat(i," ",t):t})}(t,"enhanced"),t.properties=Object.assign(Object.assign({},e.properties||{}),{isLoading:{type:Boolean},skeletonType:{type:String},skeletonWidth:{type:Number},skeletonWidthPx:{type:Number},skeletonHeightPx:{type:Number}}),t);return i}var xt=p`
    @keyframes wave {
        0% {
            background-position: 150% 0;
        }

        80% {
            background-position: 0% 0;
        }
    }

    @keyframes fade {
        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.2;
        }
    }

    .placeholder {
        background: linear-gradient(
            90deg,
            var(--bds-color-expressive-gradients-skeleton-loader-stop-1) 10%,
            var(--bds-color-expressive-gradients-skeleton-loader-stop-2) 50%,
            var(--bds-color-expressive-gradients-skeleton-loader-stop-1) 90%
        );
        display: flex;
        justify-content: center;
        align-items: center;
        background-size: 300% 100%;
        margin: var(--bds-size-utils-padding-1) 0;
        animation: wave 2000ms infinite 500ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    @media (prefers-reduced-motion: reduce) {
        .placeholder {
            animation: fade 2000ms infinite 500ms ease-in-out;
        }
    }

    .header {
        width: var(--skeleton-width, var(--bds-size-tap-target-minimum));
        height: var(--skeleton-height, var(--bds-size-line-height-functional-body-small));
    }

    .metadata {
        width: var(--skeleton-width, var(--bds-size-tap-target-minimum));
        height: var(--skeleton-height, var(--bds-size-line-height-functional-body-small));
    }

    .text {
        width: var(--skeleton-width, var(--bds-size-tap-target-minimum));
        height: var(--skeleton-height, var(--bds-size-line-height-functional-body-small));
        border-radius: var(--bds-size-radius-small);
    }

    .image {
        width: var(--skeleton-width, calc(var(--bds-size-tap-target-minimum) * 4));
        height: var(--skeleton-height, calc(var(--bds-size-tap-target-minimum) * 6));
        border-radius: var(--bds-size-radius-small);
    }

    .button {
        width: var(--skeleton-width, calc(var(--bds-size-tap-target-minimum) * 2.5));
        height: var(--skeleton-height, var(--bds-size-tap-target-minimum));
        border-radius: var(--bds-size-radius-circle);
    }

    .button.small {
        width: var(--skeleton-width, calc(var(--bds-size-tap-target-minimum) * 2));
        height: var(--skeleton-height, var(--bds-size-line-height-functional-body-small));
    }
`
/**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */,kt="important",wt=" !"+kt,Ct=ot(class extends rt{constructor(e){var t;if(super(e),e.type!==it||"style"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,i)=>{var a=e[i];return null==a?t:t+"".concat(i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(a,";")}),"")}update(e,t){var[i]=t,{style:a}=e.element;if(void 0===this.ht){for(var o in this.ht=new Set,i)this.ht.add(o);return this.render(i)}for(var r in this.ht.forEach((e=>{null==i[e]&&(this.ht.delete(e),e.includes("-")?a.removeProperty(e):a[e]="")})),i){var s=i[r];if(null!=s){this.ht.add(r);var n="string"==typeof s&&s.endsWith(wt);r.includes("-")||n?a.setProperty(r,n?s.slice(0,-11):s,n?kt:""):a[r]=s}}return Q}});const Bt={metadata:{widthPx:90,heightPx:20},header:{widthGridUnits:6,heightPx:20},text:{widthPx:200,heightPx:20},image:{widthPx:178,heightPx:266},button:{widthPx:115,heightPx:31},"button-small":{widthPx:91,heightPx:22}};var Pt;e.SkeletonLoader=class extends Ne{constructor(){super(...arguments),this.type="metadata",this.size="base"}getSkeletonStyles(){const e={};if(void 0!==this.widthPx)e["--skeleton-width"]=`${this.widthPx}px`;else if(void 0!==this.width&&("image"===this.type||"text"===this.type||"button"===this.type||"header"===this.type||"metadata"===this.type)){const t=this.width/12*100;e["--skeleton-width"]=`${t}%`}return void 0!==this.heightPx&&(e["--skeleton-height"]=`${this.heightPx}px`),e}render(){var e,t;const i=this.getSkeletonStyles();return G`<div
            class="placeholder ${this.type} ${this.size} ${null!==(t=null===(e=this.renderContext)||void 0===e?void 0:e.theme)&&void 0!==t?t:""}"
            style=${Ct(i)}
            aria-busy="true"
            role="status"
            aria-live="polite"></div>`}},e.SkeletonLoader.styles=xt,t([we({type:String})],e.SkeletonLoader.prototype,"type",void 0),t([we({type:String})],e.SkeletonLoader.prototype,"size",void 0),t([we({type:Number})],e.SkeletonLoader.prototype,"width",void 0),t([we({type:Number})],e.SkeletonLoader.prototype,"widthPx",void 0),t([we({type:Number})],e.SkeletonLoader.prototype,"heightPx",void 0),t([ye({context:Pe,subscribe:!0})],e.SkeletonLoader.prototype,"renderContext",void 0),e.SkeletonLoader=t([Te("bds-skeleton-loader"),Ue],e.SkeletonLoader),e.ProgramBadge=Pt=class extends Ne{constructor(){super(...arguments),this.skeletonType="metadata",this.skeletonWidthPx=Bt.metadata.widthPx,this.skeletonHeightPx=Bt.metadata.heightPx,this.badgeExtension=Pt.DEFAULT_BADGE_EXTENSION,this.badgeImageHeightPx=14}shouldRenderBadge(){return!!this.badgePhysicalId}firstUpdated(){this.badgeAltText&&this.setAttribute("data-csa-c-badge-alt-text",this.badgeAltText)}renderBadge(){var e,t,i;return this.badgePhysicalId?G`<img
            style="height: ${this.badgeImageHeightPx}px;"
            class="programBadge"
            alt="${null!==(e=this.badgeAltText)&&void 0!==e?e:""}"
            src="${t=this.badgePhysicalId,i=this.badgeExtension||Pt.DEFAULT_BADGE_EXTENSION,`https://m.media-amazon.com/images/I/${t}.${i}?aicid=${je}`}" />`:q}render(){return ft(this.shouldRenderBadge(),(()=>this.renderBadge()))}},e.ProgramBadge.styles=_t,e.ProgramBadge.DEFAULT_BADGE_EXTENSION="svg",t([we({type:String})],e.ProgramBadge.prototype,"badgePhysicalId",void 0),t([we({type:String})],e.ProgramBadge.prototype,"badgeAltText",void 0),t([we({type:String})],e.ProgramBadge.prototype,"badgeExtension",void 0),t([we({type:Number})],e.ProgramBadge.prototype,"badgeImageHeightPx",void 0),e.ProgramBadge=Pt=t([Te("bds-program-badge"),Ue,yt],e.ProgramBadge);const $t=(e,t=!1)=>v(`\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: ${t?"-webkit-inline-box":"-webkit-box"};\n        -webkit-line-clamp: ${e};\n        -webkit-box-orient: vertical;\n    `),Tt=e=>{try{return e/parseInt(getComputedStyle(document.documentElement).fontSize)}catch(t){return e/16}};var St=p`
    #deepstack {
        height: 100%;
        position: relative;
    }

    #deepstack-bar-1 {
        height: 4px;
        width: 80%;
        background-color: #949185;
        position: absolute;
        top: 0;
        left: 10%;
    }

    #deepstack-bar-2 {
        height: 4px;
        position: absolute;
        top: 50%;
        left: 5%;
        width: 90%;
        background-color: #949185;
    }
`;e.DeepStack=class extends be{constructor(){super(...arguments),this.shouldShowDeepstack=!1}render(){return G` <div id="deepstack">
            <div id="deepstack-bar-1"></div>
            <div id="deepstack-bar-2"></div>
        </div>`}},e.DeepStack.styles=St,t([we({type:Boolean})],e.DeepStack.prototype,"shouldShowDeepstack",void 0),e.DeepStack=t([Te("bds-deepstack")],e.DeepStack);var zt=p`
    #domino {
        height: 100%;
        width: 100%;
        position: relative;
    }

    #domino-bar-1 {
        height: 90%;
        width: 4px;
        background-color: #949185;
        position: absolute;
        top: 5%;
        left: 2px;
        border-radius: 0 2px 2px 0;
    }

    #domino-bar-1:dir(rtl) {
        left: auto;
        right: 2px;
    }

    #domino-bar-2 {
        height: 80%;
        width: 4px;
        background-color: #949185;
        position: absolute;
        top: 10%;
        left: 10px;
        border-radius: 0 2px 2px 0;
    }

    #domino-bar-2:dir(rtl) {
        left: auto;
        right: 10px;
    }
`;e.Domino=class extends be{render(){return G`
            <div id="domino">
                <div id="domino-bar-1"></div>
                <div id="domino-bar-2"></div>
            </div>
        `}},e.Domino.styles=zt,e.Domino=t([Te("bds-domino")],e.Domino);const It="Program",At="LimitedTimeFree",Lt="WaitForFree",Rt=new Set(["responsiveToContainer","grid"]),Ot={coverImageHeightPx:266,coverImageWidthPx:void 0,wrapperHeight:266,wrapperWidth:void 0,badgeImageHeightPx:14,freeProgramBadgeHeightPx:18,badgeMarginSizePx:4,disableProgramBadge:!1},Ft=[{targeting:{layout:"contained"},overrides:{coverImageHeightPx:180,wrapperHeight:180,wrapperWidth:150}},{targeting:{layout:"containedBaseline"},overrides:{coverImageHeightPx:200,wrapperHeight:200,wrapperWidth:194}},{targeting:{layout:"blurredBackdrop"},overrides:{coverImageHeightPx:170,wrapperHeight:190,wrapperWidth:Tt(150)}},{targeting:{layout:"grid"},overrides:{coverImageHeightPx:247.5,wrapperHeight:void 0,wrapperWidth:void 0,disableProgramBadge:!0}},{targeting:{layout:"responsiveToContainer"},overrides:{coverImageHeightPx:247.5,wrapperHeight:void 0,wrapperWidth:void 0,disableProgramBadge:!0}},{targeting:{devicetype:"mobile"},overrides:{badgeImageHeightPx:10,freeProgramBadgeHeightPx:24}},{targeting:{pagetype:"kindleHome"},overrides:{badgeImageHeightPx:11}},{targeting:{layout:"fixedHeight",devicetype:"tablet"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",devicetype:"mobile"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",pagetype:"kindleHome"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",pagetype:"eBooksTYPMessage",devicetype:"mobile"},overrides:{coverImageHeightPx:180,wrapperHeight:180}},{targeting:{layout:"fixedHeight",pagetype:"eBooksTYPMessage",devicetype:"tablet"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",pagetype:"eBooksTYPMessage",devicetype:"desktop"},overrides:{coverImageHeightPx:210,wrapperHeight:210}},{targeting:{layout:"fixedHeight",pagetype:"detailPage"},overrides:{disableProgramBadge:!0,coverImageHeightPx:160,wrapperHeight:160}},{targeting:{layout:"fixedHeight",pagetype:"detailPage",devicetype:"mobile"},overrides:{coverImageHeightPx:160,wrapperHeight:160}},{targeting:{layout:"fixedHeight",pagetype:"detailPage",devicetype:"tablet"},overrides:{coverImageHeightPx:160,wrapperHeight:160}},{targeting:{layout:"fixedHeight",pagetype:"detailPage",devicetype:"desktop"},overrides:{coverImageHeightPx:160,wrapperHeight:160}},{targeting:{layout:"contained",pagetype:"kindleHome"},overrides:{wrapperWidth:130}},{targeting:{layout:"containedBaseline",pagetype:"kindleHome"},overrides:{wrapperWidth:130}},{targeting:{layout:"list"},overrides:{coverImageWidthPx:100,wrapperWidth:100,wrapperHeight:180,coverImageHeightPx:180,disableProgramBadge:!0}}];e.BookCoverImage=class extends et{constructor(){super(...arguments),this.imageRef=gt(),this.blurredImageRef=gt(),this.wrapperRef=gt(),this.layout="fixedHeight",this.coverImageExtension="jpg",this.badgeExtension=e.ProgramBadge.DEFAULT_BADGE_EXTENSION,this.useNoMetadataLayout=!1,this.shouldRenderDeepStack=!1,this.shouldRenderDomino=!1,this.enableFocusSpacing=!1}getImageSource(){var e;return null===(e=this.imageRef.value)||void 0===e?void 0:e.currentSrc}getDefaultConfiguration(){return Ot}getConfigurationOverrides(){return Ft}getImageRenderHeight(e){const t=e.coverImageHeightPx,i=this.whichBadgeToRender(e);let a=0;return i===It?a=e.badgeImageHeightPx+e.badgeMarginSizePx:i!==At&&i!==Lt||(a=e.freeProgramBadgeHeightPx+e.badgeMarginSizePx),this.shouldRenderDeepStack?t-a-15:t-a}getResponsiveImageCssClass(){return Rt.has(this.layout)?"responsive":void 0}whichBadgeToRender(e){if(!e.disableProgramBadge)return this.badgePhysicalId?It:this.limitedTimeFreeBadge?At:this.waitForFreeBadge&&this.waitForFreeBadge.badgeLabel&&this.waitForFreeBadge.status?Lt:void 0}renderProgramBadge(e){return tt(this.whichBadgeToRender(e),[[It,()=>G` <bds-program-badge
                    badgePhysicalId=${mt(this.badgePhysicalId)}
                    badgeAltText=${mt(this.badgeAltText)}
                    badgeExtension=${this.badgeExtension}
                    badgeImageHeightPx=${e.badgeImageHeightPx}
                    style="margin-bottom: ${e.badgeMarginSizePx}px">
                </bds-program-badge>`],[At,()=>G`<bds-limited-time-free-badge
                    badgeLabel=${mt(this.limitedTimeFreeBadge)}
                    style="margin-bottom: ${e.badgeMarginSizePx}px">
                </bds-limited-time-free-badge>`],[Lt,()=>G`<bds-wait-for-free-badge
                    badgeLabel=${this.waitForFreeBadge.badgeLabel}
                    status=${this.waitForFreeBadge.status}
                    style="margin-bottom: ${e.badgeMarginSizePx}px">
                </bds-wait-for-free-badge>`]])}renderCoverImageWithBlurredBackdrop(e){var t,i,a,o,r;const s=Xe(this.coverImagePhysicalId,e.coverImageHeightPx,null!==(i=null===(t=this.renderContext)||void 0===t?void 0:t.theme)&&void 0!==i?i:"light",this.coverImageExtension,this.imageStyleCode,"webp"),n=Xe(this.coverImagePhysicalId,e.coverImageHeightPx,null!==(o=null===(a=this.renderContext)||void 0===a?void 0:a.theme)&&void 0!==o?o:"light",this.coverImageExtension,this.imageStyleCode),l=this.useNoMetadataLayout?this.renderProgramBadge(e):"",d=l?`(${e.badgeImageHeightPx}px + var(--bds-size-utils-padding-6))`:"0px",c=l?"var(--bds-size-spacing-x-small)":"var(--bds-size-spacing-small)",u=this.useNoMetadataLayout?"var(--bds-size-spacing-small)":"var(--bds-size-spacing-x-small)",b=`calc(100% - ${c} - ${d} - ${u})`,g=`calc(${c} + ${d})`,h="var(--bds-size-spacing-x-small)",v=l?`(${c} + ${d} + ${h})`:"0px",p=`calc(100% - ${v} - ${this.useNoMetadataLayout?"0px":`(${u} + ${h})`})`;return G`
            <div
                class="coverImageWithBackdrop"
                style="${this.useNoMetadataLayout?"align-content: end;":""}">
                ${l}
                <div
                    class="blurredCoverImageWrapper"
                    aria-hidden="true"
                    style="height: ${p}; margin-top: calc(${v})">
                    <picture>
                        <source srcset="${s}" type="image/webp" />
                        <source srcset="${n}" type="image/jpeg" />
                        <img
                            ${pt(this.blurredImageRef)}
                            class="blurredCoverImage"
                            alt=""
                            @error="${this.handleBlurredImageLoadError}" />
                    </picture>
                </div>
                <picture>
                    <source srcset="${s}" type="image/webp" />
                    <source srcset="${n}" type="image/jpeg" />
                    <img
                        ${pt(this.imageRef)}
                        class="coverImage"
                        style="height: ${b}; top: ${g};"
                        alt="${null!==(r=this.coverImageAltText)&&void 0!==r?r:""}"
                        @error="${this.handleCoverImageLoadError}" />
                </picture>
            </div>
        `}getCoverImageStyle(e){switch(this.layout){case"grid":return`min-height: ${e/2}px;`;case"list":return`max-height: ${e}px; width: auto; max-width: 25vw;`;case"containedBaseline":return`max-height: ${e}px; min-height: ${e/2}px; box-shadow: 0px 4px 12px 0px #0f111140;`;default:return`max-height: ${e}px; min-height: ${e/2}px;`}}handleImageLoadError(e){var t,i;const a=e.value;a&&!a.src&&(null===(t=a.parentElement)||void 0===t||t.querySelectorAll("source").forEach((e=>e.srcset="")),a.src="dark"===(null===(i=this.renderContext)||void 0===i?void 0:i.theme)?Qe:Ge)}handleCoverImageLoadError(){this.handleImageLoadError(this.imageRef)}handleBlurredImageLoadError(){this.handleImageLoadError(this.blurredImageRef)}shouldNormalize(){return!(!this.aspectRatio||!(this.aspectRatio<.6||this.aspectRatio>1.3)||"fixedHeight"!==this.layout)}handleImageLoad(e){if("fixedHeight"!==this.layout)return;const t=this.imageRef.value;if((null==t?void 0:t.clientWidth)&&(null==t?void 0:t.clientHeight)&&(this.aspectRatio=(null==t?void 0:t.clientWidth)/(null==t?void 0:t.clientHeight)),this.shouldNormalize()){const i=this.wrapperRef.value;i&&(i.classList.add("shouldNormalize"),i.style.height=`calc(${e}px - 2 * var(--bds-size-spacing-2x-small))`),t&&(t.style.height=`calc(${e}px - 2 * var(--bds-size-spacing-2x-small))`)}}renderCoverImage(e,t){var i,a,o,r,s;const n="list"==this.layout&&t,l=n?t:e,d=n?qe.WIDTH:qe.HEIGHT,c=this.shouldRenderDomino?l-25:l;return G`<picture class="${this.layout}">
            ${ft(this.shouldRenderDeepStack,(()=>this.renderDeepStack()))}
            <source
                srcset="
                    ${Xe(this.coverImagePhysicalId,c,null!==(a=null===(i=this.renderContext)||void 0===i?void 0:i.theme)&&void 0!==a?a:"light",this.coverImageExtension,this.imageStyleCode,"webp",d)}
                "
                type="image/webp" />
            <source
                srcset="
                    ${Xe(this.coverImagePhysicalId,c,null!==(r=null===(o=this.renderContext)||void 0===o?void 0:o.theme)&&void 0!==r?r:"light",this.coverImageExtension,this.imageStyleCode,void 0,d)}
                "
                type="image/jpeg" />
            <img
                ${pt(this.imageRef)}
                style="${this.getCoverImageStyle(e)}"
                height="${mt("fixedHeight"==this.layout?e:void 0)}"
                class="coverImage ${this.getResponsiveImageCssClass()}"
                alt="${null!==(s=this.coverImageAltText)&&void 0!==s?s:""}"
                @error="${this.handleCoverImageLoadError}"
                @load="${()=>this.handleImageLoad(e)}" />
            ${ft(this.shouldRenderDomino,(()=>this.renderDomino(e)))}
        </picture>`}renderDefaultCoverImage(e){return G`
            ${this.renderProgramBadge(e)}
            ${this.renderCoverImage(this.getImageRenderHeight(e),e.coverImageWidthPx)}
        `}renderDeepStack(){return G` <bds-deepstack class="deepstack"> </bds-deepstack> `}renderDomino(e){let t;return"grid"===this.layout?t=`height:${e-.2*e}px`:("responsiveToContainer"===this.layout||"list"===this.layout)&&(t="height: inherit"),G` <bds-domino style=${mt(t)} class="domino"> </bds-domino> `}renderGridCoverImage(e){return G`
            <div class="coverImageBlock">
                <div class="coverImageContainer">
                    ${this.renderCoverImage(e.coverImageHeightPx)}
                </div>
            </div>
        `}getCoverImageWrapperStyles(e){const t=this.enableFocusSpacing?"padding: 4px; margin: -4px;":"",i="fixedHeight"===this.layout?`--image-height: ${this.getImageRenderHeight(e)}px;`:"";switch(this.layout){case"contained":return`\n                    height: ${e.wrapperHeight}px;\n                    width: ${e.wrapperWidth}px;\n                    align-items: ${this.useNoMetadataLayout?"center":"flex-start"};\n                    ${t}\n                `;case"containedBaseline":return`\n                    height: ${e.wrapperHeight}px;\n                    width: ${e.wrapperWidth}px;\n                    align-items: center;\n                    justify-content: flex-end;\n                    ${t}\n                `;case"blurredBackdrop":return`\n                    height: ${e.wrapperHeight}px;\n                    width: ${e.wrapperWidth}rem;\n                    min-width: 100%;\n                    ${t}\n                `;case"grid":case"responsiveToContainer":return t||void 0;case"list":return`\n                    width: ${e.wrapperWidth}px;\n                    max-width: 25vw;\n                    max-height: ${e.wrapperHeight}px;\n                    align-items: center;\n                    justify-content: flex-start;\n                    ${t}\n                `;default:return`height: ${e.wrapperHeight}px; ${t} ${i}`}}applyDimensionOverrides(e){const t=Object.assign({},e);return this.height&&(t.wrapperHeight=this.height,"blurredBackdrop"===this.layout?t.coverImageHeightPx=this.height-20:t.coverImageHeightPx=this.height),this.width&&"fixedHeight"!==this.layout&&(t.coverImageWidthPx=this.width,t.wrapperWidth="blurredBackdrop"===this.layout?Tt(this.width):this.width),t}getRenderConfiguration(e){const t=super.getRenderConfiguration(e);return this.applyDimensionOverrides(t)}render(){var e;const t=this.getRenderConfiguration(this.layout);return G` <div
            ${pt(this.wrapperRef)}
            class="coverImageWrapper ${this.layout} ${null===(e=this.renderContext)||void 0===e?void 0:e.theme} ${this.getResponsiveImageCssClass()}"
            style="${mt(this.getCoverImageWrapperStyles(t))}">
            ${tt(this.layout,[["blurredBackdrop",()=>this.renderCoverImageWithBlurredBackdrop(t)],["grid",()=>this.renderGridCoverImage(t)],["list",()=>this.renderDefaultCoverImage(t)]],(()=>this.renderDefaultCoverImage(t)))}
        </div>`}},e.BookCoverImage.styles=Ye,t([we({type:String})],e.BookCoverImage.prototype,"layout",void 0),t([we({type:Number})],e.BookCoverImage.prototype,"height",void 0),t([we({type:Number})],e.BookCoverImage.prototype,"width",void 0),t([we({type:String})],e.BookCoverImage.prototype,"coverImagePhysicalId",void 0),t([we({type:String})],e.BookCoverImage.prototype,"coverImageExtension",void 0),t([we({type:String})],e.BookCoverImage.prototype,"coverImageAltText",void 0),t([we({type:String})],e.BookCoverImage.prototype,"badgePhysicalId",void 0),t([we({type:String})],e.BookCoverImage.prototype,"badgeAltText",void 0),t([we({type:String})],e.BookCoverImage.prototype,"badgeExtension",void 0),t([we({type:Object})],e.BookCoverImage.prototype,"waitForFreeBadge",void 0),t([we({type:String})],e.BookCoverImage.prototype,"limitedTimeFreeBadge",void 0),t([we({type:Boolean})],e.BookCoverImage.prototype,"useNoMetadataLayout",void 0),t([we({type:Boolean})],e.BookCoverImage.prototype,"shouldRenderDeepStack",void 0),t([we({type:Boolean})],e.BookCoverImage.prototype,"shouldRenderDomino",void 0),t([we({type:Boolean})],e.BookCoverImage.prototype,"enableFocusSpacing",void 0),t([we({type:Number})],e.BookCoverImage.prototype,"aspectRatio",void 0),t([we({type:String})],e.BookCoverImage.prototype,"imageStyleCode",void 0),e.BookCoverImage=t([Te("bds-book-cover-image"),Ue],e.BookCoverImage);var Dt=p`
    :host {
        display: flex;
        font-family: var(--bds-font-family-functional-label);
        /* TODO: add in a max-width for badge label for extreme cases */
    }

    .badge-label {
        color: var(--bds-color-functional-neutral-on-surface-inverse-fixed, #fff);
        border-radius: var(--bds-size-radius-x-small);
        background-color: var(
            --bds-color-functional-supplemental-discount,
            #cc0c39
        ); /* Remove fallback once token is available */
        padding: var(--bds-size-spacing-2x-small) var(--bds-size-utils-padding-6);
        align-items: flex-start;
        text-align: center;
        font-size: var(--bds-size-font-functional-label-small);
        font-style: normal;
        font-weight: 700;
        line-height: var(--bds-size-line-height-functional-label-small);
        text-wrap: nowrap;
        overflow: hidden;
    }
`;class Mt{constructor(e){this.data={},this.transpose(e)}set(e,t){var i;if(!e||""===e)return;const a=e.match(/[\w]+|\[\]|([^[[\w]\]]|["'](.*?)['"])/g);let o,r=this.data,s=null,n=null;if(!a)return;const l=function(e,t,i){"[]"===t?e.push(i):e[t]=i};for(;a.length>0;)o=null===(i=a.shift())||void 0===i?void 0:i.replace(/["']/g,""),o&&(isNaN(+o)&&"[]"!==o?"string"==typeof o&&("object"==typeof r&&null!==r||(r={},s&&n&&l(s,n,r))):Array.isArray(r)||(r=[],s&&n&&l(s,n,r)),s=r,n=o,r=r[o]);return s&&n&&l(s,n,t),this}transpose(e){if(e)for(const t in e)this.set(t,e[t])}getData(){return this.data}}function Et(e){return!e||0===Object.keys(e).length}const Ut=()=>p`
        .offscreen {
            position: absolute;
            z-index: -1;
            opacity: 0;
            clip: rect(0, 0, 0, 0);
            transform: translateX(-100%);
            height: 1px;
            overflow: hidden;
        }

        [dir="rtl"] .offscreen {
            transform: translateX(100%);
        }
    `;var Ht=[p`
    :host {
        font-family: var(--bds-font-family-functional-label);
    }

    :host > bds-rich-content {
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .rich-content-link {
        display: inline-block; /* Setting display to inline-block to remove trailing underline that goes beyond link */
        color: #2162a1;
    }

    /* To-Do: Update hexcode to bds token: https://issues.amazon.com/issues/BDS-1026 */
    a {
        color: #2162a1; /* setting links to have color as that of aui link, bds-tokens are missing this color */
    }
`,Ut()];
/**
     * @license
     * Copyright 2017 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */class Nt extends rt{constructor(e){if(super(e),this.et=q,e.type!==at)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===q||null==e)return this.ft=void 0,this.et=e;if(e===Q)return e;if("string"!=typeof e)throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;var t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}}Nt.directiveName="unsafeHTML",Nt.resultType=1;var jt=ot(Nt),Vt=p`
    :host {
        font-family: var(--bds-font-family-functional-label);
        display: inline-block;
    }

    .countdown-container {
        display: flex;
        flex-direction: column;
        gap: var(--bds-size-spacing-x-small);
    }

    .timer-section {
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-2x-small);
    }

    /* Promotional styling */
    .time.promotional,
    .ended.promotional {
        color: var(--bds-color-functional-supplemental-discount);
    }
`
/**
     * @license
     * Copyright 2018 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */,Wt=ot(class extends rt{constructor(e){var t;if(super(e),e.type!==it||"class"!==e.name||(null===(t=e.strings)||void 0===t?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,t){var i,a,[o]=t;if(void 0===this.it){for(var r in this.it=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e)))),o)o[r]&&!(null===(i=this.nt)||void 0===i?void 0:i.has(r))&&this.it.add(r);return this.render(o)}var s=e.element.classList;for(var n in this.it.forEach((e=>{e in o||(s.remove(e),this.it.delete(e))})),o){var l=!!o[n];l===this.it.has(n)||(null===(a=this.nt)||void 0===a?void 0:a.has(n))||(l?(s.add(n),this.it.add(n)):(s.remove(n),this.it.delete(n)))}return Q}}),Gt=p`
    :host {
        display: block;
        width: 100%;
    }

    .progress-container {
        position: relative;
        width: 100%;
        height: 10px;
    }

    .progress-fill {
        height: 100%;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: flex-end;
    }

    .progress-fill.animated {
        transition: width 1s ease-out;
    }

    .progress-image {
        position: absolute;
        top: 50%;
        transform: translate(50%, -50%);
    }

    /* Progress bar types */
    .progress-container.default {
        border: var(--bds-size-line-weight-small) solid var(--bds-color-functional-core-primary);
    }

    .progress-fill.default {
        background-color: var(--bds-color-functional-core-primary);
    }

    .progress-container.promotional {
        border: 1px solid var(--bds-color-functional-supplemental-discount);
    }

    .progress-fill.promotional {
        background-color: var(--bds-color-functional-supplemental-discount);
    }
`;e.ProgressBar=class extends Ne{constructor(){super(...arguments),this.percentage=0,this.type="default",this.animated=!0}get clampedPercentage(){return Math.max(0,Math.min(100,this.percentage))}render(){const e={"progress-container":!0,[this.type]:!0},t={"progress-fill":!0,[this.type]:!0,animated:this.animated};return G`
            <div class="${Wt(e)}">
                <div class="${Wt(t)}" style="width: ${this.clampedPercentage}%">
                    ${ft(this.imageUrl,(()=>G`
                            <img class="progress-image" src="${mt(this.imageUrl)}" alt="" />
                        `))}
                </div>
            </div>
        `}},e.ProgressBar.styles=Gt,t([we({type:Number})],e.ProgressBar.prototype,"percentage",void 0),t([we({type:String})],e.ProgressBar.prototype,"type",void 0),t([we({type:String})],e.ProgressBar.prototype,"imageUrl",void 0),t([we({type:Boolean})],e.ProgressBar.prototype,"animated",void 0),e.ProgressBar=t([Te("bds-progress-bar"),Ue],e.ProgressBar);const Qt="00:00";e.CountdownTimer=class extends Ne{constructor(){super(...arguments),this.targetTime="",this.endedText=Qt,this.showProgressBar=!1,this.type="default",this.remaining=0,this.ended=!1,this.totalDuration=0,this.progressPercentage=0}connectedCallback(){super.connectedCallback(),this.start()}disconnectedCallback(){super.disconnectedCallback(),this.clearTimer()}updated(e){e.has("targetTime")&&this.start()}clearTimer(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=void 0)}start(){this.clearTimer(),this.ended=!1;const e=new Date(this.targetTime).getTime(),t=Date.now();this.totalDuration=Math.max(0,e-t),this.tick(e),this.intervalId=window.setInterval((()=>this.tick(e)),1e3)}tick(e){const t=e-Date.now();t<=0?(this.remaining=0,this.ended=!0,this.progressPercentage=0,this.clearTimer()):(this.remaining=t,this.progressPercentage=this.totalDuration>0?t/this.totalDuration*100:0)}format(e){const t=Math.floor(e/1e3),i=Math.floor(t/3600),a=Math.floor(t%3600/60),o=t%60;let r="";return i>0&&(r+=`${String(i).padStart(2,"0")}:`),a>0&&(r+=`${String(a).padStart(2,"0")}:`),r+=`${String(o).padStart(2,"0")}`,r}render(){const e=this.ended?G`<span class="ended ${this.type}">${this.endedText}</span>`:G`<span class="time ${this.type}">${this.format(this.remaining)}</span>`;return G`
            <div class="countdown-container">
                <div class="timer-section">
                    ${ft(this.prefixText,(()=>G`<span class="prefix-text">${this.prefixText}</span>`))}
                    ${e}
                </div>
                ${ft(this.showProgressBar,(()=>G`
                        <bds-progress-bar
                            percentage="${this.progressPercentage}"
                            type="${this.type}"
                            imageUrl="${mt(this.progressBarImage)}"
                            animated></bds-progress-bar>
                    `))}
            </div>
        `}},e.CountdownTimer.styles=Vt,t([we({type:String})],e.CountdownTimer.prototype,"targetTime",void 0),t([we({type:String})],e.CountdownTimer.prototype,"endedText",void 0),t([we({type:String})],e.CountdownTimer.prototype,"prefixText",void 0),t([we({type:Boolean})],e.CountdownTimer.prototype,"showProgressBar",void 0),t([we({type:String})],e.CountdownTimer.prototype,"progressBarImage",void 0),t([we({type:String})],e.CountdownTimer.prototype,"type",void 0),t([Ce()],e.CountdownTimer.prototype,"remaining",void 0),t([Ce()],e.CountdownTimer.prototype,"ended",void 0),t([Ce()],e.CountdownTimer.prototype,"totalDuration",void 0),t([Ce()],e.CountdownTimer.prototype,"progressPercentage",void 0),e.CountdownTimer=t([Te("bds-countdown-timer"),Ue],e.CountdownTimer);e.RichContent=class extends Ne{getTimerAriaLabel(e){if(!e)return"";const t=new Date(e).getTime()-Date.now();if(t<=0)return Qt;const i=Math.floor(t/1e3),a=Math.floor(i/3600),o=Math.floor(i%3600/60),r=i%60;let s="";return a>0&&(s+=`${a} hour${1!==a?"s":""} `),(o>0||a>0)&&(s+=`${o} minute${1!==o?"s":""} `),r>0&&0===a&&0===o&&(s+=`${r} second${1!==r?"s":""} `),`${s.trim()}`}getRichContentAriaLabel(){const e=this.content;if(!e)return"";const t=e=>e.replace(/<[^>]*>/g,""),i=e=>{var a;return"string"==typeof e?t(e):e.text?t(e.text):e.content?i(e.content):e.fragments?e.fragments.map(i).join(" "):e.link?i(e.link):e.headingContent?i(e.headingContent):e.paragraph?i(e.paragraph):e.semanticContent?i(e.semanticContent):e.countdownTimer?(this.richContentRole="timer",this.getTimerAriaLabel(null===(a=e.countdownTimer)||void 0===a?void 0:a.targetTime)):""};return i(e)}renderContent(e){var t;return e.text?G`${jt(e.text)}`:e.fragments&&e.fragments.length>0?G`${e.fragments.map((e=>this.renderContent(e)))}`:(null===(t=e.semanticContent)||void 0===t?void 0:t.content)?((e,t)=>{const i=e.semanticContent;if(!i)return q;const a=!!i.strong,o=!!i.emphasized,r=!!i.underlined,s=!!i.quoted,n=i.content.text;let l=n?G`${n}`:t(i.content);return a&&(l=G`<b>${l}</b>`),o&&(l=G`<i>${l}</i>`),r&&(l=G`<u>${l}</u>`),s&&(l=G`<q>${l}</q>`),l})(e,this.renderContent.bind(this)):e.headingContent?((e,t)=>{const i=e.headingContent;if(!i)return q;const a=i.content.text;let o=i.level;o<1&&(o=1),o>6&&(o=6);const r=a?G`${i.content.text}`:t(i.content);switch(o){case 1:return G`<h1>${r}</h1>`;case 2:return G`<h2>${r}</h2>`;case 3:default:return G`<h3>${r}</h3>`;case 4:return G`<h4>${r}</h4>`;case 5:return G`<h5>${r}</h5>`;case 6:return G`<h6>${r}</h6>`}})(e,this.renderContent.bind(this)):e.paragraph?((e,t)=>{const i=e.paragraph;return i?G` <p>${t(i)}</p> `:q})(e,this.renderContent.bind(this)):e.link?((e,t)=>{const i=e.link;return i&&i.url&&i.content?G`<a href=${i.url} class="rich-content-link">${t(i.content)}</a>`:q})(e,this.renderContent.bind(this)):e.countdownTimer?(e=>{var t;const i=null===(t=e.countdownTimer)||void 0===t?void 0:t.targetTime;return i?G`<bds-countdown-timer targetTime=${i}></bds-countdown-timer>`:q})(e):q}render(){const{content:e}=this;if(!e)return q;const t=this.getRichContentAriaLabel();return G`<div
            aria-label=${mt(this.richContentRole?t:void 0)}
            role=${mt(this.richContentRole)}>
            ${ft(!this.richContentRole,(()=>this.renderContent(e)),(()=>G`<span aria-hidden="true">${this.renderContent(e)}</span>`))}
        </div>`}},e.RichContent.styles=Ht,t([we({type:Object})],e.RichContent.prototype,"content",void 0),t([we({type:String})],e.RichContent.prototype,"richContentRole",void 0),e.RichContent=t([Te("bds-rich-content"),Ue],e.RichContent),e.BookDealBadge=class extends Ne{constructor(){super(...arguments),this.skeletonType="metadata",this.skeletonWidthPx=Bt.metadata.widthPx,this.skeletonHeightPx=Bt.metadata.heightPx}isFragmentsEmpty(e){return!Et(e.fragments)&&!(e.fragments&&e.fragments.length>0&&""!==e.fragments[0].text)}getContentToRender(){var e,t,i,a;if(!this.dealBadge)return;const o=null===(t=null===(e=this.dealBadge)||void 0===e?void 0:e.messaging)||void 0===t?void 0:t.content,r=null===(a=null===(i=this.dealBadge)||void 0===i?void 0:i.label)||void 0===a?void 0:a.content;return Et(o)||this.isFragmentsEmpty(o)?Et(r)||this.isFragmentsEmpty(r)?void 0:r:o}firstUpdated(){var e,t;(null===(t=null===(e=this.dealBadge)||void 0===e?void 0:e.instrumentationMetadata)||void 0===t?void 0:t.lucidInstrumentationAci)&&this.setAttribute("data-csa-c-item-id",this.dealBadge.instrumentationMetadata.lucidInstrumentationAci)}render(){var e;if(this.dealBadge){const e=this.getContentToRender();return e?G`
                <div class="badge-label">
                    <bds-rich-content .content=${e}></bds-rich-content>
                </div>
            `:q}return this.kindlePromotionTags?G`<div class="badge-label">${null===(e=this.kindlePromotionTags)||void 0===e?void 0:e.badgeContent}</div> `:this.dealRichContent?G`<div class="badge-label">
                <bds-rich-content .content=${this.dealRichContent}></bds-rich-content>
            </div>`:q}},e.BookDealBadge.styles=Dt,t([we({type:Object})],e.BookDealBadge.prototype,"dealBadge",void 0),t([we({type:Object})],e.BookDealBadge.prototype,"kindlePromotionTags",void 0),t([we({type:Object})],e.BookDealBadge.prototype,"dealRichContent",void 0),e.BookDealBadge=t([Te("bds-book-deal-badge"),Ue,yt],e.BookDealBadge);
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
class qt{constructor(e,t){var{target:i,config:a,callback:o,skipInitial:r}=t;this.t=new Set,this.o=!1,this.i=!1,this.h=e,null!==i&&this.t.add(null!=i?i:e),this.o=null!=r?r:this.o,this.callback=o,window.IntersectionObserver?(this.u=new IntersectionObserver((e=>{var t=this.i;this.i=!1,this.o&&t||(this.handleChanges(e),this.h.requestUpdate())}),a),e.addController(this)):console.warn("IntersectionController error: browser does not support IntersectionObserver.")}handleChanges(e){var t;this.value=null===(t=this.callback)||void 0===t?void 0:t.call(this,e,this.u)}hostConnected(){for(var e of this.t)this.observe(e)}hostDisconnected(){this.disconnect()}hostUpdated(){var e=this;return o((function*(){var t=e.u.takeRecords();t.length&&e.handleChanges(t)}))()}observe(e){this.t.add(e),this.u.observe(e),this.i=!0}unobserve(e){this.t.delete(e),this.u.unobserve(e)}disconnect(){this.u.disconnect()}}var Xt=[p`
    :host {
        color: var(--bds-color-functional-neutral-on-surface);
        font-size: var(--bds-size-font-functional-body-medium);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        max-width: 100%;
    }

    .unified-book-faceout {
        width: min-content;
        min-width: 160px;
        display: flex;
        flex-direction: row;
    }

    .unified-book-faceout a {
        text-decoration: none;
        cursor: pointer;
    }

    .ubf-book-info {
        position: relative;
        z-index: 0;
    }

    .ubf-color-block,
    .ubf-color-block-bottom {
        padding: var(--bds-size-utils-padding-10);
    }

    .ubf-color-block-bottom {
        display: flex;
        flex-direction: column;
        gap: var(--bds-size-utils-padding-10);
    }

    .series-overlay {
        margin-bottom: 4px;
    }

    .star-rating {
        margin: var(--bds-size-spacing-2x-small) 0;
    }

    /* stylelint-disable selector-class-pattern */
    .unified-book-faceout.blurred-backdrop {
        border-radius: 4px;
        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 25%);
        overflow: hidden;
        background: var(--bds-color-functional-neutral-surface);
        height: 100%;
    }

    .unified-book-faceout.blurred-backdrop.dark {
        box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 75%);
    }

    .unified-book-faceout.blurred-backdrop.no-metadata-layout {
        height: auto;
        background: var(--bds-color-functional-neutral-surface);
    }

    .unified-book-faceout.blurred-backdrop.dark.no-metadata-layout {
        background: #232323;
    }

    .unified-book-faceout.blurred-backdrop .ubf-book-info a {
        outline-offset: -2px;
    }

    .unified-book-faceout.list {
        width: 100%;
    }

    /* TODO remove fallbacks when token v2 migration is complete */
    .unified-book-faceout.list .ubf-metadata {
        padding-left: min(var(--bds-size-spacing-x-small), 2vw);
    }

    .unified-book-faceout.blurred-backdrop .ubf-metadata {
        padding: 0 var(--bds-size-spacing-x-small) var(--bds-size-spacing-x-small);
    }

    .unified-book-faceout.metadata-only {
        width: auto;
    }

    .grid .star-rating,
    .standardV2 .star-rating {
        margin: 0;
    }

    .grid.unified-book-faceout,
    .standardV2.unified-book-faceout {
        flex-direction: column;
    }

    .grid.unified-book-faceout {
        width: 100%;
    }

    .metadata-badge-slot {
        height: 28px;
    }

    .metadata-badge-slot.hidden {
        visibility: hidden;
    }

    .grid .metadata-badge-slot {
        background: rgba(0, 0, 0, 3%);
        border-radius: var(--bds-size-spacing-x-small) var(--bds-size-spacing-x-small) 0 0;
        overflow: hidden;
    }

    .program-badge-wrapper {
        height: 20px;
        display: flex;
        align-items: center;
    }

    /**
     * The WFF badge using primary badge specs is slightly bigger than a program badge.  When its
     * used in a StandardV2 fliptoon faceout, the bottom of the badge slightly overflows the
     * container.  Adding a small margin ensures the badge is not cutoff.
     *
     * Should be cleaned up with: https://sim.amazon.com/issues/BOOKSUI-270
     */
    .wff-badge-wrapper {
        margin-bottom: 2px;
    }

    /* stylelint-enable selector-class-pattern */
`,Ut()],Kt=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .sponsored {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-body-small);
    }

    .info-icon {
        margin-left: var(--bds-size-spacing-2x-small);
    }

    .mobile .info-icon,
    .tablet .info-icon {
        display: none;
    }
`;e.BookSponsored=class extends Ne{constructor(){super(...arguments),this.isSponsored=!1}render(){return ft(this.isSponsored,(()=>{var e;return G`<div class="sponsored ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">
                Sponsored
                <img
                    class="info-icon"
                    alt=""
                    src="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/info.svg" />
            </div>`}))}},e.BookSponsored.styles=Kt,t([we({type:Boolean})],e.BookSponsored.prototype,"isSponsored",void 0),t([ye({context:Pe,subscribe:!0})],e.BookSponsored.prototype,"renderContext",void 0),e.BookSponsored=t([Te("bds-book-sponsored"),Ue],e.BookSponsored);var Yt=[p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .bookTitleContent {
        min-width: min(140px, 100%);
    }

    a {
        text-decoration: none;
    }

    .primaryText,
    .primaryText a {
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .primaryText {
        font-size: var(--bds-size-font-functional-title-small);
        line-height: var(--bds-size-line-height-functional-title-small);
        font-weight: var(--bds-font-weight-functional-title);
        font-style: normal;

        ${$t(2)};
    }

    .secondaryText,
    .tertiaryText {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-body-small);

        ${$t(2)};
    }

    .secondaryText a,
    .tertiaryText a {
        text-decoration: underline;
        color: var(--bds-link-color-text-active);
    }

    .secondaryText a:hover,
    .tertiaryText a:hover {
        color: var(--bds-link-color-text-hover);
    }

    /* TODO remove fallbacks when token v2 migration is complete */
    .compact.primaryText,
    .compact.secondaryText {
        font-size: var(--bds-size-font-functional-body-small);

        ${$t(1)};
    }

    .compact.primaryText {
        font-weight: bold;
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .compact.secondaryText {
        color: var(--bds-color-functional-neutral-on-surface-variant);
    }

    .compact.primaryText.primaryTextOnly {
        ${$t(2)};
    }

    .boldText {
        font-weight: bold;
    }

    :is(h1, h2, h3, h4, h5, h6) {
        all: inherit;
        position: relative;
    }
`,Ut()];e.BookTitleContent=class extends Ne{constructor(){super(...arguments),this.suppressPrimaryAria=!1,this.suppressSecondaryAria=!1,this.suppressTertiaryAria=!1,this.layout="regular"}renderTitleSlot(e,t,i=!1){if(!this.hasValidTitleContent(t))return q;const a=t.map(((e,a)=>{const o=a<(null==t?void 0:t.length)-1?", ":"";return this.getTitleContentWrapper(e,o,i,e.headingLevel)}));return G`<div class="${e} ${this.layout}">${a}</div>`}getTitleContentWrapper(e,t,i,a){const o=G`${e.displayText}${ft(e.appendedInlineContent,(()=>G`${e.appendedInlineContent}`))}${t}`,r=e.language,s=e.enableLink&&e.url,n=e.isBold?"boldText":void 0;let l;switch(a){case 1:l=G`<h1
                    class=${mt(n)}
                    lang=${mt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h1>`;break;case 2:l=G`<h2
                    class=${mt(n)}
                    lang=${mt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h2>`;break;case 3:l=G`<h3
                    class=${mt(n)}
                    lang=${mt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h3>`;break;case 4:l=G`<h4
                    class=${mt(n)}
                    lang=${mt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h4>`;break;case 5:l=G`<h5
                    class=${mt(n)}
                    lang=${mt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h5>`;break;case 6:l=G`<h6
                    class=${mt(n)}
                    lang=${mt(r)}
                    aria-hidden=${i}>
                    ${o}
                </h6>`;break;default:l=G`<span
                    class=${mt(n)}
                    lang=${mt(r)}
                    aria-hidden="${i}"
                    @click=${e.handleClick}
                    >${o}</span
                >`}return ft(e.displayText,(()=>s?G`<a
                      @click=${e.handleClick}
                      href="${e.url}"
                      aria-hidden="${i}"
                      tabindex="${i?-1:0}">
                      ${l}</a
                  >`:l))}hasValidTitleContent(e){return!(!Array.isArray(e)||!e.length)}getPrimaryTextCssClass(){let e="primaryText";return"compact"!==this.layout||this.hasValidTitleContent(this.secondaryTitleContent)||(e+=" primaryTextOnly"),e}render(){var e;return this.primaryTitleContent||this.secondaryTitleContent||this.tertiaryTitleContent?G`<div class="bookTitleContent ${mt(null===(e=this.renderContext)||void 0===e?void 0:e.devicetype)}">
                ${this.renderTitleSlot(this.getPrimaryTextCssClass(),this.primaryTitleContent,this.suppressPrimaryAria)}
                ${this.renderTitleSlot("secondaryText",this.secondaryTitleContent,this.suppressSecondaryAria)}
                ${this.renderTitleSlot("tertiaryText",this.tertiaryTitleContent,this.suppressTertiaryAria)}
            </div> `:q}},e.BookTitleContent.styles=Yt,t([we({type:Array})],e.BookTitleContent.prototype,"primaryTitleContent",void 0),t([we({type:Array})],e.BookTitleContent.prototype,"secondaryTitleContent",void 0),t([we({type:Array})],e.BookTitleContent.prototype,"tertiaryTitleContent",void 0),t([we({type:Boolean})],e.BookTitleContent.prototype,"suppressPrimaryAria",void 0),t([we({type:Boolean})],e.BookTitleContent.prototype,"suppressSecondaryAria",void 0),t([we({type:Boolean})],e.BookTitleContent.prototype,"suppressTertiaryAria",void 0),t([we({type:String})],e.BookTitleContent.prototype,"layout",void 0),t([ye({context:Pe,subscribe:!0})],e.BookTitleContent.prototype,"renderContext",void 0),e.BookTitleContent=t([Te("bds-book-title-content"),Ue],e.BookTitleContent);var Jt=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    /* Adding config based wrap for a11y compliance */
    .allowWrap {
        flex-wrap: wrap; // To wrap star ratings when scaled/ratings go out of view.
        max-width: 50vw; // Placeholder width to prevent star ratings from going out of view when scaled.
    }

    .stars-container {
        display: flex;
        align-items: center;
        white-space: nowrap;
    }

    .rating {
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .stars {
        align-items: center;
        display: flex;
        flex-shrink: 0;
    }

    .starRatingLinkDisabled,
    .starRatingLink {
        text-decoration: none;
        align-items: center;
        display: flex;
    }

    .halfStar:dir(rtl) {
        transform: scaleX(-1);
    }

    .numberOfReviews {
        color: var(--bds-color-functional-neutral-on-surface-variant);
    }

    .starRatingLink .numberOfReviews {
        text-decoration: none;
        color: var(--bds-link-color-text-active);
    }

    .starRatingLink .numberOfReviews:hover {
        color: var(--bds-link-color-text-hover);
    }
`,Zt={resources:{bds_audible_sample_button_label:"Audible Sample",bds_author_follow_label:" Following",bds_author_unfollow_label:"+ Follow",bds_download_sample_label:"Download Sample",bds_blurb_read_full_article_label:"Read Full Article",bds_ubf_book_single_other_format_label:"Other format:",bds_ubf_book_other_formats_label:"Other formats:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} more",bds_collection_text_in_series_alt_text_prefix:{value:"in series"},sample_text:"Sample text here",sample_button:"Click sample {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} reviews"},bds_add_to_list_button_common_label:{value:"Add to list"},bds_add_to_library_button_common_label:{value:"Add to list"},bds_see_details_button_common_label:{value:"see all details"},bds_read_now_button_label:{value:"Read now"},bds_discover_new_stories_button_rare_label:{value:"Discover new stories"},bds_shuffle_button_rare_label:{value:"shuffle"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"with {savingsPercentage} savings"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} by {authors}"},bds_previous_set_of_slides:{value:"Previous set of slides"},bds_next_set_of_slides:{value:"Next set of slides"},bds_this_title_release_date_text:{value:"This title will be released on {releaseDate}"},bds_spinner_loading_label:{value:"Loading..."},bds_this_title_release_date_short_text:{value:"Releases {releaseDate}"}}},ei={resources:{bds_audible_sample_button_label:"Ejemplo de Audible",bds_author_follow_label:" Siguiendo",bds_author_unfollow_label:"+ Seguir",bds_download_sample_label:"Descargar fragmento",bds_blurb_read_full_article_label:"Leer artculo completo",bds_ubf_book_single_other_format_label:"Otro formato:",bds_ubf_book_other_formats_label:"Otros formatos:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ms",bds_collection_text_in_series_alt_text_prefix:{value:"de la serie"},sample_text:"Fragmento aqu",sample_button:"Haz clic en el fragmento {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} reseas"},bds_add_to_list_button_common_label:{value:"Aadir a la lista"},bds_add_to_library_button_common_label:{value:"Aadir a la lista"},bds_see_details_button_common_label:{value:"ver todos los detalles"},bds_read_now_button_label:{value:"Leer ahora"},bds_discover_new_stories_button_rare_label:{value:"Descubrir nuevas historias"},bds_shuffle_button_rare_label:{value:"modo aleatorio"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"con un ahorro del {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} de {authors}"},bds_previous_set_of_slides:{value:"Anterior grupo de portadas"},bds_next_set_of_slides:{value:"Siguiente grupo de portadas"},bds_this_title_release_date_text:{value:"El lanzamiento de este libro se producir el {releaseDate}"},bds_this_title_release_date_short_text:{value:"Lanzamiento: {releaseDate}"}}},ti={resources:{bds_audible_sample_button_label:"Extrait du livre audio Audible",bds_author_follow_label:" Suivi",bds_author_unfollow_label:"+ Suivre",bds_download_sample_label:"Tlcharger lextrait",bds_blurb_read_full_article_label:"Lire l'article dans son intgralit",bds_ubf_book_single_other_format_label:"Autre format:",bds_ubf_book_other_formats_label:"Autres formats:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} supplmentaires",bds_collection_text_in_series_alt_text_prefix:{value:"dans la srie"},sample_text:"Vous trouverez ici un extrait",sample_button:"Cliquez sur un extrait {stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} valuations"},bds_add_to_list_button_common_label:{value:"Ajouter  la liste"},bds_add_to_library_button_common_label:{value:"Ajouter  la liste"},bds_see_details_button_common_label:{value:"afficher toutes les informations"},bds_read_now_button_label:{value:"Commencez ds maintenant votre lecture"},bds_discover_new_stories_button_rare_label:{value:"Dcouvrez de nouveaux rcits"},bds_shuffle_button_rare_label:{value:"rsultats alatoires"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"avec des rductions de lordre de {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} de {authors}"},bds_previous_set_of_slides:{value:"Srie de diapositives prcdente"},bds_next_set_of_slides:{value:"Prochaine srie de diapositives"},bds_this_title_release_date_text:{value:"Cet ouvrage paratra le {releaseDate}"},bds_this_title_release_date_short_text:{value:"Parution le {releaseDate}."}}},ii={resources:{bds_audible_sample_button_label:"Amostra do Audible",bds_author_follow_label:" Seguindo",bds_author_unfollow_label:"+ Seguir",bds_download_sample_label:"Fazer download da amostra",bds_blurb_read_full_article_label:"Leia o artigo completo",bds_ubf_book_single_other_format_label:"Outro formato:",bds_ubf_book_other_formats_label:"Outros formatos:",bds_ubf_book_other_formats_more_text:"+ outros {numberOfFormats} formatos",bds_collection_text_in_series_alt_text_prefix:{value:"em srie"},sample_text:"Texto da amostra aqui",sample_button:"Clique na amostra {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} avaliaes"},bds_add_to_list_button_common_label:{value:"Adicionar  lista"},bds_add_to_library_button_common_label:{value:"Adicionar  lista"},bds_see_details_button_common_label:{value:"ver todos os detalhes"},bds_read_now_button_label:{value:"Ler agora"},bds_discover_new_stories_button_rare_label:{value:"Descobrir novas histrias"},bds_shuffle_button_rare_label:{value:"ordem aleatria"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"com economia de {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} por {authors}"},bds_previous_set_of_slides:{value:"Conjunto de slides anterior"},bds_next_set_of_slides:{value:"Prximo conjunto de slides"},bds_this_title_release_date_text:{value:"Este livro ser lanado em {releaseDate}"},bds_this_title_release_date_short_text:{value:"Lanamentos {releaseDate}"}}};const ai={"ar-AE":{resources:{bds_audible_sample_button_label:" Audible",bds_author_follow_label:"  ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats}   ",bds_collection_text_in_series_alt_text_prefix:{value:" "},sample_text:"  ",sample_button:"   {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary} {numberOfReviews}  "},bds_add_to_list_button_common_label:{value:"  "},bds_add_to_library_button_common_label:{value:"  "},bds_see_details_button_common_label:{value:"   "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:" {savingsPercentage}  "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}  {authors}"},bds_previous_set_of_slides:{value:"   "},bds_next_set_of_slides:{value:"   "},bds_this_title_release_date_text:{value:"     {releaseDate}"},bds_this_title_release_date_short_text:{value:"   {releaseDate}"}}},"bn-IN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:"  ",bds_author_unfollow_label:"+  ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+  {numberOfFormats}",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"   ",sample_button:" {stringText}{numberValue}{stringText}   ",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:"  "},bds_add_to_library_button_common_label:{value:"  "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"   "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay}{savingsPercentage}{audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage}  "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}-  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}-  "},bds_this_title_release_date_short_text:{value:" {releaseDate}"}}},"cs-CZ":{resources:{bds_audible_sample_button_label:"Ukzka Audible",bds_author_follow_label:" Sledovan",bds_author_unfollow_label:"+ Sledovat",bds_download_sample_label:"Sthnout ukzku",bds_blurb_read_full_article_label:"Pest cel lnek",bds_ubf_book_single_other_format_label:"Jin formt:",bds_ubf_book_other_formats_label:"Jin formty:",bds_ubf_book_other_formats_more_text:"+{numberOfFormats} dal",bds_collection_text_in_series_alt_text_prefix:{value:"vsrii"},sample_text:"Ukzkov text zde",sample_button:"Ukzka ke kliknut {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, poet recenz:{numberOfReviews}"},bds_add_to_list_button_common_label:{value:"Pidat do seznamu"},bds_add_to_library_button_common_label:{value:"Pidat do seznamu"},bds_see_details_button_common_label:{value:"Zobrazit vechny podrobnosti"},bds_read_now_button_label:{value:"Pest hned"},bds_discover_new_stories_button_rare_label:{value:"Prozkoumat nov pbhy"},bds_shuffle_button_rare_label:{value:"Nhodn vbr"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"s sporami ve vi {savingsPercentage}"},bds_savings_percentage_text:{value:"{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} od {authors}"},bds_previous_set_of_slides:{value:"Pedchoz sada snmk"},bds_next_set_of_slides:{value:"Dal sada snmk"},bds_this_title_release_date_text:{value:"Tento titul bude vydn dne {releaseDate}"},bds_this_title_release_date_short_text:{value:"Vydn {releaseDate}"}}},"de-DE":{resources:{bds_audible_sample_button_label:"Audible-Hrprobe",bds_author_follow_label:" Abonniert",bds_author_unfollow_label:"+ Abonnieren",bds_download_sample_label:"Leseprobe herunterladen",bds_blurb_read_full_article_label:"Vollstndigen Artikel lesen",bds_ubf_book_single_other_format_label:"Anderes Format:",bds_ubf_book_other_formats_label:"Andere Formate:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} weitere",bds_collection_text_in_series_alt_text_prefix:{value:"in der Serie"},sample_text:"Beispieltext hier",sample_button:"Leseprobe anklicken{stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} Rezensionen"},bds_add_to_list_button_common_label:{value:"Zur Liste hinzufgen"},bds_add_to_library_button_common_label:{value:"Zur Liste hinzufgen"},bds_see_details_button_common_label:{value:"Alle Details anzeigen"},bds_read_now_button_label:{value:"Jetzt lesen"},bds_discover_new_stories_button_rare_label:{value:"Neue Geschichten entdecken"},bds_shuffle_button_rare_label:{value:"Zufllig anordnen"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"mit {savingsPercentage} Ermigung"},bds_savings_percentage_text:{value:"{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} von {authors}"},bds_previous_set_of_slides:{value:"Vorherige Auswahl an Bchern"},bds_next_set_of_slides:{value:"Nchste Auswahl an Bchern"},bds_this_title_release_date_text:{value:"Dieser Titel wird am {releaseDate} verffentlicht"},bds_this_title_release_date_short_text:{value:"Erscheint am {releaseDate}"}}},"en-AE":Zt,"en-AU":Zt,"en-CA":Zt,"en-GB":Zt,"en-IN":Zt,"en-NG":Zt,"en-SG":Zt,"en-US":Zt,"en-ZA":Zt,"es-ES":ei,"es-MX":ei,"es-US":ei,"fr-BE":ti,"fr-CA":ti,"fr-FR":ti,"he-IL":{resources:{bds_audible_sample_button_label:"  Audible",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"   ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"  ",sample_button:"    {stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"   "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label}{basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:" {savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}  {authors}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"     {releaseDate}"},bds_this_title_release_date_short_text:{value:" {releaseDate}"}}},"hi-IN":{resources:{bds_audible_sample_button_label:" ",bds_author_follow_label:"   ",bds_author_unfollow_label:"+  ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:" "},sample_text:"  ",sample_button:" {stringText} {numberValue} {stringText}  ",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:"  "},bds_add_to_library_button_common_label:{value:"  "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage}   "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}   {authors}"},bds_previous_set_of_slides:{value:"   "},bds_next_set_of_slides:{value:"   "},bds_this_title_release_date_text:{value:"  {releaseDate}    "},bds_this_title_release_date_short_text:{value:" {releaseDate}"}}},"it-IT":{resources:{bds_audible_sample_button_label:"Estratto Audible",bds_author_follow_label:" Storie seguite",bds_author_unfollow_label:"+ Segui",bds_download_sample_label:"Scarica estratto",bds_blurb_read_full_article_label:"Leggi l'articolo completo",bds_ubf_book_single_other_format_label:"Altro formato:",bds_ubf_book_other_formats_label:"Altri formati:",bds_ubf_book_other_formats_more_text:"+ altri {numberOfFormats}",bds_collection_text_in_series_alt_text_prefix:{value:"nella serie"},sample_text:"Testo dell'estratto qui",sample_button:"Fai clic su un estratto {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recensioni"},bds_add_to_list_button_common_label:{value:"Aggiungi allelenco"},bds_add_to_library_button_common_label:{value:"Aggiungi allelenco"},bds_see_details_button_common_label:{value:"visualizza tutti i dettagli"},bds_read_now_button_label:{value:"Leggi ora"},bds_discover_new_stories_button_rare_label:{value:"Scopri nuove storie"},bds_shuffle_button_rare_label:{value:"ordine casuale"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"con un risparmio del {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} di {authors}"},bds_previous_set_of_slides:{value:"Serie di diapositive precedente"},bds_next_set_of_slides:{value:"Serie di diapositive successiva"},bds_this_title_release_date_text:{value:"Questo titolo verr rilasciato il giorno {releaseDate}"},bds_this_title_release_date_short_text:{value:"Data di rilascio: {releaseDate}"}}},"ja-JP":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"",bds_blurb_read_full_article_label:"",bds_ubf_book_single_other_format_label:":",bds_ubf_book_other_formats_label:":",bds_ubf_book_other_formats_more_text:"{numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:":"},sample_text:" ",sample_button:" {stringText} {numberValue} {stringText} ",bds_star_rating_review_count_summary:{value:"{ratingSummary} ({numberOfReviews} )"},bds_add_to_list_button_common_label:{value:""},bds_add_to_library_button_common_label:{value:""},bds_see_details_button_common_label:{value:""},bds_read_now_button_label:{value:""},bds_discover_new_stories_button_rare_label:{value:""},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}({authors} )"},bds_previous_set_of_slides:{value:" "},bds_next_set_of_slides:{value:" "},bds_this_title_release_date_text:{value:": {releaseDate}"},bds_this_title_release_date_short_text:{value:" {releaseDate}"}}},"kn-IN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:"  ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"  ",sample_button:"   {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}   "},bds_this_title_release_date_short_text:{value:"{releaseDate} "}}},"ko-KR":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:"  ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+{numberOfFormats}  ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"  ",sample_button:"  {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"   "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage}  "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}(: {authors})"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}  "},bds_this_title_release_date_short_text:{value:" {releaseDate}"}}},"ml-IN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"   ",sample_button:"   {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}-  "},bds_this_title_release_date_short_text:{value:"{releaseDate}  "}}},"mr-IN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+  ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"  ",sample_button:"{stringText} {numberValue} {stringText}   ",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}   "},bds_this_title_release_date_short_text:{value:"{releaseDate}  "}}},"nl-NL":{resources:{bds_audible_sample_button_label:"Audible-fragment",bds_author_follow_label:" Volgend",bds_author_unfollow_label:"+ Volgen",bds_download_sample_label:"Fragment downloaden",bds_blurb_read_full_article_label:"Het volledige artikel lezen",bds_ubf_book_single_other_format_label:"Andere indeling:",bds_ubf_book_other_formats_label:"Andere uitvoeringen:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} meer",bds_collection_text_in_series_alt_text_prefix:{value:"in serie"},sample_text:"Tekst van fragment hier",sample_button:"Klik op fragment {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recensies"},bds_add_to_list_button_common_label:{value:"Toevoegen aan lijst"},bds_add_to_library_button_common_label:{value:"Toevoegen aan lijst"},bds_see_details_button_common_label:{value:"alle details bekijken"},bds_read_now_button_label:{value:"Nu lezen"},bds_discover_new_stories_button_rare_label:{value:"Nieuwe verhalen ontdekken"},bds_shuffle_button_rare_label:{value:"shuffle"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay}{savingsPercentage}{audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"met korting van {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} door {authors}"},bds_previous_set_of_slides:{value:"Vorige set slides"},bds_next_set_of_slides:{value:"Volgende set slides"},bds_this_title_release_date_text:{value:"Dit boek wordt uitgebracht op {releaseDate}"},bds_this_title_release_date_short_text:{value:"Uitgaven {releaseDate}"}}},"pl-PL":{resources:{bds_audible_sample_button_label:"Fragment z Audible",bds_author_follow_label:" Obserwujesz",bds_author_unfollow_label:"+ Obserwuj",bds_download_sample_label:"Pobierz fragment",bds_blurb_read_full_article_label:"Przeczytaj cay artyku",bds_ubf_book_single_other_format_label:"Inny format:",bds_ubf_book_other_formats_label:"Inne formaty:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} wicej",bds_collection_text_in_series_alt_text_prefix:{value:"w serii"},sample_text:"Fragment tekstu tutaj",sample_button:"Kliknij fragment {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recenzje"},bds_add_to_list_button_common_label:{value:"Dodaj do listy"},bds_add_to_library_button_common_label:{value:"Dodaj do listy"},bds_see_details_button_common_label:{value:"zobacz wszystkie szczegy"},bds_read_now_button_label:{value:"Czytaj teraz"},bds_discover_new_stories_button_rare_label:{value:"Poznaj nowe historie"},bds_shuffle_button_rare_label:{value:"przemieszaj"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay}{savingsPercentage}{audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay}{savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay}{audibleMessage}"},bds_savings_percentage_aria_text:{value:"oszczdzasz {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} autorstwa {authors}"},bds_previous_set_of_slides:{value:"Poprzedni zestaw slajdw"},bds_next_set_of_slides:{value:"Nastpny zestaw slajdw"},bds_this_title_release_date_text:{value:"Ten tytu zostanie wydany {releaseDate}"},bds_this_title_release_date_short_text:{value:"Data wydania: {releaseDate}"}}},"pt-BR":ii,"pt-PT":ii,"sv-SE":{resources:{bds_audible_sample_button_label:"Hrbart prov",bds_author_follow_label:"Fljer",bds_author_unfollow_label:"+ Flj",bds_download_sample_label:"Ladda ned prov",bds_blurb_read_full_article_label:"Ls hela artikeln",bds_ubf_book_single_other_format_label:"Annat format:",bds_ubf_book_other_formats_label:"Andra format:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} till",bds_collection_text_in_series_alt_text_prefix:{value:"i serien"},sample_text:"Textprov hr",sample_button:"Klicka p prov{stringText}{numberValue}{stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} recensioner"},bds_add_to_list_button_common_label:{value:"Lgg till i lista"},bds_add_to_library_button_common_label:{value:"Lgg till i lista"},bds_see_details_button_common_label:{value:"se all information"},bds_read_now_button_label:{value:"Ls nu"},bds_discover_new_stories_button_rare_label:{value:"Upptck nya berttelser"},bds_shuffle_button_rare_label:{value:"blanda"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"med en besparing p {savingsPercentage}"},bds_savings_percentage_text:{value:"{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} av {authors}"},bds_previous_set_of_slides:{value:"Fregende uppsttning bilder"},bds_next_set_of_slides:{value:"Nsta uppsttning bilder"},bds_this_title_release_date_text:{value:"Denna titel slpps den {releaseDate}"},bds_this_title_release_date_short_text:{value:"Utgvor {releaseDate}"}}},"ta-IN":{resources:{bds_audible_sample_button_label:" ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:" ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"   ",sample_button:"{stringText} {numberValue} {stringText}  ",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}-  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}  "},bds_this_title_release_date_short_text:{value:"{releaseDate}  "}}},"te-IN":{resources:{bds_audible_sample_button_label:" ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"  ",bds_blurb_read_full_article_label:"  ",bds_ubf_book_single_other_format_label:" :",bds_ubf_book_other_formats_label:" :",bds_ubf_book_other_formats_more_text:" + {numberOfFormats}",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"   ",sample_button:"   {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} "},bds_add_to_list_button_common_label:{value:" "},bds_add_to_library_button_common_label:{value:" "},bds_see_details_button_common_label:{value:"  "},bds_read_now_button_label:{value:" "},bds_discover_new_stories_button_rare_label:{value:"  "},bds_shuffle_button_rare_label:{value:" "},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} "},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{authors}  {title}"},bds_previous_set_of_slides:{value:"  "},bds_next_set_of_slides:{value:"  "},bds_this_title_release_date_text:{value:"  {releaseDate}  "},bds_this_title_release_date_short_text:{value:" {releaseDate}"}}},"tr-TR":{resources:{bds_audible_sample_button_label:"Audible rnei",bds_author_follow_label:" Takip ediliyor",bds_author_unfollow_label:"+ Takip et",bds_download_sample_label:"rnek Para ndir",bds_blurb_read_full_article_label:"Makalenin Tamamn Oku",bds_ubf_book_single_other_format_label:"Dier biim:",bds_ubf_book_other_formats_label:"Dier biimler:",bds_ubf_book_other_formats_more_text:"+ {numberOfFormats} daha",bds_collection_text_in_series_alt_text_prefix:{value:"seri halinde"},sample_text:"rnek metin buraya gelecek",sample_button:"rnee tklayn {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}, {numberOfReviews} deerlendirme"},bds_add_to_list_button_common_label:{value:"Listeye ekle"},bds_add_to_library_button_common_label:{value:"Listeye ekle"},bds_see_details_button_common_label:{value:"tm ayrntlar grn"},bds_read_now_button_label:{value:"imdi okuyun"},bds_discover_new_stories_button_rare_label:{value:"Yeni hikayeleri kefedin"},bds_shuffle_button_rare_label:{value:"kartr"},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:"{savingsPercentage} tasarrufla"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title} - {authors}"},bds_previous_set_of_slides:{value:"nceki slayt seti"},bds_next_set_of_slides:{value:"Sonraki slayt seti"},bds_this_title_release_date_text:{value:"Bu kitap, {releaseDate} tarihinde yaymlanacak"},bds_this_title_release_date_short_text:{value:"Yaynlanma Tarihleri {releaseDate}"}}},"zh-CN":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"",bds_blurb_read_full_article_label:"",bds_ubf_book_single_other_format_label:"",bds_ubf_book_other_formats_label:"",bds_ubf_book_other_formats_more_text:" {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"",sample_button:" {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}{numberOfReviews} "},bds_add_to_list_button_common_label:{value:""},bds_add_to_library_button_common_label:{value:""},bds_see_details_button_common_label:{value:""},bds_read_now_button_label:{value:""},bds_discover_new_stories_button_rare_label:{value:""},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:" {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}{authors}"},bds_previous_set_of_slides:{value:""},bds_next_set_of_slides:{value:""},bds_this_title_release_date_text:{value:" {releaseDate} "},bds_this_title_release_date_short_text:{value:" {releaseDate}"}}},"zh-TW":{resources:{bds_audible_sample_button_label:"Audible ",bds_author_follow_label:" ",bds_author_unfollow_label:"+ ",bds_download_sample_label:"",bds_blurb_read_full_article_label:"",bds_ubf_book_single_other_format_label:"",bds_ubf_book_other_formats_label:"",bds_ubf_book_other_formats_more_text:"+  {numberOfFormats} ",bds_collection_text_in_series_alt_text_prefix:{value:""},sample_text:"",sample_button:" {stringText} {numberValue} {stringText}",bds_star_rating_review_count_summary:{value:"{ratingSummary}{numberOfReviews} "},bds_add_to_list_button_common_label:{value:""},bds_add_to_library_button_common_label:{value:""},bds_see_details_button_common_label:{value:""},bds_read_now_button_label:{value:""},bds_discover_new_stories_button_rare_label:{value:""},bds_shuffle_button_rare_label:{value:""},bds_basis_price_text:{value:"{label} {basisPrice}"},bds_price_amount_with_savings_percentage_with_audible_message_aria_text:{value:"{priceToPay} {savingsPercentage} {audibleMessage}"},bds_price_amount_with_savings_percentage_aria_text:{value:"{priceToPay} {savingsPercentage}"},bds_price_amount_with_audible_message_aria_text:{value:"{priceToPay} {audibleMessage}"},bds_savings_percentage_aria_text:{value:" {savingsPercentage}"},bds_savings_percentage_text:{value:"-{savingsPercentage}"},bds_book_name_by_author_text:{value:"{title}{authors}"},bds_previous_set_of_slides:{value:""},bds_next_set_of_slides:{value:""},bds_this_title_release_date_text:{value:" {releaseDate} "},bds_this_title_release_date_short_text:{value:" {releaseDate}"}}}},oi="en-US";function ri(e,t,i){var a,o,r;const s=(null===(o=null===(a=ai[null!=t?t:oi])||void 0===a?void 0:a.resources)||void 0===o?void 0:o[e])||(null===(r=ai[oi].resources)||void 0===r?void 0:r[e])||"";return void 0===i?si(s):function(e,t){for(const i in t){const a=new RegExp("{"+i+"}","g");e=e.replace(a,t[i])}return e}(si(s),i)}function si(e){return"object"==typeof e?e.value:e}function ni(){return"rtl"===window.document.dir}var li;e.StarRating=li=class extends et{constructor(){super(...arguments),this.skeletonType="metadata",this.skeletonWidthPx=Bt.metadata.widthPx,this.skeletonHeightPx=Bt.metadata.heightPx,this.hideEmptyStars=!1,this.layout="small",this.onClick=e=>{this.handleClick&&(e.preventDefault(),this.handleClick())}}getDefaultConfiguration(){return{starIconHeight:16,starIconWidth:15,starFullIconUrl:Ke("starFullSmall.svg"),starHalfIconUrl:Ke("starHalfSmall.svg"),starEmptyIconUrl:Ke("starEmptySmall.svg"),fontSizeToken:"var(--bds-review-stars-size-text-font-small)",lineHeightToken:"var(--bds-review-stars-size-text-line-height-small)",paddingStartToken:"2px",paddingEndToken:"4px",paddingBottomToken:"1px"}}getConfigurationOverrides(){return[{targeting:{layout:"small",theme:"dark"},overrides:{starFullIconUrl:Ke("starFullSmallDark.svg"),starHalfIconUrl:Ke("starHalfSmallDark.svg"),starEmptyIconUrl:Ke("starEmptySmallDark.svg")}},{targeting:{layout:"small",devicetype:"desktop"},overrides:{fontSizeToken:"var(--bds-size-font-functional-body-small)"}},{targeting:{layout:"mini"},overrides:{starIconHeight:12,starIconWidth:11,starFullIconUrl:Ke("starFullMini.svg"),starHalfIconUrl:Ke("starHalfMini.svg"),starEmptyIconUrl:Ke("starEmptyMini.svg"),fontSizeToken:"var(--bds-size-font-functional-body-small)",lineHeightToken:"var(--bds-size-line-height-functional-body-small)",paddingBottomToken:"0"}},{targeting:{layout:"mini",theme:"dark"},overrides:{starFullIconUrl:Ke("starFullMiniDark.svg"),starHalfIconUrl:Ke("starHalfMiniDark.svg"),starEmptyIconUrl:Ke("starEmptyMiniDark.svg")}},{targeting:{layout:"mini",devicetype:"desktop"},overrides:{fontSizeToken:"var(--bds-size-font-functional-body-small)",lineHeightToken:"var(--bds-size-line-height-mini)"}},{targeting:{layout:"medium"},overrides:{starIconHeight:19,starIconWidth:18,starFullIconUrl:Ke("starFullMedium.svg"),starHalfIconUrl:Ke("starHalfMedium.svg"),starEmptyIconUrl:Ke("starEmptyMedium.svg")}},{targeting:{layout:"medium",theme:"dark"},overrides:{starFullIconUrl:Ke("starFullMediumDark.svg"),starHalfIconUrl:Ke("starHalfMediumDark.svg"),starEmptyIconUrl:Ke("starEmptyMediumDark.svg")}},{targeting:{layout:"medium",devicetype:"desktop"},overrides:{fontSizeToken:"var(--bds-size-font-functional-body-small)"}},{targeting:{layout:"standardV2"},overrides:{fontSizeToken:"var(--bds-size-font-functional-body-small)",lineHeightToken:"var(--bds-size-line-height-functional-body-small)"}}]}getNumberofReviewsDisplayString(){var e,t;return this.numberOfReviewsDisplayString?this.numberOfReviewsDisplayString:null===(e=this.numberOfReviews)||void 0===e?void 0:e.toLocaleString(null===(t=this.renderContext)||void 0===t?void 0:t.locale)}getAriaLabel(){var e;const t=this.getNumberofReviewsDisplayString();return this.altText&&t?ri("bds_star_rating_review_count_summary",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{ratingSummary:this.altText,numberOfReviews:t})||`${this.altText}, ${t}`:this.altText?this.altText:t||""}renderReviewStarAndCount(){const e=this.getRenderConfiguration(this.layout),t=[];for(let i=0;i<this.numberOfStars;i++)t.push(G`<img
                    class="fullStar"
                    alt=""
                    src="${e.starFullIconUrl}"
                    width="${e.starIconWidth}"
                    height="${e.starIconHeight}" />`);if(this.hasHalfStar&&t.push(G`<img
                    class="halfStar"
                    alt=""
                    src="${e.starHalfIconUrl}"
                    width="${e.starIconWidth}"
                    height="${e.starIconHeight}" />`),!this.hideEmptyStars){const i=li.MAX_REVIEW_STARS-this.numberOfStars-(this.hasHalfStar?1:0);for(let a=0;a<i;a++)t.push(G`<img
                        class="emptyStar"
                        alt=""
                        src="${e.starEmptyIconUrl}"
                        width="${e.starIconWidth}"
                        height="${e.starIconHeight}" />`)}return G`
            <span
                class="stars-container ${this.allowWrap?"allowWrap":""}"
                style="font-size: ${e.fontSizeToken}; line-height: ${e.lineHeightToken}">
                ${ft(this.shortDisplayString,(()=>G`
                        <span class="rating" aria-hidden="true"> ${this.shortDisplayString} </span>
                    `))}
                <span
                    class="stars"
                    style="padding: 0 ${e.paddingEndToken} ${e.paddingBottomToken} ${this.shortDisplayString?e.paddingStartToken:"0"}">
                    ${t}
                </span>
                ${ft(this.numberOfReviewsDisplayString||this.numberOfReviews&&this.numberOfReviews>0,(()=>G`
                        <span class="numberOfReviews" aria-hidden="true">
                            ${this.getNumberofReviewsDisplayString()}
                        </span>
                    `))}
            </span>
        `}render(){return G`<div class="starRating">
            ${this.reviewUrl&&this.enableReviewsLink||this.handleClick?G`
                      <a
                          href="${mt(this.reviewUrl&&this.enableReviewsLink?this.reviewUrl:void 0)}"
                          @click=${this.onClick}
                          class="starRatingLink"
                          role="${this.handleClick?"button":"link"}"
                          aria-label=${mt(this.getAriaLabel())}>
                          ${this.renderReviewStarAndCount()}
                      </a>
                  `:G`
                      <span
                          class="starRatingLinkDisabled"
                          aria-label=${mt(this.getAriaLabel())}
                          role="text">
                          ${this.renderReviewStarAndCount()}
                      </span>
                  `}
        </div>`}},e.StarRating.MAX_REVIEW_STARS=5,e.StarRating.styles=Jt,t([we({type:Number})],e.StarRating.prototype,"numberOfStars",void 0),t([we({type:Boolean})],e.StarRating.prototype,"hasHalfStar",void 0),t([we({type:String})],e.StarRating.prototype,"numberOfReviewsDisplayString",void 0),t([we({type:Number})],e.StarRating.prototype,"numberOfReviews",void 0),t([we({type:String})],e.StarRating.prototype,"reviewUrl",void 0),t([we({type:Boolean})],e.StarRating.prototype,"enableReviewsLink",void 0),t([we({type:Boolean})],e.StarRating.prototype,"allowWrap",void 0),t([we({type:Boolean})],e.StarRating.prototype,"hideEmptyStars",void 0),t([we({type:String})],e.StarRating.prototype,"layout",void 0),t([we({type:String})],e.StarRating.prototype,"altText",void 0),t([we({type:String})],e.StarRating.prototype,"shortDisplayString",void 0),t([we()],e.StarRating.prototype,"handleClick",void 0),t([ye({context:Pe,subscribe:!0})],e.StarRating.prototype,"renderContext",void 0),e.StarRating=li=t([Te("bds-star-rating"),Ue,yt],e.StarRating);var di=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .badge-container {
        white-space: nowrap;
        font-size: var(--bds-size-font-functional-label-small);
        line-height: var(--bds-size-line-height-functional-label-small);
        position: relative;
        top: var(--bds-size-utils-padding-1);
        left: var(--bds-size-utils-padding-1);
    }

    .badge {
        background-color: var(--bds-color-functional-neutral-on-surface-variant);
        color: var(--bds-color-functional-neutral-on-surface-inverse);
        border-width: var(--bds-size-line-weight-small);
        border-radius: var(--bds-size-radius-x-small);
        vertical-align: top;

        /**
         * This max-width is to prevent the badge from overflowing the container in grid UBF
         * Calculation details:
         * 100% (parent container) - 10px (badge padding) - 9px (stylized-edge width) - 8px (border radius of grid badge container)
         */
        max-width: calc(100% - 10px - 9px - 8px);

        ${$t(1,!0)};

        /**
         * This is required for the line clamp ellipses truncation
         */
        display: inline-block;
    }

    .secondaryText {
        color: #11100f;
        font-family: var(--bds-font-family-functional-body);
    }
`,ci=p`
    /* TODO update with design token when available */
    .TOP_SELLER .badge {
        background-color: #d14900;
    }

    .BONUS_OFFER .badge {
        background-color: var(--bds-color-functional-supplemental-discount);
        color: var(--bds-color-functional-neutral-on-surface-inverse-fixed);
    }

    .UNKNOWN .badge {
        background-color: var(--bds-color-functional-neutral-surface);
        border: var(--bds-size-radius-3x-small) solid var(--bds-color-functional-neutral-on-surface);
        color: var(--bds-color-functional-neutral-on-surface);
    }
`,ui=p`
    .wff-charged .badge {
        background-color: var(--bds-badge-wff-color-container-background-charged);
        color: var(--bds-badge-wff-color-text-label-charged);
        max-width: 100%; // This overrides the max-width calculation done for metadata badges in list view
    }

    .wff-charging .badge {
        background-color: var(--bds-badge-wff-color-container-background-charging);
        color: var(--bds-badge-wff-color-text-label-charging);
        max-width: 100%; // This overrides the max-width calculation done for metadata badges in list view
    }
`,bi=p`
    .ltf .badge {
        background-color: var(--bds-color-functional-supplemental-discount);
        color: var(--bds-color-functional-neutral-on-surface-inverse-fixed);
        max-width: 100%; // This overrides the max-width calculation done for metadata badges in list view
    }
`;let gi=class extends et{static get styles(){return[di,ci,ui,bi]}getDefaultConfiguration(){return{horizontalBadgePaddingCSS:"var(--bds-size-utils-padding-3)",verticalBadgePaddingCSS:"var(--bds-size-utils-padding-1)"}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile"},overrides:{verticalBadgePaddingCSS:"0"}}]}render(){const e=this.getRenderConfiguration(),t={padding:`${e.verticalBadgePaddingCSS} ${e.horizontalBadgePaddingCSS}`};return ft(this.badgeLabel,(()=>G`<div class="badge-container ${this.badgeType||""}">
                <span class="badge" style=${Ct(t)}>
                    ${this.badgeLabel}
                </span>
                ${ft(this.secondaryText,(()=>G`<span class="secondaryText">${this.secondaryText}</span>`))}
            </div>`))}};t([we({type:String})],gi.prototype,"badgeLabel",void 0),t([we({type:String})],gi.prototype,"secondaryText",void 0),t([we({type:String})],gi.prototype,"badgeType",void 0),gi=t([Te("bds-primary-badge"),Ue],gi),e.BookMetadataBadge=class extends Ne{constructor(){super(...arguments),this.skeletonType="metadata",this.skeletonWidthPx=Bt.metadata.widthPx,this.skeletonHeightPx=Bt.metadata.heightPx}render(){return ft(this.giftGuideBadgeLabel,(()=>G`<bds-primary-badge
                badgeLabel=${mt(this.giftGuideBadgeLabel)}
                secondaryText=${mt(this.secondaryText)}
                badgeType=${mt(this.badgeType)}>
            </bds-primary-badge>`))}},t([we({type:String})],e.BookMetadataBadge.prototype,"giftGuideBadgeLabel",void 0),t([we({type:String})],e.BookMetadataBadge.prototype,"secondaryText",void 0),t([we({type:String})],e.BookMetadataBadge.prototype,"badgeType",void 0),e.BookMetadataBadge=t([Te("bds-book-metadata-badge"),Ue,yt],e.BookMetadataBadge);var hi=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .format {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-medium);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        ${$t(1)};
    }

    .format-container {
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-2x-small);
        margin-bottom: var(--bds-size-spacing-2x-small);
    }

    .secondary-compact .format {
        font-size: var(
            --bds-size-font-functional-body-small
        );
        color: var(
            --bds-color-functional-neutral-on-surface-variant
        );
    }

    .secondary-compact.format-container,
    .primary.format-container {
        margin-bottom: 0;
    }

    .primary .format {
        color: var(--bds-color-functional-neutral-on-surface);
    }
`;e.BookFormat=class extends Ne{constructor(){super(...arguments),this.skeletonType="metadata",this.skeletonWidthPx=Bt.metadata.widthPx,this.skeletonHeightPx=Bt.metadata.heightPx,this.layout="secondary"}render(){return ft(this.format,(()=>{var e;return G`
                <div class="format-container ${this.layout}">
                    ${this.secondaryBadge&&vi(this.secondaryBadge)}
                    <div class="format ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">${this.format}</div>
                </div>
            `}))}},e.BookFormat.styles=hi,t([we({type:String})],e.BookFormat.prototype,"format",void 0),t([we({type:Object})],e.BookFormat.prototype,"secondaryBadge",void 0),t([we({type:String})],e.BookFormat.prototype,"layout",void 0),t([ye({context:Pe,subscribe:!0})],e.BookFormat.prototype,"renderContext",void 0),e.BookFormat=t([Te("bds-book-format"),Ue,yt],e.BookFormat);const vi=e=>G`
        <bds-program-badge
            badgePhysicalId=${mt(e.badgePhysicalId)}
            badgeAltText=${mt(e.badgeAltText)}
            badgeExtension=${mt(e.badgeExtension)}
            badgeImageHeightPx=${mt(e.badgeImageHeightPx)}>
        </bds-program-badge>
    `;var pi=[p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .price {
        color: var(--bds-color-functional-neutral-on-surface);
        display: inline-block;
        margin-bottom: var(--bds-size-spacing-2x-small);
        font-size: var(--bds-size-font-functional-body-large);
        line-height: var(--bds-size-line-height-functional-body-small);
        position: relative;
    }

    .price.you-pay .promotion-message {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        margin-bottom: var(--bds-size-spacing-2x-small);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .price-field {
        display: inline-block;
    }

    /* stylelint-disable-next-line selector-class-pattern
    */
    .currencySymbol {
        font-size: var(--bds-price-block-item-price-size-font-superscript);
        line-height: var(--bds-price-block-item-price-size-line-height-superscript);
        vertical-align: 20%;
    }

    .membership-message {
        color: var(--bds-color-functional-neutral-on-surface);
        margin-bottom: var(--bds-size-spacing-2x-small);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .basis-price {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .basis-price .basis-price-display-string {
        text-decoration: line-through;
    }

    .price.inline {
        display: flex;
        column-gap: 24px;
        align-items: baseline;
        flex-flow: row wrap;
    }

    .price-format-parts-wrapper {
        display: inline;
    }

    /* TODO remove fallbacks below once tokenv2 migration is completed */
    .rio.price,
    .price.inline {
        margin-bottom: 0;
    }

    .price .deal-percentage {
        color: var(--bds-color-functional-supplemental-discount);
        font-family: var(--bds-price-block-discount-percent-font-family);
        font-size: var(--bds-price-block-discount-percent-size-font);
        font-weight: var(--bds-price-block-discount-percent-font-weight);
        line-height: var(--bds-price-block-discount-percent-size-line-height);
    }

    .price .price-to-pay-message {
        font-size: var(--bds-size-font-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface-variant);
    }

    .rio-format.price-field.currencySymbol,
    .rio-format.price-field.fractionalValue,
    .rio-format.price-field.integerValue {
        font-family: var(--bds-price-block-item-price-font-family);
        font-weight: var(--bds-price-block-item-price-font-weight);
    }

    .rio-format.price-field.currencySymbol,
    .rio-format.price-field.fractionalValue {
        font-size: var(--bds-price-block-item-price-size-font-superscript);
        line-height: var(--bds-price-block-item-price-size-line-height-superscript);
        vertical-align: text-top;
    }

    .rio-format.price-field.integerValue {
        font-size: var(--bds-price-block-item-price-size-font-main);
        line-height: var(--bds-price-block-item-price-size-line-height-main);
    }

    .rio-format.price-field.decimalSeparator {
        display: none;
    }
`,Ut()];e.BookPrice=class extends Ne{constructor(){super(...arguments),this.skeletonType="metadata",this.skeletonWidthPx=Bt.metadata.widthPx,this.skeletonHeightPx=Bt.metadata.heightPx,this.layout="multiline"}isValidPriceFormatParts(e){var t,i;return!!((null==e?void 0:e.displayString)&&(null==e?void 0:e.displayFieldOrder)&&(null===(t=null==e?void 0:e.displayFields)||void 0===t?void 0:t.currencySymbol)&&(null===(i=null==e?void 0:e.displayFields)||void 0===i?void 0:i.integerValue))}renderPriceFormatParts(e,t,i){var a,o;let r=[...e.displayFieldOrder];ni()&&(null==e?void 0:e.displayFieldOrder)&&(null===(o=null===(a=this.priceFormatParts)||void 0===a?void 0:a.displayFields)||void 0===o?void 0:o.currencySymbol)&&(r=[...e.displayFieldOrder].filter((e=>"currencySymbol"!==e)),r.unshift("currencySymbol"));const s=r.filter((t=>{var i;return!!(null===(i=null==e?void 0:e.displayFields)||void 0===i?void 0:i[t])})).map((t=>{const a="currencySymbol"===t&&ni()?"rtl":void 0;return G`<div
                    class="price-field ${t} ${this.layout} ${i}"
                    aria-hidden="true"
                    dir="${mt(a)}">
                    ${null==e?void 0:e.displayFields[t]}
                </div>`}));return G`
            ${ft(s,(()=>G`<div class="price-format-parts-wrapper" dir="ltr">${s}</div>`))}
            ${ft(t&&(null==e?void 0:e.displayString),(()=>G`<span class="offscreen">${null==e?void 0:e.displayString}</span>`))}
        `}getPriceAmountAriaLabel(e){var t,i,a;const o=this.savingsPercentageDisplayString&&ri("bds_savings_percentage_aria_text",null===(t=this.renderContext)||void 0===t?void 0:t.locale,{savingsPercentage:this.savingsPercentageDisplayString})||"",r=(null===(i=this.audiblePromotion)||void 0===i?void 0:i.audibleMemberMessage)||"";if(!e||!o&&!r)return;let s;return s=o&&r?"bds_price_amount_with_savings_percentage_with_audible_message_aria_text":o?"bds_price_amount_with_savings_percentage_aria_text":"bds_price_amount_with_audible_message_aria_text",ri(s,null===(a=this.renderContext)||void 0===a?void 0:a.locale,{priceToPay:e,audibleMessage:r,savingsPercentage:o})}render(){var e,t,i,a;const o="inline"===this.layout||"rio"===this.layout?"rio-format":void 0;if(this.youPayPromotion&&this.youPayPromotion.youPayAmount&&this.youPayPromotion.basePrice&&this.youPayPromotion.promotionMessage)return G`
                <div class="price you-pay">
                    ${ft("string"==typeof this.youPayPromotion.youPayAmount,(()=>{var e;return G`<div class="amount">
                                ${null===(e=this.youPayPromotion)||void 0===e?void 0:e.youPayAmount}
                            </div>`}),(()=>{var e;return this.renderPriceFormatParts(null===(e=this.youPayPromotion)||void 0===e?void 0:e.youPayAmount,!0,o)}))}
                    <div class="promotion-message">
                        ${ft("string"==typeof this.youPayPromotion.basePrice,(()=>{var e;return G`${null===(e=this.youPayPromotion)||void 0===e?void 0:e.basePrice}`}),(()=>{var e;return this.renderPriceFormatParts(null===(e=this.youPayPromotion)||void 0===e?void 0:e.basePrice,!0,o)}))}
                        ${this.youPayPromotion.promotionMessage}
                    </div>
                </div>
            `;const r=null!==(t=null===(e=this.priceFormatParts)||void 0===e?void 0:e.displayString)&&void 0!==t?t:this.unstylizedPrice,s=this.getPriceAmountAriaLabel(r||"");return G`
            <div class="price ${this.layout} ${o}">
                <div class="amount">
                    ${ft(this.savingsPercentageDisplayString&&this.basisPriceDisplayString,(()=>{var e;const t=this.savingsPercentageDisplayString&&ri("bds_savings_percentage_text",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{savingsPercentage:this.savingsPercentageDisplayString});return ft(!!t,(()=>G`<span class="deal-percentage" aria-hidden="true">
                                    ${t}
                                </span>`))}))}
                    ${ft(this.isValidPriceFormatParts(this.priceFormatParts),(()=>this.renderPriceFormatParts(this.priceFormatParts,!s,o)),(()=>ft(!!r,(()=>G`<span aria-hidden=${!!s}
                                        >${r}</span
                                    >`))))}
                    ${ft("inline"!==this.layout&&(null===(i=this.audiblePromotion)||void 0===i?void 0:i.audibleMemberMessage),(()=>{var e;return G`
                            <span class="membership-message" aria-hidden="true">
                                ${null===(e=this.audiblePromotion)||void 0===e?void 0:e.audibleMemberMessage}
                            </span>
                        `}))}
                    ${ft(!!s,(()=>G`<span class="offscreen"> ${s} </span>`))}
                </div>

                ${ft(this.basisPriceDisplayString,(()=>G` <span class="basis-price" aria-hidden="true">
                        ${ft(this.basisPriceLabel&&"inline"!==this.layout,(()=>G`<span class="basis-price-label" aria-hidden="true">
                                    ${this.basisPriceLabel}
                                </span>`))}
                        ${ft(this.basisPriceDisplayString,(()=>G`<span class="basis-price-display-string" aria-hidden="true">
                                    ${this.basisPriceDisplayString}
                                </span>`))}
                    </span>`))}
                ${ft(this.basisPriceDisplayString,(()=>{var e;const t=!(!this.basisPriceDisplayString||!this.basisPriceLabel)&&ri("bds_basis_price_text",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{label:this.basisPriceLabel,basisPrice:this.basisPriceDisplayString});return ft(!!t,(()=>G`<span class="offscreen"> ${t} </span>`))}))}
                ${ft("inline"===this.layout&&(null===(a=this.audiblePromotion)||void 0===a?void 0:a.audibleMemberMessage),(()=>{var e;return G`
                        <span class="membership-message" aria-hidden="true">
                            ${null===(e=this.audiblePromotion)||void 0===e?void 0:e.audibleMemberMessage}
                        </span>
                    `}))}
                ${ft(this.priceToPayMessage,(()=>G`<div class="price-to-pay-message">${this.priceToPayMessage}</div>`))}
            </div>
        `}},e.BookPrice.styles=pi,t([ye({context:Pe,subscribe:!0})],e.BookPrice.prototype,"renderContext",void 0),t([we({type:String})],e.BookPrice.prototype,"unstylizedPrice",void 0),t([we({type:Object})],e.BookPrice.prototype,"priceFormatParts",void 0),t([we({type:Object})],e.BookPrice.prototype,"youPayPromotion",void 0),t([we({type:Object})],e.BookPrice.prototype,"audiblePromotion",void 0),t([we({type:String})],e.BookPrice.prototype,"basisPriceDisplayString",void 0),t([we({type:String})],e.BookPrice.prototype,"basisPriceLabel",void 0),t([we({type:String})],e.BookPrice.prototype,"layout",void 0),t([we({type:String})],e.BookPrice.prototype,"savingsPercentageDisplayString",void 0),t([we({type:String})],e.BookPrice.prototype,"priceToPayMessage",void 0),e.BookPrice=t([Te("bds-book-price"),Ue,yt],e.BookPrice);var mi=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .points {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        margin-bottom: var(--bds-size-spacing-2x-small);

        ${$t(1)};
    }
`;e.BookPoints=class extends Ne{constructor(){super(...arguments),this.skeletonType="metadata",this.skeletonWidthPx=Bt.metadata.widthPx,this.skeletonHeightPx=Bt.metadata.heightPx}getPointsDisplay(){var e;return(null===(e=this.pointsV2)||void 0===e?void 0:e.displayString)?this.pointsV2.displayString:this.points?this.points:""}render(){var e;return this.points||this.pointsV2?G`<div class="points ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">
                ${this.getPointsDisplay()}
            </div>`:q}},e.BookPoints.styles=mi,t([we({type:String})],e.BookPoints.prototype,"points",void 0),t([we({type:Object})],e.BookPoints.prototype,"pointsV2",void 0),t([ye({context:Pe,subscribe:!0})],e.BookPoints.prototype,"renderContext",void 0),e.BookPoints=t([Te("bds-book-points"),Ue,yt],e.BookPoints);var _i=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .formats {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-weight: var(--bds-font-weight-functional-body);
        margin-bottom: var(--bds-size-spacing-2x-small);
        line-height: var(--bds-size-line-height-functional-body-small);
        font-size: var(--bds-size-font-functional-body-medium);
    }

    .formats.larger-text {
        font-size: var(--bds-size-font-functional-body-large);
        line-height: var(--bds-size-line-height-functional-body-large);
    }

    .formats a {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-weight: var(--bds-font-weight-functional-body);
        margin-bottom: var(--bds-size-spacing-2x-small);
        line-height: var(--bds-size-line-height-functional-body-small);
        font-size: var(--bds-size-font-functional-body-medium);
    }

    .formats.larger-text a {
        font-size: var(--bds-size-font-functional-body-large);
        line-height: var(--bds-size-line-height-functional-body-large);
    }
`;e.BookOtherFormats=class extends et{getDefaultConfiguration(){return{enableLargerText:!1,disableIndividualFormatLinks:!1}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile"},overrides:{disableIndividualFormatLinks:!0}},{targeting:{devicetype:"tablet"},overrides:{disableIndividualFormatLinks:!0}},{targeting:{devicetype:"desktop"},overrides:{enableLargerText:!0}}]}render(){var e,t;const i=this.getRenderConfiguration();if(!Array.isArray(this.allFormats)||!this.allFormats.length)return q;let a=[];const o=Math.min(this.allFormats.length,void 0!==this.numFormatsToShow?this.numFormatsToShow:3);if(a=[...this.allFormats].splice(0,o).map((e=>i.disableIndividualFormatLinks?e.displayString:G`<a href="${e.detailUrl}"> ${e.displayString} </a>`)),this.allFormats.length>o){const t=this.allFormats.length-o,r=ri("bds_ubf_book_other_formats_more_text",null===(e=this.renderContext)||void 0===e?void 0:e.locale,{numberOfFormats:t});!i.disableIndividualFormatLinks&&this.detailPage?a.push(G`<a href="${this.detailPage}"> ${r} </a>`):a.push(G`${r}`)}const r=
/**
     * @license
     * Copyright 2021 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */
function*(e,t){var i="function"==typeof t;if(void 0!==e){var a=-1;for(var o of e)a>-1&&(yield i?t(a):t),a++,yield o}}(a,G`<span aria-hidden="true">, </span>`),s=ri(1===o?"bds_ubf_book_single_other_format_label":"bds_ubf_book_other_formats_label",null===(t=this.renderContext)||void 0===t?void 0:t.locale);return G`<div class="formats ${i.enableLargerText?"larger-text":""}">
            ${s}
            ${i.disableIndividualFormatLinks&&this.detailPage?G`<a href="${this.detailPage}"> ${r} </a>`:r}
        </div>`}},e.BookOtherFormats.styles=_i,t([we({type:String})],e.BookOtherFormats.prototype,"detailPage",void 0),t([we({type:Number})],e.BookOtherFormats.prototype,"numFormatsToShow",void 0),t([we({type:Array})],e.BookOtherFormats.prototype,"allFormats",void 0),e.BookOtherFormats=t([Te("bds-book-other-formats"),Ue],e.BookOtherFormats);var fi=p`
    .blurb-wrapper {
        min-height: 295px;
        min-width: 231px;
        width: min-content;
        display: grid;
        grid-template-columns: 11px auto;
        box-sizing: border-box;
        word-wrap: break-word;
        word-break: break-word;
        font-family: var(--bds-font-family-functional-body);
        color: var(--bds-color-functional-neutral-on-surface);
        padding-left: var(--bds-size-spacing-2x-small);
    }

    .blurb-wrapper.compact {
        min-height: 295px;
        min-width: 160px;
    }

    .blurb-container {
        display: flex;
        flex-direction: column;
        position: relative;
        border-style: solid;
        padding: var(--bds-size-utils-padding-10);
        line-height: var(--bds-size-line-height-functional-body-small);
        border-width: var(--bds-size-line-weight-small);
        border-color: var(--bds-color-functional-neutral-outline);
        border-left-width: var(--bds-size-line-weight-x-large);
        border-left-color: #28a7dd;
    }

    .compact .blurb-container {
        padding: var(--bds-size-utils-padding-6);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .pointer-arrow {
        clip-path: polygon(
            0px 105px,
            10px 114px,
            10px 100%,
            11px 100%,
            11px 96px,
            11px 0%,
            10px 0%,
            10px 96px,
            0px 105px
        );
        background: #28a7dd;
    }

    a.blurb-container-link {
        color: unset;
        text-decoration: none;
        height: 100%;
    }

    .blurb-quote {
        display: block;
        align-self: flex-start;
        border: 0;
        height: 35px;
    }

    .compact .blurb-quote {
        height: 23px;
    }

    .blurb-text-container {
        margin-bottom: var(--bds-size-utils-padding-6);
    }

    .blurb-text {
        position: relative;
        font-size: var(--bds-size-font-functional-body-medium);
        padding-top: var(--bds-size-spacing-2x-small);
        margin-top: 0;
    }

    .blurb-text::after {
        content: '';
        position: absolute;
        pointer-events: none;
        height: var(--bds-size-utils-padding-20);
        background: linear-gradient(
            to bottom,
            transparent,
            var(--bds-color-functional-neutral-surface)
        );
        visibility: var(--fade-out-overlay-visibility, hidden);
        left: 0;
        bottom: 0;
        width: 100%;
    }

    a.read-full-article-link {
        text-decoration: underline;
        cursor: pointer;
        display: block;
        color: var(--bds-link-color-text-active);
    }

    a.read-full-article-link:hover {
        color: var(--bds-link-color-text-hover);
    }

    .blurb-author-bottom-align {
        margin-top: auto;
    }

    .blurb-card-line {
        height: 5px;
        width: 45px;
        background-color: #28a7dd;
    }

    .compact .blurb-card-line {
        width: 35px;
    }

    .blurb-contributor-container {
        display: flex;
        padding-block: var(--bds-size-spacing-x-small);
        font-size: var(--bds-size-font-functional-body-large);
        min-height: 45px;
    }

    .compact .blurb-contributor-container {
        display: block;
        padding-block: var(--bds-size-utils-padding-6);
    }

    .blurb-contributor-details {
        padding-left: var(--bds-size-spacing-x-small);
    }

    .compact .blurb-contributor-details {
        padding-left: 0;
    }

    .blurb-contributor-image {
        position: relative;
        vertical-align: top;
        height: 45px;
        width: 45px;
        border-radius: 50%;
    }

    .compact .blurb-contributor-image {
        vertical-align: top;
        height: 34px;
        width: 34px;
    }

    .blurb-contributor-head {
        color: var(--bds-color-functional-neutral-on-surface-variant);
    }

    a.blurb-contributor-subhead {
        text-decoration: underline;
        font-weight: var(--bds-font-weight-functional-display);
        color: var(--bds-link-color-text-active);
    }

    a.blurb-contributor-subhead:hover {
        color: var(--bds-link-color-text-hover);
    }
`;let yi=class extends et{getDefaultConfiguration(){return{displayMode:"default"}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile"},overrides:{displayMode:"compact"}}]}firstUpdated(){this.updateBlurbContextOnOverflow()}updated(e){e.has("blurbMetadata")&&this.updateBlurbContextOnOverflow()}updateBlurbContextOnOverflow(){const e=this.renderRoot.querySelector(".blurb-text");e instanceof HTMLElement&&(e.scrollHeight>e.clientHeight?e.style.setProperty("--fade-out-overlay-visibility","visible"):e.style.setProperty("--fade-out-overlay-visibility","hidden"))}shouldRenderBlurb(){var e,t;const i=!!(null===(e=this.blurbMetadata)||void 0===e?void 0:e.blurbText);return!!(null===(t=this.blurbMetadata)||void 0===t?void 0:t.blurbRefUrl)&&i}renderBlurbTextContainer(){var e,t;const i=function(e){if("string"!=typeof e)return!1;try{return new URL(e).protocol.startsWith("http")}catch(e){return!1}}(null===(e=this.blurbMetadata)||void 0===e?void 0:e.articleRefUrl);return G` <div class="blurb-text-container">
            <div class="blurb-text" .style="${ft(i,(()=>$t(7)))}">
                ${null===(t=this.blurbMetadata)||void 0===t?void 0:t.blurbText}
            </div>
            ${ft(i,(()=>{var e,t;return G`<a
                    href="${mt(null===(e=this.blurbMetadata)||void 0===e?void 0:e.articleRefUrl)}"
                    class="read-full-article-link"
                    >${ri("bds_blurb_read_full_article_label",null===(t=this.renderContext)||void 0===t?void 0:t.locale)}</a
                >`}))}
        </div>`}renderContributorContainer(){var e,t,i;const a=!!(null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorImageUrl),o=!!(null===(t=this.blurbMetadata)||void 0===t?void 0:t.contributorSubHeading);return ft(!!(null===(i=this.blurbMetadata)||void 0===i?void 0:i.contributorHeading),(()=>{var e;return G` <div class="blurb-contributor-container">
                ${ft(a,(()=>{var e;return G` <div aria-hidden="true" class="blurb-contributor-image-container">
                        <img
                            alt=""
                            src="${mt(null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorImageUrl)}"
                            class="blurb-contributor-image" />
                    </div>`}))}
                <div class="blurb-contributor-details">
                    <div>
                        <span class="blurb-contributor-head"
                            >${null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorHeading}</span
                        >
                    </div>
                    ${ft(o,(()=>{var e,t;return G` <div>
                            <a
                                class="blurb-contributor-subhead"
                                href="${mt(null===(e=this.blurbMetadata)||void 0===e?void 0:e.contributorRefUrl)}">
                                ${null===(t=this.blurbMetadata)||void 0===t?void 0:t.contributorSubHeading}</a
                            >
                        </div>`}))}
                </div>
            </div>`}))}render(){const e=this.getRenderConfiguration();return G` ${ft(this.shouldRenderBlurb(),(()=>{var t;return G` <div class="blurb-wrapper ${e.displayMode}">
                <div class="pointer-arrow"></div>
                <div class="blurb-container">
                    <img
                        alt=""
                        class="blurb-quote"
                        src="https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/blurbQuote.svg"
                        aria-hidden="true" />
                    <a
                        class="blurb-container-link"
                        href="${mt(null===(t=this.blurbMetadata)||void 0===t?void 0:t.blurbRefUrl)}">
                        ${this.renderBlurbTextContainer()}
                    </a>
                    <div class="blurb-author-bottom-align">
                        <div class="blurb-card-line"></div>
                        ${this.renderContributorContainer()}
                    </div>
                </div>
            </div>`}))}`}};yi.styles=fi,t([we({type:Object})],yi.prototype,"blurbMetadata",void 0),yi=t([Te("bds-book-blurb")],yi);var xi=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .delivery-badge {
        display: flex;
        align-items: center;
    }

    .delivery-message {
        font-size: var(--bds-size-font-functional-label-small);
        font-weight: var(--bds-font-weight-functional-label);
        line-height: var(--bds-size-line-height-functional-label-small);
    }

    .delivery-fragment-strong {
        font-weight: var(--bds-font-weight-functional-display);
    }

    .delivery-fragment-nowrap {
        white-space: nowrap;
    }

    .delivery-promise-wrapper.spaced {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
`;e.DeliveryPromise=class extends Ne{constructor(){super(...arguments),this.skeletonType="metadata",this.skeletonWidthPx=Bt.metadata.widthPx,this.skeletonHeightPx=Bt.metadata.heightPx}render(){var e,t,i;return ft((null===(e=this.deliveryInfo)||void 0===e?void 0:e.deliveryBadge)&&(null===(i=null===(t=this.deliveryInfo)||void 0===t?void 0:t.deliveryMessageFragmentList)||void 0===i?void 0:i.length),(()=>{var e,t,i,a;return G`
                <div class="delivery-promise-wrapper ${this.layout}">
                    <div class="delivery-badge ${null===(e=this.renderContext)||void 0===e?void 0:e.devicetype}">
                        ${(null===(t=this.deliveryInfo)||void 0===t?void 0:t.deliveryBadge)&&ki(this.deliveryInfo.deliveryBadge)}
                    </div>
                    ${ft(null===(a=null===(i=this.deliveryInfo)||void 0===i?void 0:i.deliveryMessageFragmentList)||void 0===a?void 0:a.length,(()=>{var e;return G`<div class="delivery-message">
                            ${wi(null===(e=this.deliveryInfo)||void 0===e?void 0:e.deliveryMessageFragmentList)}
                        </div>`}))}
                </div>
            `}))}},e.DeliveryPromise.styles=xi,t([we({type:Object})],e.DeliveryPromise.prototype,"deliveryInfo",void 0),t([ye({context:Pe,subscribe:!0})],e.DeliveryPromise.prototype,"renderContext",void 0),t([we({type:String})],e.DeliveryPromise.prototype,"layout",void 0),e.DeliveryPromise=t([Te("bds-delivery-promise"),Ue,yt],e.DeliveryPromise);const ki=e=>G`
        <bds-program-badge
            badgePhysicalId=${mt(e.badgePhysicalId)}
            badgeAltText=${mt(e.badgeAltText)}
            badgeExtension=${mt(e.badgeExtension)}
            badgeImageHeightPx=${mt(e.badgeImageHeightPx)}>
        </bds-program-badge>
    `,wi=e=>void 0===e?q:e.map((e=>{var t,i;return e.text?G`
            <span
                class="${(null===(t=e.style)||void 0===t?void 0:t.strong)?"delivery-fragment-strong":""} ${(null===(i=e.style)||void 0===i?void 0:i.noWrap)?"delivery-fragment-nowrap":""}">
                ${e.text}
            </span>
        `:q}));var Ci=p`
    .overlay-container {
        border: 1px solid;
        height: 23px;
        line-height: 23px;
        font-size: var(--bds-size-font-functional-body-medium);
        border-radius: 5px;
        justify-content: center;
        align-items: center;
        display: flex;
        background: white;
        width: max-content;
        padding: 1px 5px;
        margin-right: 2px;
        margin-top: 1px;
        color: black;
        box-shadow: 0.5px 0.5px;
    }
`;e.SeriesOverlay=class extends et{getDefaultConfiguration(){return{textLineHeight:"--bds-size-line-height-functional-title-small",fontSize:"--bds-size-font-functional-body-small"}}getConfigurationOverrides(){return[{targeting:{devicetype:"mobile",marketplace:"A1VC38T7YXB528"},overrides:{textLineHeight:"--bds-size-line-height-functional-title-small",fontSize:"--bds-size-font-functional-body-small"}},{targeting:{devicetype:"tablet",marketplace:"A1VC38T7YXB528"},overrides:{textLineHeight:"--bds-size-line-height-functional-title-small",fontSize:"--bds-size-font-functional-body-small"}}]}render(){const e=this.getRenderConfiguration();return G`<div
            class="overlay-container"
            style="line-height: var(${e.textLineHeight}); font-size: var(${e.fontSize});">
            <p>${this.label}</p>
        </div>`}},e.SeriesOverlay.styles=Ci,t([we({type:String})],e.SeriesOverlay.prototype,"label",void 0),e.SeriesOverlay=t([Te("bds-series-overlay"),Ue],e.SeriesOverlay);var Bi=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .book-release-date {
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
    }
`;let Pi=class extends Ne{constructor(){super(...arguments),this.isShortFormat=!1}getReleaseDateString(e){var t;return ri(this.isShortFormat?"bds_this_title_release_date_short_text":"bds_this_title_release_date_text",null===(t=this.renderContext)||void 0===t?void 0:t.locale,{releaseDate:e})}getReleaseDate(){var e,t,i;const a=(null===(e=this.releaseDate)||void 0===e?void 0:e.date)?new Date(this.releaseDate.date):void 0,o={year:"numeric",month:this.isShortFormat?"short":"long",day:"numeric"},r=null==a?void 0:a.toLocaleDateString(null===(t=this.renderContext)||void 0===t?void 0:t.locale,o);return this.isShortFormat?r:(null===(i=this.releaseDate)||void 0===i?void 0:i.displayString)||r}render(){const e=this.getReleaseDate(),t=e?this.getReleaseDateString(e):void 0;return G`
            ${ft(t,(()=>G` <div class="book-release-date">${t}</div>`))}
        `}};Pi.styles=Bi,t([we({type:Object})],Pi.prototype,"releaseDate",void 0),t([we({type:Boolean})],Pi.prototype,"isShortFormat",void 0),t([ye({context:Pe,subscribe:!0})],Pi.prototype,"renderContext",void 0),Pi=t([Te("bds-book-release-date"),Ue],Pi);var $i=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
    }

    .likes-container {
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-2x-small);
    }

    .likes-count {
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-weight: var(--bds-font-weight-functional-body);
    }
`,Ti=p`
    :host {
        display: inline-block;
    }
`;e.Icon=class extends be{constructor(){super(...arguments),this.iconColor="var(--bds-color-functional-neutral-outline-bright)",this.iconSize="24px"}render(){return G`
            <div
                style="
                    width: ${this.iconSize};
                    height: ${this.iconSize};
                    mask: url(${Ke(this.iconName)}) no-repeat center;
                    mask-size: 100%;
                    background-color: ${this.iconColor}
                "></div>
        `}},e.Icon.styles=Ti,t([we({type:String})],e.Icon.prototype,"iconName",void 0),t([we({type:String})],e.Icon.prototype,"iconColor",void 0),t([we({type:String})],e.Icon.prototype,"iconSize",void 0),e.Icon=t([Te("bds-icon")],e.Icon),e.Likes=class extends be{render(){return G` <div class="likes-container">
            <bds-icon
                iconName="heart.svg"
                iconSize="16px"
                iconColor="var(--bds-color-functional-neutral-on-surface-variant)">
            </bds-icon>
            <span class="likes-count">${this.displayString}</span>
        </div>`}},e.Likes.styles=$i,t([we({type:String})],e.Likes.prototype,"displayString",void 0),e.Likes=t([Te("bds-likes"),Ue,yt],e.Likes),e.WaitForFreeBadge=class extends Ne{render(){return G`<bds-primary-badge
            .badgeLabel=${this.badgeLabel}
            .badgeType=${`wff-${this.status.toLowerCase()}`}>
        </bds-primary-badge>`}},t([we({type:String})],e.WaitForFreeBadge.prototype,"badgeLabel",void 0),t([we({type:String})],e.WaitForFreeBadge.prototype,"status",void 0),e.WaitForFreeBadge=t([Te("bds-wait-for-free-badge"),Ue,yt],e.WaitForFreeBadge),e.LimitedTimeFreeBadge=class extends Ne{render(){return G`<bds-primary-badge .badgeLabel=${this.badgeLabel} badgeType="ltf">
        </bds-primary-badge>`}},t([we({type:String})],e.LimitedTimeFreeBadge.prototype,"badgeLabel",void 0),e.LimitedTimeFreeBadge=t([Te("bds-limited-time-free-badge"),Ue,yt],e.LimitedTimeFreeBadge);const Si=[{targeting:{pagetype:"storefront"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0,bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!0},enableProgramBadge:!0,enableBookFormat:!0,enableDeliveryPromise:!0}},{targeting:{pagetype:"storefront",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"storefront",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"storefront",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"storefront",operatingsystem:"iOS",hostapplication:"mShop"},overrides:{bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0}},{targeting:{pagetype:"storefront",operatingsystem:"iOS",marketplace:"ATVPDKIKX0DER"},overrides:{bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0}}],zi=[{targeting:{pagetype:"eBooksTYP"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0,enableProgramBadge:!0,enableBookFormat:!0}},{targeting:{pagetype:"eBooksTYP",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"eBooksTYP",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"eBooksTYP",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"eBooksTYP",operatingsystem:"iOS",hostapplication:"mShop"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"eBooksTYP",operatingsystem:"iOS",marketplace:"ATVPDKIKX0DER"},overrides:{bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0}}],Ii={bookTitleContentConfiguration:{primaryText:"headline",enablePrimaryLink:!0,suppressPrimaryAria:!1,secondaryText:void 0,enableSecondaryLink:!1,suppressSecondaryAria:!0,tertiaryText:void 0,enableTertiaryLink:!0,suppressTertiaryAria:!1,enableQuickView:!1},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},enableBookPoints:!1,bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!0,enableBookMetadataBadgeTopSlot:!0}},Ai=[{targeting:{pagetype:"limber",devicetype:"desktop"},overrides:Ii},{targeting:{pagetype:"limber",devicetype:"mobile"},overrides:Ii},{targeting:{pagetype:"limber",devicetype:"tablet"},overrides:Ii},{targeting:{pagetype:"limber",devicetype:"default"},overrides:Ii}],Li={layoutConfiguration:{bookCoverImageLayout:"fixedHeight",bookTitleContentLayout:"compact",priceLayout:"rio",bookFormatLayout:"secondary-compact",starRatingLayout:"standardV2"},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookTitleContentConfiguration:{primaryText:void 0,enablePrimaryLink:!0,suppressPrimaryAria:!1,secondaryText:void 0,enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:void 0,enableTertiaryLink:!1,suppressTertiaryAria:!0,enableQuickView:!0,secondaryShouldLinkToPrimaryTapTarget:!1},enableProgramBadgeInMetadataBlock:!0,enableProgramBadge:!0,enableDeliveryPromise:!0,enableBookFormat:!0,enableBookPoints:!0,bookReleaseDateConfiguration:{enableReleaseDate:!0,enableShortFormat:!0},bookTapTargetConfiguration:{enableStarRatingPrimaryTapAction:!1,enablePriceTapAction:!0,enableFormatTapAction:!0,enableProgramBadgeTapAction:!0,enableDeliveryPromiseTapAction:!0},bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!0,enableBookMetadataBadgeTopSlot:!1}},Ri={bookTapTargetConfiguration:Object.assign(Object.assign({},Li.bookTapTargetConfiguration),{enableStarRatingPrimaryTapAction:!0}),starRatingConfiguration:Object.assign(Object.assign({},Li.starRatingConfiguration),{enableReviewsLink:!1}),bookTitleContentConfiguration:Object.assign(Object.assign({},Li.bookTitleContentConfiguration),{enableSecondaryLink:!1,secondaryShouldLinkToPrimaryTapTarget:!0})},Oi={bookTapTargetConfiguration:Object.assign(Object.assign({},Li.bookTapTargetConfiguration),{enableStarRatingPrimaryTapAction:!0}),starRatingConfiguration:Object.assign(Object.assign({},Li.starRatingConfiguration),{enableReviewsLink:!1}),bookTitleContentConfiguration:Object.assign(Object.assign({},Li.bookTitleContentConfiguration),{enableSecondaryLink:!1,secondaryShouldLinkToPrimaryTapTarget:!0})},Fi=[{targeting:{layout:"metadata-only"},overrides:{bookCoverImageConfiguration:{disableBookCoverImage:!0,enableQuickView:!1},enableProgramBadgeInMetadataBlock:!0}},{targeting:{layout:"blurred-backdrop"},overrides:{layoutConfiguration:{bookCoverImageLayout:"blurredBackdrop",starRatingLayout:"mini"},enableProgramBadgeInMetadataBlock:!0}},{targeting:{layout:"contained"},overrides:{layoutConfiguration:{bookCoverImageLayout:"contained",starRatingLayout:void 0}}},{targeting:{layout:"containedBaseline"},overrides:{layoutConfiguration:{bookCoverImageLayout:"containedBaseline",starRatingLayout:void 0}}},{targeting:{layout:"grid"},overrides:Object.assign(Object.assign({},Li),{layoutConfiguration:Object.assign(Object.assign({},Li.layoutConfiguration),{bookCoverImageLayout:"grid"}),bookMetadataBadgeConfiguration:Object.assign(Object.assign({},Li.bookMetadataBadgeConfiguration),{enableBookMetadataBadgeTopSlot:!0}),bookTitleContentConfiguration:Object.assign(Object.assign({},Li.bookTitleContentConfiguration),{enableSecondaryLink:!1}),enableBookPoints:!1})},{targeting:{layout:"grid",devicetype:"mobile"},overrides:Object.assign({},Oi)},{targeting:{layout:"grid",devicetype:"tablet"},overrides:Object.assign({},Ri)},{targeting:{layout:"list"},overrides:{layoutConfiguration:{bookCoverImageLayout:"list",starRatingLayout:void 0,bookTitleContentLayout:"regular",priceLayout:"rio",bookFormatLayout:"secondary-compact"},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0,enableStarRatingsWrap:!0},bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,enablePrimaryTextBold:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},enableProgramBadgeInMetadataBlock:!0,enableProgramBadge:!0,enableBookFormat:!0,enableBookPoints:!0,bookReleaseDateConfiguration:{enableReleaseDate:!0,enableShortFormat:!1},bookTapTargetConfiguration:{enableStarRatingPrimaryTapAction:!0,enablePriceTapAction:!0,enableFormatTapAction:!0},bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!1}}},{targeting:{layout:"standardV2"},overrides:Object.assign({},Li)},{targeting:{layout:"standardV2",marketplace:"ATVPDKIKX0DER"},overrides:Object.assign(Object.assign({},Li),{bookTitleContentConfiguration:Object.assign(Object.assign({},Li.bookTitleContentConfiguration),{secondaryText:"seriesBullet"})})},{targeting:{layout:"standardV2",marketplace:"A1VC38T7YXB528"},overrides:Object.assign(Object.assign({},Li),{bookMetadataBadgeConfiguration:Object.assign(Object.assign({},Li.bookMetadataBadgeConfiguration),{enableBookMetadataBadgeTopSlot:!0}),bookTitleContentConfiguration:Object.assign(Object.assign({},Li.bookTitleContentConfiguration),{secondaryText:"seriesBullet"})})},{targeting:{layout:"standardV2",marketplace:"A1VC38T7YXB528",devicetype:"tablet"},overrides:Object.assign(Object.assign({},Ri),{bookTitleContentConfiguration:Object.assign(Object.assign({},Ri.bookTitleContentConfiguration),{secondaryText:"seriesBullet"})})},{targeting:{layout:"standardV2",marketplace:"A1VC38T7YXB528",devicetype:"mobile"},overrides:Object.assign(Object.assign({},Oi),{bookTitleContentConfiguration:Object.assign(Object.assign({},Oi.bookTitleContentConfiguration),{secondaryText:"seriesBullet"})})},{targeting:{layout:"standardV2",devicetype:"tablet"},overrides:Object.assign({},Ri)},{targeting:{layout:"standardV2",devicetype:"mobile"},overrides:Object.assign({},Oi)}],Di=[{targeting:{pagetype:"kuSignUp"},overrides:{bookTitleContentConfiguration:void 0,starRatingConfiguration:void 0,bookPriceConfiguration:void 0,bookReleaseDateConfiguration:{enableReleaseDate:!1,enableShortFormat:!1},enableBookPoints:!1,bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!1},enableProgramBadge:!1,enableBookFormat:!1,bookTapTargetConfiguration:{enableStarRatingPrimaryTapAction:!1,enablePriceTapAction:!1,enableFormatTapAction:!1}}}],Mi=[{targeting:{devicetype:"mobile"},overrides:{seriesOverlayConfiguration:{topOffsetPx:18}}},{targeting:{marketplace:"A1VC38T7YXB528"},overrides:{enableBookPoints:!0}},{targeting:{hostapplication:"kindle"},overrides:{enableLimitedTimeFreeBadge:!1}},{targeting:{hostapplication:"mShop"},overrides:{enableLimitedTimeFreeBadge:!1}}].concat(Si).concat(zi).concat([{targeting:{pagetype:"detailPage"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!0,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!0,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!0},bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0,enableBookFormat:!0,enableBookFormats:!1,enableDeliveryPromise:!0,enableProgramBadge:!0,enableProgramBadgeInMetadataBlock:!0,layoutConfiguration:{priceLayout:"rio"}}},{targeting:{pagetype:"detailPage",devicetype:"mobile"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"detailPage",devicetype:"tablet"},overrides:{bookTitleContentConfiguration:{primaryText:"title",enablePrimaryLink:!0,suppressPrimaryAria:!0,secondaryText:"seriesBullet",enableSecondaryLink:!1,suppressSecondaryAria:!1,tertiaryText:"author",enableTertiaryLink:!1,suppressTertiaryAria:!1,enableQuickView:!1},starRatingConfiguration:{enableReviewsLink:!1}}},{targeting:{pagetype:"detailPage",operatingsystem:"iOS",hostapplication:"kindle"},overrides:{bookPriceConfiguration:{enableBookPrice:!1,enableQuickView:!1},enableBookPoints:!1}},{targeting:{pagetype:"detailPage",operatingsystem:"iOS",hostapplication:"kindle",marketplace:"ATVPDKIKX0DER"},overrides:{bookPriceConfiguration:{enableBookPrice:!0,enableQuickView:!1},enableBookPoints:!0}}]).concat([{targeting:{pagetype:"kindleHome"},overrides:{enableMetadataBlock:!1}}]).concat(Ai).concat(Fi).concat(Di);const Ei=()=>window.WebViewWidget,Ui=()=>{var e;return null===(e=window.webkit)||void 0===e?void 0:e.messageHandlers},Hi={openWebPage:(e,t,i,a=!1)=>{var o,r,s,n;if(Ei()){const n=(e=>{try{return new URL(e),!0}catch(e){return!1}})(e)?e:new URL(e,"localhost"===window.location.hostname?"https://www.amazon.com":window.location.origin).href;(null===(o=Ei())||void 0===o?void 0:o.openWebUrl)?null===(r=Ei())||void 0===r||r.openWebUrl(n,t||void 0,i||"",a):null===(s=Ei())||void 0===s||s.openWebPage(n,t||void 0,i||"")}else if(Ui()){const a={url:e};t&&(a.viewTitle=t),i&&(a.reftag=i),null===(n=Ui())||void 0===n||n.openWebPage.postMessage(a)}},isOpenWebPageAvailable:()=>{var e,t,i;return!!((null===(e=Ei())||void 0===e?void 0:e.openWebPage)||(null===(t=Ei())||void 0===t?void 0:t.openWebUrl)||(null===(i=Ui())||void 0===i?void 0:i.openWebPage))},isNativeBridgeAvailable:()=>!(!Ei()&&!Ui()),reportActionMetric:(e,t)=>{var i,a,o,r;(null===(i=Ei())||void 0===i?void 0:i.reportActionMetric)?null===(a=Ei())||void 0===a||a.reportActionMetric(e,t):(null===(o=Ui())||void 0===o?void 0:o.reportActionMetric)&&(null===(r=Ui())||void 0===r||r.reportActionMetric.postMessage({action:e,actionType:t}))},isLaunchQuickViewAvailable:()=>{var e,t,i;return!!((null===(e=Ei())||void 0===e?void 0:e.launchQuickViewIfEnabledAsync)||(null===(t=Ei())||void 0===t?void 0:t.launchQuickViewIfEnabled)||(null===(i=Ui())||void 0===i?void 0:i.launchQuickViewIfEnabled))},launchQuickViewIfEnabled:(e,t,i=void 0,a=void 0)=>{var o,r,s,n,l,d;Hi.reportActionMetric("tap","QUICKVIEW"),(null===(o=Ei())||void 0===o?void 0:o.launchQuickViewIfEnabledAsync)?null===(r=Ei())||void 0===r||r.launchQuickViewIfEnabledAsync(e,JSON.stringify(t),i,a):(null===(s=Ei())||void 0===s?void 0:s.launchQuickViewIfEnabled)?null===(n=Ei())||void 0===n||n.launchQuickViewIfEnabled(e,JSON.stringify(t),i,a):(null===(l=Ui())||void 0===l?void 0:l.launchQuickViewIfEnabled)&&(null===(d=Ui())||void 0===d||d.launchQuickViewIfEnabled.postMessage({initialIndex:e,asins:t,title:i,reftag:a}))}},Ni={openWebPage:e=>{Hi.isNativeBridgeAvailable()&&Hi.isOpenWebPageAvailable()?Hi.openWebPage(e):window.location.assign(e)},isQuickViewEnabled:()=>{var e,t,i;if(Hi.isNativeBridgeAvailable()&&Hi.isLaunchQuickViewAvailable())return!0;return"true"===(null!==(t=null===(e=document.querySelector("meta[name='x-feature-quickview-enabled']"))||void 0===e?void 0:e.getAttribute("content"))&&void 0!==t?t:void 0)&&!!(null===(i=window.qv)||void 0===i?void 0:i.launchQuickView)},getMergedAsinMetadata(e,t){if(!t||0===t.length)return e;const i=new Map;return e.forEach((e=>{e.asin&&i.set(e.asin,e)})),t.map((e=>{var t;return null!==(t=i.get(e))&&void 0!==t?t:{asin:e}}))},openQuickView:(e=0,t,i,a,o)=>{const r=t.asinMetadataCallbacks.map((e=>e())),s=Ni.getMergedAsinMetadata(r,t.asinList);if(e<0||0===r.length&&(!t.asinList||0===t.asinList.length)||e>=s.length||!Ni.isQuickViewEnabled())return Oe.logCountMetric("quickview-error"),void Ni.openWebPage(i);Oe.logCountMetric("quickview-launched");const n=JSON.stringify({qvPageClient:"ubf-page",widgetName:a||"ubf"});Ni.launchQuickView(e,s,o,n)},launchQuickView(e,t,i,a){var o,r;Hi.isNativeBridgeAvailable()&&Hi.isLaunchQuickViewAvailable()?Hi.launchQuickViewIfEnabled(e,t,i,a):null===(r=null===(o=window.qv)||void 0===o?void 0:o.launchQuickView)||void 0===r||r.call(o,{initialIndex:e,asins:t,title:i,csaContext:a})}},ji=new Set(["kindle_edition","kindle_edition_av","kindle_single","kindle_edition_active"]),Vi=new Set(["digital_audiobook","audible_audiobook","audio_download"]);function Wi(e,t){if("ATVPDKIKX0DER"===(null==t?void 0:t.marketplace))return!0;const i="iOS"===(null==t?void 0:t.operatingsystem)&&"kindle"===(null==t?void 0:t.hostapplication),a="iOS"===(null==t?void 0:t.operatingsystem)&&"mShop"===(null==t?void 0:t.hostapplication);return!(function(e){return!e||ji.has(e)||Vi.has(e)}(e)&&(a||i))}const Gi={deliveryInfo:"deliveryInfo",pointsV2:"pointsV2",badgePhysicalId:"badgePhysicalId",priceFormatParts:"priceFormatParts",format:"format",numberOfReviews:"numberOfReviews",dealBadge:"dealBadge",kindlePromotionTags:"kindlePromotionTags",dealRichContent:"dealRichContent",likes:"likes",waitForFreeBadge:"waitForFreeBadge",limitedTimeFreeBadge:"limitedTimeFreeBadge",giftGuideBadgeLabel:"badgeLabel"},Qi="item",qi="asin";e.UnifiedBookFaceout=class extends et{getDefaultConfiguration(){return{enableBookFormat:!1,enableProgramBadge:!1,enableProgramBadgeInMetadataBlock:!1,enableBookPoints:!1,enableBookSponsored:!1,enableBookFormats:!1,enableBookBlurb:!1,enableMetadataBlock:!0,bookReleaseDateConfiguration:{enableReleaseDate:!1,enableShortFormat:!1},bookTapTargetConfiguration:{enableStarRatingPrimaryTapAction:!1,enableFormatTapAction:!1,enablePriceTapAction:!1},bookTitleContentConfiguration:void 0,bookMetadataBadgeConfiguration:{enableBookMetadataBadge:!1,enableBookMetadataBadgeTopSlot:!1},starRatingConfiguration:void 0,bookCoverImageConfiguration:void 0,bookPriceConfiguration:void 0,fontFamilyCSSVariable:"--bds-font-family-functional-body",seriesOverlayConfiguration:{topOffsetPx:this.shouldRenderBadge()?22:7},enableDeliveryPromise:!1,layoutConfiguration:{bookFormatLayout:"secondary"},enableLimitedTimeFreeBadge:!0}}constructor(){var e;super(),this.asinIndex=0,this.bookImageRef=gt(),this.intersectionController=new qt(this,{config:{threshold:.5},callback:e=>{if(void 0===this.elementVisibleStartTime)return this.elementVisibleStartTime=Date.now(),e[0].isIntersecting;return((e,t,i,...a)=>Date.now()-e>t&&(i(...a),!0))(this.elementVisibleStartTime,1e3,this.handleCsaCustomEvent,"impressed","UBF")||(this.elementVisibleStartTime=void 0),e[0].isIntersecting}}),this.elementVisibleStartTime=void 0,this.metricsEmitted=new Set,this.position=0,this.isSponsored=!1,this.hasHalfStar=!1,this.ffoIsEnabled=!1,this.shouldShowDeepStack=!1,this.shouldShowDomino=!1,this.handleClick=(e,t)=>{var i,a;this.handleCsaCustomEvent("click",t),null===(i=this.handleNavigation)||void 0===i||i.call(this,this.asin);const o=e;o.altKey||o.ctrlKey||o.shiftKey||o.metaKey||(e.preventDefault(),this.shouldEnableQuickView()&&this.asinContext&&this.detailPageUrl?Ni.openQuickView(this.asinIndex,this.asinContext,this.detailPageUrl,null===(a=this.renderContext)||void 0===a?void 0:a.widgetid):this.detailPageUrl&&Ni.openWebPage(this.detailPageUrl))},this.getCsaEventDetails=(e,t)=>{var i,a,o,r,s,n,l,d;return{schemaId:"BEE.BDSWebClientSideEvent.3",asin:this.asin||"NULL",preFFOAsin:this.preFFOAsin||"NULL",eventType:e,eventValue:t,widgetId:(null===(i=this.metricsMetadata)||void 0===i?void 0:i.widgetId)||"NULL",widgetGroup:(null===(a=this.metricsMetadata)||void 0===a?void 0:a.widgetGroup)||"NULL",strategyId:(null===(o=this.metricsMetadata)||void 0===o?void 0:o.strategyId)||"NULL",creativeId:(null===(r=this.metricsMetadata)||void 0===r?void 0:r.creativeId)||"NULL",binding:this.format||"NULL",deviceType:(null===(s=this.renderContext)||void 0===s?void 0:s.devicetype)||"NULL",operatingSystem:(null===(n=this.renderContext)||void 0===n?void 0:n.operatingsystem)||"NULL",hostApplication:(null===(l=this.renderContext)||void 0===l?void 0:l.hostapplication)||"NULL",locale:(null===(d=this.renderContext)||void 0===d?void 0:d.locale)||"NULL"}},this.handleCsaCustomEvent=(e,t,i={ent:"all"})=>{var a;this.metricsEmitted.has(e)||(null===(a=this.csaEventInstance)||void 0===a||a.call(this,"log",this.getCsaEventDetails(e,t),i),this.metricsEmitted.add(e))},this.csaEventInstance=null===(e=window.csa)||void 0===e?void 0:e.call(window,"Events",{producerId:"bee"})}getConfigurationOverrides(){const e=Mi;return e.forEach((e=>{"mobile"===e.targeting.devicetype&&e.overrides.seriesOverlayConfiguration&&(this.shouldRenderBadge()?e.overrides.seriesOverlayConfiguration.topOffsetPx=18:e.overrides.seriesOverlayConfiguration.topOffsetPx=7)})),e}shouldRenderBadge(){return!!this.badgePhysicalId||!!this.limitedTimeFreeBadge||!!this.waitForFreeBadge}addCSAAttributes(){var e,t,i,a,o,r,s,n,l,d,c,u,b,g;this.setAttribute("data-csa-c-type",Qi),this.setAttribute("data-csa-c-item-type",qi),this.setAttribute("data-csa-c-component",this.tagName),this.setAttribute("data-csa-c-item-id",null!==(e=this.asin)&&void 0!==e?e:"NULL"),this.setAttribute("data-csa-c-source",Ae),this.setAttribute("data-csa-c-widget-id",(null===(t=this.metricsMetadata)||void 0===t?void 0:t.widgetId)||(null===(i=this.renderContext)||void 0===i?void 0:i.widgetid)||"NULL"),this.setAttribute("data-csa-c-asin-index",this.asinIndex.toString()),this.setAttribute("data-csa-c-widget-group-id",(null===(a=this.metricsMetadata)||void 0===a?void 0:a.widgetGroup)||"NULL"),this.setAttribute("data-csa-c-strategy-id",(null===(o=this.metricsMetadata)||void 0===o?void 0:o.strategyId)||"NULL"),this.setAttribute("data-csa-c-creative-id",(null===(r=this.metricsMetadata)||void 0===r?void 0:r.creativeId)||"NULL"),this.setAttribute("data-csa-c-binding",this.format||"NULL"),this.setAttribute("data-csa-c-device-type",(null===(s=this.renderContext)||void 0===s?void 0:s.devicetype)||"NULL"),this.setAttribute("data-csa-c-os",(null===(n=this.renderContext)||void 0===n?void 0:n.operatingsystem)||"NULL"),this.setAttribute("data-csa-c-host-application",(null===(l=this.renderContext)||void 0===l?void 0:l.hostapplication)||"NULL"),this.setAttribute("data-csa-c-locale",(null===(d=this.renderContext)||void 0===d?void 0:d.locale)||"NULL"),this.setAttribute("data-csa-c-theme",(null===(c=this.renderContext)||void 0===c?void 0:c.theme)||"NULL"),this.setAttribute("data-csa-c-marketplace",(null===(u=this.renderContext)||void 0===u?void 0:u.marketplace)||"NULL"),this.setAttribute("data-csa-c-page-type",(null===(b=this.renderContext)||void 0===b?void 0:b.pagetype)||"NULL");for(const e in this.csaAttributes)this.setAttribute("data-csa-c-"+e,this.csaAttributes[e]);null===(g=window.csa)||void 0===g||g.call(window,"Content",{element:this})}firstUpdated(){var e,t;this.setAsinContextForQuickView(),this.setSLLContext(),this.ffoIsEnabled&&this.handleCsaCustomEvent("widgetIsFFOEnabled","UBF"),null===(e=this.csaEventInstance)||void 0===e||e.call(this,"setEntity",{ubf:Object.assign({asinIndex:this.asinIndex.toString()},this.csaAttributes)}),this.addCSAAttributes(),Oe.logCountMetric("ubf-displayed"),Oe.logCountMetric("ubf-displayed",`${null===(t=this.renderContext)||void 0===t?void 0:t.pagetype}`)}disconnectedCallback(){if(super.disconnectedCallback(),this.elementVisibleStartTime){Date.now()-this.elementVisibleStartTime>1e3&&this.handleCsaCustomEvent("impressed","UBF")}}get badgeLabel(){return this.giftGuideBadgeLabel}set badgeLabel(e){this.giftGuideBadgeLabel=e}getTitleContentForSlot(e,t,i,a){var o,r,s,n,l,d,c,u,b,g,h,v;switch(e){case"title":if(this.bookTitle)return[{displayText:this.bookTitle,language:this.bookTitleLanguage,url:this.detailPageUrl,enableLink:t,appendedInlineContent:this.getAppendedInlineTitleContent(),isBold:i,headingLevel:this.getPrimaryTextHeadingLevel(),handleClick:e=>this.handleClick(e,"title")}];break;case"headline":if(this.bookHeadline)return[{displayText:this.bookHeadline,language:this.bookHeadlineLanguage,url:this.detailPageUrl,enableLink:t}];break;case"author":{const e=a?e=>this.handleClick(e,"author"):void 0,i=this.byLineV2?(g=this.byLineV2,h=null!=t&&t,v=e,g.contributors.map((e=>{var t;return{displayText:e.name,url:null===(t=e.links.find((e=>"authorPageUrl"===e.rel)))||void 0===t?void 0:t.url,enableLink:h,handleClick:v}}))):void 0;if(null===(o=null==i?void 0:i[0])||void 0===o?void 0:o.displayText)return i;if(this.bookAuthor)return[{displayText:this.bookAuthor,url:null!==(r=this.bookAuthorLinkUrl)&&void 0!==r?r:this.detailPageUrl,enableLink:t,handleClick:e}];break}case"seriesBullet":{let e;if(e="mobile"===(null===(s=this.renderContext)||void 0===s?void 0:s.devicetype)&&"list"!==this.layout?null===(l=null===(n=this.seriesBullet)||void 0===n?void 0:n.message)||void 0===l?void 0:l.shortMessage:null===(c=null===(d=this.seriesBullet)||void 0===d?void 0:d.message)||void 0===c?void 0:c.longMessage,e)return[{displayText:e,language:this.seriesBulletLanguage,url:null===(b=null===(u=this.seriesBullet)||void 0===u?void 0:u.link)||void 0===b?void 0:b.url,enableLink:t}];break}}}useUBFStandardV2CX(){return"grid"===this.layout||"standardV2"===this.layout}getAppendedInlineTitleContent(){return ft(this.useUBFStandardV2CX()&&this.giftGuideBadgeLabel,(()=>G`<span class="offscreen">${this.giftGuideBadgeLabel}</span>`))}getPrimaryTextHeadingLevel(){var e;return this.useUBFStandardV2CX()?null!==(e=this.primaryTextHeadingLevel)&&void 0!==e?e:3:void 0}getTitleContentConfiguration(e){var t,i,a,o,r,s,n,l;return{primaryTitleContent:this.getTitleContentForSlot(null===(t=e.bookTitleContentConfiguration)||void 0===t?void 0:t.primaryText,null===(i=e.bookTitleContentConfiguration)||void 0===i?void 0:i.enablePrimaryLink,null===(a=e.bookTitleContentConfiguration)||void 0===a?void 0:a.enablePrimaryTextBold),secondaryTitleContent:this.getTitleContentForSlot(null===(o=e.bookTitleContentConfiguration)||void 0===o?void 0:o.secondaryText,null===(r=e.bookTitleContentConfiguration)||void 0===r?void 0:r.enableSecondaryLink,!1,null===(s=e.bookTitleContentConfiguration)||void 0===s?void 0:s.secondaryShouldLinkToPrimaryTapTarget),tertiaryTitleContent:this.getTitleContentForSlot(null===(n=e.bookTitleContentConfiguration)||void 0===n?void 0:n.tertiaryText,null===(l=e.bookTitleContentConfiguration)||void 0===l?void 0:l.enableTertiaryLink)}}getBookCoverImageAriaLabel(e){var t,i;if(!this.coverImageAltText)return"";let a=this.coverImageAltText;if(!this.isAuthorShown(e)&&this.getBookAuthors()&&(a=ri("bds_book_name_by_author_text",null===(t=this.renderContext)||void 0===t?void 0:t.locale,{title:this.coverImageAltText,authors:this.getBookAuthors()})),this.badgePhysicalId&&this.badgeAltText&&(a=this.badgeAltText+", "+a),this.seriesCollectionText){const e=ri("bds_collection_text_in_series_alt_text_prefix",null===(i=this.renderContext)||void 0===i?void 0:i.locale);a=this.seriesCollectionText+" "+e+", "+a}return a}getSeriesOverlay(e){var t;const i=`top: ${null===(t=e.seriesOverlayConfiguration)||void 0===t?void 0:t.topOffsetPx}px`;return G`<div class="series-overlay" style="${i}">
            <bds-series-overlay label=${mt(this.seriesCollectionText)}></bds-series-overlay>
        </div>`}renderBookCoverImage(e){const t=this.useUBFStandardV2CX()?void 0:this.badgePhysicalId,i=this.useUBFStandardV2CX()?void 0:this.badgeAltText,a=this.useUBFStandardV2CX()?void 0:this.badgeExtension,o=!this.useUBFStandardV2CX()&&e.enableLimitedTimeFreeBadge?this.limitedTimeFreeBadge:void 0,r=this.useUBFStandardV2CX()?void 0:this.waitForFreeBadge;return G`
            <bds-book-cover-image
                coverImagePhysicalId=${this.coverImagePhysicalId}
                coverImageExtension=${mt(this.coverImageExtension)}
                imageStyleCode=${mt(this.imageStyleCodes)}
                coverImageAltText=${this.coverImageAltText}
                layout=${mt(e.layoutConfiguration.bookCoverImageLayout)}
                badgePhysicalId=${mt(t)}
                badgeAltText=${mt(i)}
                badgeExtension=${mt(a)}
                limitedTimeFreeBadge=${mt(o)}
                .waitForFreeBadge=${r}
                ?useNoMetadataLayout=${!e.enableMetadataBlock}
                ?shouldRenderDeepStack=${this.shouldShowDeepStack}
                ?shouldRenderDomino=${this.shouldShowDomino}
                ${pt(this.bookImageRef)}>
            </bds-book-cover-image>
        `}setAsinContextForQuickView(){var e;this.asin&&(null===(e=this.asinContext)||void 0===e?void 0:e.asinMetadataCallbacks)&&(this.asinIndex=this.asinContext.asinMetadataCallbacks.length,this.asinContext.asinMetadataCallbacks.push(this.getQuickViewMetadata.bind(this)))}willUpdate(){var e,t;if(this.asin&&(null===(t=null===(e=this.skeletonLoadingContext)||void 0===e?void 0:e.latentDataMap)||void 0===t?void 0:t.has(this.asin))){const e=this.skeletonLoadingContext.latentDataMap.get(this.asin);e&&Object.keys(e).forEach((t=>{t in this&&e[t]&&(this[t]=e[t])}))}}setSLLContext(){var e,t,i;this.asin&&(null===(e=this.skeletonLoadingContext)||void 0===e?void 0:e.metadataToLazyLoad)&&(null===(t=this.skeletonLoadingContext)||void 0===t?void 0:t.metadataToLazyLoad.length)>0&&(null===(i=this.skeletonLoadingContext.asinList)||void 0===i||i.push(this.asin))}getQuickViewMetadata(){var e;const t=this.getBookAuthors();return{asin:this.asin||"",physicalId:this.coverImagePhysicalId,title:this.bookTitle,imageUrl:null===(e=this.bookImageRef.value)||void 0===e?void 0:e.getImageSource(),authors:t||"",detailPageLink:this.detailPageUrl,binding:this.format,reviewStars:this.numberOfStars,reviewCount:this.numberOfReviews}}getBookAuthors(){var e;return(null===(e=this.byLineV2)||void 0===e?void 0:e.contributors)?this.byLineV2.contributors.map((e=>e.name)).join(", "):this.bookAuthor}isAuthorShown(e){const t=e.bookTitleContentConfiguration;return[null==t?void 0:t.primaryText,null==t?void 0:t.secondaryText,null==t?void 0:t.tertiaryText].includes("author")}shouldEnableQuickView(){var e,t;return(!(null===(e=this.renderContext)||void 0===e?void 0:e.widgetid)||!["PopularSeriesByAuthorsYouFollow"].some((e=>{var t,i;return null===(i=null===(t=this.renderContext)||void 0===t?void 0:t.widgetid)||void 0===i?void 0:i.includes(e)})))&&!!(Ni.isQuickViewEnabled()&&(null===(t=this.asinContext)||void 0===t?void 0:t.asinMetadataCallbacks)&&this.detailPageUrl)}renderMetadataBlock(e){return G` <div class="ubf-metadata">
            ${ft(e.enableBookSponsored,(()=>G`
                    <bds-book-sponsored ?isSponsored=${this.isSponsored}></bds-book-sponsored>
                `))}
            ${ft(e.bookTitleContentConfiguration,(()=>this.renderBookTitleContentBlock(e)))}
            ${this.renderStarRating(e)} ${this.renderLikes()}
            ${ft(!this.useUBFStandardV2CX(),(()=>this.renderBookMetadataBadge(e)))}
            ${this.renderProgramBadge(e)} ${this.renderBookFormat(e)}
            ${this.renderBookPrice(e)} ${this.renderBookReleaseDate(e)}
            ${this.renderDeliveryPromise(e)} ${this.renderBookPoints(e)}
            ${ft(e.enableBookFormats,(()=>G` <bds-book-other-formats
                    .allFormats=${this.formats}
                    detailPage=${mt(this.detailPageUrl)}
                    numFormatsToShow=${mt(this.numFormatsToShow)}></bds-book-other-formats>`))}
        </div>`}renderBookTitleContentBlock(e){const t=this.getTitleContentConfiguration(e),i=Object.values(t).some((e=>!!e));return ft(i,(()=>{var i,a,o;return G` <bds-book-title-content
                layout=${mt(e.layoutConfiguration.bookTitleContentLayout)}
                .primaryTitleContent=${t.primaryTitleContent}
                ?suppressPrimaryAria=${!this.useUBFStandardV2CX()&&(null===(i=e.bookTitleContentConfiguration)||void 0===i?void 0:i.suppressPrimaryAria)}
                .secondaryTitleContent=${t.secondaryTitleContent}
                ?suppressSecondaryAria=${null===(a=e.bookTitleContentConfiguration)||void 0===a?void 0:a.suppressSecondaryAria}
                .tertiaryTitleContent=${t.tertiaryTitleContent}
                ?suppressTertiaryAria=${null===(o=e.bookTitleContentConfiguration)||void 0===o?void 0:o.suppressTertiaryAria}></bds-book-title-content>`}))}renderCoverImageBlock(e){var t;return ft(!(null===(t=e.bookCoverImageConfiguration)||void 0===t?void 0:t.disableBookCoverImage),(()=>this.detailPageUrl?G`<a
                      href=${this.detailPageUrl}
                      role=${this.shouldEnableQuickView()?"button":"link"}
                      @click=${e=>this.handleClick(e,"coverimage")}
                      aria-label=${this.getBookCoverImageAriaLabel(e)}>
                      ${ft(this.seriesCollectionText,(()=>this.getSeriesOverlay(e)))}
                      ${this.renderBookCoverImage(e)}
                  </a>`:G`<div aria-label=${this.getBookCoverImageAriaLabel(e)}>
                      ${this.renderBookCoverImage(e)}
                  </div>`))}renderProgramBadge(e){var t,i,a,o,r,s,n,l,d;if(!e.enableProgramBadge||!e.enableProgramBadgeInMetadataBlock)return q;const c=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enableProgramBadgeTapAction)?e=>this.handleClick(e,"programbadge"):void 0;return ft(this.badgePhysicalId||(null===(a=null===(i=this.skeletonLoadingContext)||void 0===i?void 0:i.metadataToLazyLoad)||void 0===a?void 0:a.includes(Gi.badgePhysicalId)),(()=>{const e=this.useUBFStandardV2CX()?13:void 0,t=G`
                        <bds-program-badge
                            badgePhysicalId=${mt(this.badgePhysicalId)}
                            badgeAltText=${mt(this.badgeAltText)}
                            badgeExtension=${mt(this.badgeExtension)}
                            badgeImageHeightPx=${mt(e)}
                            @click=${c}>
                        </bds-program-badge>
                    `;return this.useUBFStandardV2CX()?G`<div class="program-badge-wrapper">${t}</div>`:t}))||ft(!(null===(r=null===(o=this.skeletonLoadingContext)||void 0===o?void 0:o.metadataToLazyLoad)||void 0===r?void 0:r.includes(Gi.badgePhysicalId)),(()=>this.renderLimitedTimeFreeBadge(e)))||ft(!(null===(n=null===(s=this.skeletonLoadingContext)||void 0===s?void 0:s.metadataToLazyLoad)||void 0===n?void 0:n.includes(Gi.badgePhysicalId))&&!(null===(d=null===(l=this.skeletonLoadingContext)||void 0===l?void 0:l.metadataToLazyLoad)||void 0===d?void 0:d.includes(Gi.limitedTimeFreeBadge)),(()=>this.renderWaitForFreeBadge()))}renderBookMetadataBadge(e){var t,i,a;return ft((null===(t=null==e?void 0:e.bookMetadataBadgeConfiguration)||void 0===t?void 0:t.enableBookMetadataBadge)&&(this.giftGuideBadgeLabel||(null===(a=null===(i=this.skeletonLoadingContext)||void 0===i?void 0:i.metadataToLazyLoad)||void 0===a?void 0:a.includes(Gi.giftGuideBadgeLabel))),(()=>G`
                <div class="book-metadata-badge">
                    <bds-book-metadata-badge
                        giftGuideBadgeLabel=${mt(this.giftGuideBadgeLabel)}
                        badgeType=${mt(this.metadataBadgeType)}>
                    </bds-book-metadata-badge>
                </div>
            `))}renderBookFormat(e){var t;const i=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enableFormatTapAction)?e=>this.handleClick(e,"format"):void 0;return ft(e.enableBookFormat,(()=>G`
                <div class="book-format">
                    <bds-book-format
                        layout=${mt(e.layoutConfiguration.bookFormatLayout)}
                        format=${mt(this.format)}
                        .secondaryBadge=${this.secondaryBadge}
                        @click=${i}>
                    </bds-book-format>
                </div>
            `))}renderBookPrice(e){var t,i,a,o;const r=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enablePriceTapAction)?e=>this.handleClick(e,"price"):void 0,s=[!!this.unstylizedPrice,!!this.priceFormatParts,!!this.youPayPromotion,!!this.audiblePromotion,!!this.basisPriceDisplayString,!!this.priceToPayMessage].filter((e=>!!e)).length>0;return ft((null===(i=e.bookPriceConfiguration)||void 0===i?void 0:i.enableBookPrice)&&Wi(this.bindingSymbol,this.renderContext)&&(s||(null===(o=null===(a=this.skeletonLoadingContext)||void 0===a?void 0:a.metadataToLazyLoad)||void 0===o?void 0:o.includes(Gi.priceFormatParts))),(()=>{var t,i;return G`
                ${ft(this.dealBadge||this.kindlePromotionTags||this.dealRichContent||(null===(i=null===(t=this.skeletonLoadingContext)||void 0===t?void 0:t.metadataToLazyLoad)||void 0===i?void 0:i.some((e=>[Gi.dealBadge,Gi.kindlePromotionTags,Gi.dealRichContent].includes(e)))),(()=>G`<bds-book-deal-badge
                        .dealBadge=${this.dealBadge}
                        .kindlePromotionTags=${this.kindlePromotionTags}
                        .dealRichContent=${this.dealRichContent}>
                    </bds-book-deal-badge>`))}
                <bds-book-price
                    unstylizedPrice=${mt(this.unstylizedPrice)}
                    .priceFormatParts=${this.priceFormatParts}
                    .youPayPromotion=${this.youPayPromotion}
                    .audiblePromotion=${this.audiblePromotion}
                    layout=${mt(e.layoutConfiguration.priceLayout)}
                    basisPriceDisplayString=${mt(this.basisPriceDisplayString)}
                    basisPriceLabel=${mt(this.basisPriceLabel)}
                    savingsPercentageDisplayString=${mt(this.savingsPercentageDisplayString)}
                    priceToPayMessage=${mt(this.priceToPayMessage)}
                    @click=${r}>
                </bds-book-price>
            `}))}renderBookReleaseDate(e){var t;const i=!!(null===(t=e.bookReleaseDateConfiguration)||void 0===t?void 0:t.enableShortFormat);return ft(this.shouldRenderBookReleaseDate(e),(()=>G` <bds-book-release-date
                .releaseDate=${this.releaseDate}
                .isShortFormat=${i}>
            </bds-book-release-date>`))}shouldRenderBookReleaseDate(e){var t,i,a,o,r;return!!(null===(t=e.bookReleaseDateConfiguration)||void 0===t?void 0:t.enableReleaseDate)&&((null===(i=e.bookReleaseDateConfiguration)||void 0===i?void 0:i.enableShortFormat)?!!(null===(a=this.releaseDate)||void 0===a?void 0:a.date):!!(null===(o=this.releaseDate)||void 0===o?void 0:o.displayString)||!!(null===(r=this.releaseDate)||void 0===r?void 0:r.date))}renderDeliveryPromise(e){var t,i,a,o,r,s,n;const l=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enablePriceTapAction)?e=>this.handleClick(e,"deliverypromise"):void 0;return ft(e.enableDeliveryPromise&&((null===(a=null===(i=this.deliveryInfo)||void 0===i?void 0:i.deliveryBadge)||void 0===a?void 0:a.badgePhysicalId)&&(null===(r=null===(o=this.deliveryInfo)||void 0===o?void 0:o.deliveryMessageFragmentList)||void 0===r?void 0:r.length)||(null===(n=null===(s=this.skeletonLoadingContext)||void 0===s?void 0:s.metadataToLazyLoad)||void 0===n?void 0:n.includes(Gi.deliveryInfo))),(()=>G` <bds-delivery-promise
                    .deliveryInfo=${this.deliveryInfo}
                    @click=${l}>
                </bds-delivery-promise>`),(()=>q))}renderStarRating(e){var t,i,a;const o=(null===(t=e.bookTapTargetConfiguration)||void 0===t?void 0:t.enableStarRatingPrimaryTapAction)?e=>this.handleClick(e,"reviewstars"):void 0;return ft(e.starRatingConfiguration&&(this.numberOfReviews&&this.numberOfReviews>0||(null===(a=null===(i=this.skeletonLoadingContext)||void 0===i?void 0:i.metadataToLazyLoad)||void 0===a?void 0:a.includes(Gi.numberOfReviews))),(()=>{var t,i;return G`
                <div class="star-rating">
                    <bds-star-rating
                        numberOfStars=${mt(this.numberOfStars)}
                        ?hasHalfStar=${this.hasHalfStar}
                        numberOfReviews=${mt(this.numberOfReviews)}
                        reviewUrl=${mt(this.reviewUrl)}
                        ?enableReviewsLink=${null===(t=e.starRatingConfiguration)||void 0===t?void 0:t.enableReviewsLink}
                        ?allowWrap=${null===(i=e.starRatingConfiguration)||void 0===i?void 0:i.enableStarRatingsWrap}
                        altText=${mt(this.starRatingAltText)}
                        shortDisplayString=${mt(this.starRatingShortDisplayString)}
                        layout="${mt(e.layoutConfiguration.starRatingLayout)}"
                        @click=${o}>
                    </bds-star-rating>
                </div>
            `}))}renderBookPoints(e){var t,i;return ft(e.enableBookPoints&&function(e,t){return!e||!Vi.has(e)&&Wi(e,t)}(this.bindingSymbol,this.renderContext)&&(this.points||this.pointsV2||(null===(i=null===(t=this.skeletonLoadingContext)||void 0===t?void 0:t.metadataToLazyLoad)||void 0===i?void 0:i.includes(Gi.pointsV2))),(()=>G`
                <bds-book-points points=${mt(this.points)} .pointsV2=${this.pointsV2}>
                </bds-book-points>
            `))}renderWaitForFreeBadge(){var e,t,i,a;return ft((null===(e=this.waitForFreeBadge)||void 0===e?void 0:e.badgeLabel)&&(null===(t=this.waitForFreeBadge)||void 0===t?void 0:t.status)||(null===(a=null===(i=this.skeletonLoadingContext)||void 0===i?void 0:i.metadataToLazyLoad)||void 0===a?void 0:a.includes(Gi.waitForFreeBadge)),(()=>{const e=G`<bds-wait-for-free-badge
                    badgeLabel=${this.waitForFreeBadge.badgeLabel}
                    status=${this.waitForFreeBadge.status}></bds-wait-for-free-badge>`;return this.useUBFStandardV2CX()?G`<div class="wff-badge-wrapper">${e}</div>`:e}))}renderLimitedTimeFreeBadge(e){var t,i;return ft(e.enableLimitedTimeFreeBadge&&this.limitedTimeFreeBadge||(null===(i=null===(t=this.skeletonLoadingContext)||void 0===t?void 0:t.metadataToLazyLoad)||void 0===i?void 0:i.includes(Gi.limitedTimeFreeBadge)),(()=>G`<bds-limited-time-free-badge
                badgeLabel=${mt(this.limitedTimeFreeBadge)}>
            </bds-limited-time-free-badge>`))}renderLikes(){var e,t;return ft(this.likes||(null===(t=null===(e=this.skeletonLoadingContext)||void 0===e?void 0:e.metadataToLazyLoad)||void 0===t?void 0:t.includes(Gi.likes)),(()=>G`<bds-likes displayString=${mt(this.likes)}></bds-likes>`))}renderStandardV2Block(e){var t;return G`
            ${ft(!!this.giftGuideBadgeLabel||(null===(t=e.bookMetadataBadgeConfiguration)||void 0===t?void 0:t.enableBookMetadataBadgeTopSlot),(()=>{var t,i;return ft(null===(i=null===(t=this.skeletonLoadingContext)||void 0===t?void 0:t.metadataToLazyLoad)||void 0===i?void 0:i.includes(Gi.giftGuideBadgeLabel),(()=>G`
                            <div class="metadata-badge-slot">
                                <bds-skeleton-loader
                                    type="metadata"
                                    width="6"></bds-skeleton-loader>
                            </div>
                        `),(()=>G` <div
                            class="metadata-badge-slot ${Wt({hidden:"Hidden"===this.giftGuideBadgeLabel})}"
                            aria-hidden="true">
                            ${this.renderBookMetadataBadge(e)}
                        </div>`))}))}
            ${this.renderCoverImageBlock(e)} ${this.renderMetadataBlock(e)}
        `}renderListBlock(e){return G` ${this.renderCoverImageBlock(e)} ${this.renderMetadataBlock(e)} `}renderDefaultBlock(e){return G`<div class="ubf-book-info">
                ${this.renderCoverImageBlock(e)}
                ${ft(e.enableMetadataBlock,(()=>this.renderMetadataBlock(e)))}
            </div>
            ${ft(e.enableBookBlurb,(()=>G` <bds-book-blurb .blurbMetadata=${this.blurbMetadata}></bds-book-blurb>`))}`}render(){var e;this.intersectionController.value||void 0===this.elementVisibleStartTime||this.metricsEmitted.has("impressed")||(this.elementVisibleStartTime=void 0),Oe.logCountMetric("ubf-rendered");const t=this.getRenderConfiguration(this.layout);return G`
            <div
                class="unified-book-faceout ${this.layout} ${null===(e=this.renderContext)||void 0===e?void 0:e.theme}
                    ${t.enableMetadataBlock?"":"no-metadata-layout"}"
                style="font-family: var(${t.fontFamilyCSSVariable})"
                data-csa-c-type="${Qi}"
                data-csa-c-item-type="${qi}"
                data-csa-c-item-id="${mt(this.asin)}">
                ${tt(this.layout,[["grid",()=>this.renderStandardV2Block(t)],["list",()=>this.renderListBlock(t)],["standardV2",()=>this.renderStandardV2Block(t)]],(()=>this.renderDefaultBlock(t)))}
            </div>
        `}},e.UnifiedBookFaceout.styles=Xt,t([ye({context:$e,subscribe:!0})],e.UnifiedBookFaceout.prototype,"asinContext",void 0),t([ye({context:Ie,subscribe:!0})],e.UnifiedBookFaceout.prototype,"skeletonLoadingContext",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"detailPageUrl",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"asin",void 0),t([we({type:Number})],e.UnifiedBookFaceout.prototype,"position",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"coverImagePhysicalId",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"coverImageExtension",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"coverImageAltText",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"layout",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"badgePhysicalId",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"badgeAltText",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"badgeExtension",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"secondaryBadge",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"bookTitle",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"bookTitleLanguage",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"bookHeadline",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"bookHeadlineLanguage",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"bookAuthor",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"bookAuthorLinkUrl",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"byLineV2",void 0),t([we({type:Boolean})],e.UnifiedBookFaceout.prototype,"isSponsored",void 0),t([we({type:Number})],e.UnifiedBookFaceout.prototype,"numberOfStars",void 0),t([we({type:Boolean})],e.UnifiedBookFaceout.prototype,"hasHalfStar",void 0),t([we({type:Number})],e.UnifiedBookFaceout.prototype,"numberOfReviews",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"starRatingAltText",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"starRatingShortDisplayString",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"reviewUrl",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"giftGuideBadgeLabel",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"unstylizedPrice",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"priceFormatParts",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"basisPriceDisplayString",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"basisPriceLabel",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"savingsPercentageDisplayString",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"priceToPayMessage",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"metadataBadgeType",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"youPayPromotion",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"points",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"pointsV2",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"format",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"bindingSymbol",void 0),t([we({type:String,reflect:!0})],e.UnifiedBookFaceout.prototype,"cel_widget_id",void 0),t([we({type:String,reflect:!0})],e.UnifiedBookFaceout.prototype,"class",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"blurbMetadata",void 0),t([we({type:Array})],e.UnifiedBookFaceout.prototype,"formats",void 0),t([we({type:Number})],e.UnifiedBookFaceout.prototype,"numFormatsToShow",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"seriesBullet",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"seriesBulletLanguage",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"backgroundColor",void 0),t([we()],e.UnifiedBookFaceout.prototype,"handleNavigation",void 0),t([we()],e.UnifiedBookFaceout.prototype,"badgeLabel",null),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"metricsMetadata",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"preFFOAsin",void 0),t([we({type:Boolean})],e.UnifiedBookFaceout.prototype,"ffoIsEnabled",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"audiblePromotion",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"seriesCollectionText",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"imageStyleCodes",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"deliveryInfo",void 0),t([we({type:Number})],e.UnifiedBookFaceout.prototype,"primaryTextHeadingLevel",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"csaAttributes",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"releaseDate",void 0),t([we({type:Boolean})],e.UnifiedBookFaceout.prototype,"shouldShowDeepStack",void 0),t([we({type:Boolean})],e.UnifiedBookFaceout.prototype,"shouldShowDomino",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"dealBadge",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"kindlePromotionTags",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"dealRichContent",void 0),t([we({type:Object})],e.UnifiedBookFaceout.prototype,"waitForFreeBadge",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"limitedTimeFreeBadge",void 0),t([we({type:String})],e.UnifiedBookFaceout.prototype,"likes",void 0),e.UnifiedBookFaceout=t([Te("bds-unified-book-faceout")],e.UnifiedBookFaceout);var Xi=p`
    :host {
        display: block;
        margin-top: var(--box-margin-top, 0);
        margin-bottom: var(--box-margin-bottom, 0);
    }

    .bds-box {
        display: block;
        position: relative;
        box-sizing: border-box;
    }

    /* Base box styling - matches Figma specifications */
    .bds-box-inner {
        position: relative;
        display: flex;
        flex-direction: column;
        box-sizing: border-box;
        border-radius: var(--box-border-top-left-radius, var(--bds-size-radius-small))
            var(--box-border-top-right-radius, var(--bds-size-radius-small))
            var(--box-border-bottom-right-radius, var(--bds-size-radius-small))
            var(--box-border-bottom-left-radius, var(--bds-size-radius-small));
        font-family: var(--bds-font-family-functional-label);
        font-size: var(--bds-size-font-functional-label-medium);
        line-height: var(--bds-size-line-height-functional-label-medium);
        color: var(--bds-color-functional-neutral-on-surface);
        overflow: hidden;
    }

    /* Default background color styling - uses CSS custom properties with fallbacks */
    .variant-box-base .bds-box-inner {
        background-color: var(--box-background-color, var(--bds-color-functional-neutral-surface));
        border-top: var(
            --box-border-top,
            var(--bds-size-line-weight-small) solid
                var(--box-border-color, var(--bds-color-functional-neutral-outline-variant))
        );
        border-bottom: var(
            --box-border-bottom,
            var(--bds-size-line-weight-small) solid
                var(--box-border-color, var(--bds-color-functional-neutral-outline-variant))
        );
        border-left: var(
            --box-border-left,
            var(--bds-size-line-weight-small) solid
                var(--box-border-color, var(--bds-color-functional-neutral-outline-variant))
        );
        border-right: var(
            --box-border-right,
            var(--bds-size-line-weight-small) solid
                var(--box-border-color, var(--bds-color-functional-neutral-outline-variant))
        );
    }

    /* Alternate background color styling - uses CSS custom properties with fallbacks */
    .variant-box-alternate .bds-box-inner {
        background-color: var(
            --box-background-color,
            var(--bds-color-functional-neutral-surface-container)
        );
        border-top: var(
            --box-border-top,
            var(--bds-size-line-weight-small) solid
                var(--box-border-color, var(--bds-color-functional-neutral-surface-container))
        );
        border-bottom: var(
            --box-border-bottom,
            var(--bds-size-line-weight-small) solid
                var(--box-border-color, var(--bds-color-functional-neutral-surface-container))
        );
        border-left: var(
            --box-border-left,
            var(--bds-size-line-weight-small) solid
                var(--box-border-color, var(--bds-color-functional-neutral-surface-container))
        );
        border-right: var(
            --box-border-right,
            var(--bds-size-line-weight-small) solid
                var(--box-border-color, var(--bds-color-functional-neutral-surface-container))
        );
    }

    /* Text alignment */
    .textAlign-left .bds-box-inner {
        text-align: left;
    }

    .textAlign-center .bds-box-inner {
        text-align: center;
    }

    .textAlign-right .bds-box-inner {
        text-align: right;
    }

    .textAlign-justify .bds-box-inner {
        text-align: justify;
    }

    /* Focus states for accessibility */
    .bds-box:focus-visible {
        outline: var(--bds-size-line-weight-medium) solid
            var(--bds-color-functional-utils-focus-indicator);
        outline-offset: var(--bds-size-utils-padding-2);
    }
`;e.Box=class extends Ne{constructor(){super(...arguments),this.variant="box-base",this.padding="medium",this.spacingBelow="none",this.spacingTop="none",this.textAlign="left"}static get styles(){return[Xi]}getClasses(){var e;return Object.assign({"bds-box":!0,[`variant-${this.variant.toLowerCase()}`]:!0,[`textAlign-${this.textAlign}`]:!0},(null===(e=this.renderContext)||void 0===e?void 0:e.theme)&&{[this.renderContext.theme]:!0})}getStyles(){return Object.assign(Object.assign({},this.widthCss&&{width:this.widthCss}),this.heightCss&&{height:this.heightCss})}getInnerBoxStyles(){return{padding:`var(--bds-size-spacing-${this.padding})`,"margin-bottom":`var(--bds-size-spacing-${this.spacingBelow})`,"margin-top":`var(--bds-size-spacing-${this.spacingTop})`}}render(){const e=this.getClasses(),t=this.getStyles(),i=this.getInnerBoxStyles();return G`
            <div
                class="${Wt(e)}"
                style="${Ct(t)}"
                aria-label="${mt(this.accessibilityLabel)}">
                <div class="bds-box-inner" style="${Ct(i)}">
                    <slot></slot>
                </div>
            </div>
        `}},t([we({type:String})],e.Box.prototype,"variant",void 0),t([we({type:String})],e.Box.prototype,"padding",void 0),t([we({type:String})],e.Box.prototype,"spacingBelow",void 0),t([we({type:String})],e.Box.prototype,"spacingTop",void 0),t([we({type:String})],e.Box.prototype,"textAlign",void 0),t([we({type:String})],e.Box.prototype,"widthCss",void 0),t([we({type:String})],e.Box.prototype,"heightCss",void 0),t([we({type:String})],e.Box.prototype,"accessibilityLabel",void 0),t([ye({context:Pe,subscribe:!0})],e.Box.prototype,"renderContext",void 0),e.Box=t([Te("bds-box"),Ue],e.Box);var Ki=p`
    :host {
        display: block;
    }

    .bds-box-group {
        display: flex;
        flex-direction: column;
        position: relative;
    }

    /* Base styling for all slotted boxes within the group */
    .bds-box-group ::slotted(bds-box) {
        margin: 0; /* Remove any existing margins to ensure seamless connection */
    }

    /* Regular variant - ensures child boxes use default background */
    .variant-box-base ::slotted(bds-box) {
        --box-background-color: var(--bds-color-functional-neutral-surface);
        --box-border-color: var(--bds-color-functional-neutral-outline-variant);
    }

    /* Alternate variant - ensures child boxes use alternate background */
    .variant-box-alternate ::slotted(bds-box) {
        --box-background-color: var(--bds-color-functional-neutral-surface-container);
        --box-border-color: var(--bds-color-functional-neutral-surface-container);
    }

    /* REGULAR VARIANT - COMBINED BORDER AND BORDER-RADIUS STYLING */

    /* Regular variant - First child: rounded top corners, square bottom corners, top/left/right borders, NO bottom border */
    .variant-box-base ::slotted(bds-box:first-child) {
        --box-border-top-left-radius: var(--bds-size-radius-small);
        --box-border-top-right-radius: var(--bds-size-radius-small);
        --box-border-bottom-left-radius: 0;
        --box-border-bottom-right-radius: 0;
        --box-border-top: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-left: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-right: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-bottom: none;
    }

    /* Regular variant - Middle children: square corners, all 4 borders */
    .variant-box-base ::slotted(bds-box:not(:first-child, :last-child)) {
        --box-border-top-left-radius: 0;
        --box-border-top-right-radius: 0;
        --box-border-bottom-left-radius: 0;
        --box-border-bottom-right-radius: 0;
        --box-border-top: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-bottom: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-left: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-right: var(--bds-size-line-weight-small) solid var(--box-border-color);
    }

    /* Regular variant - Last child: rounded bottom corners, square top corners, bottom/left/right borders, NO top border */
    .variant-box-base ::slotted(bds-box:last-child) {
        --box-border-top-left-radius: 0;
        --box-border-top-right-radius: 0;
        --box-border-bottom-left-radius: var(--bds-size-radius-small);
        --box-border-bottom-right-radius: var(--bds-size-radius-small);
        --box-border-bottom: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-left: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-right: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-top: none;
    }

    /* Regular variant - Special case: Second box when there are exactly 2 boxes (2nd child that is also last child) */
    .variant-box-base ::slotted(bds-box:nth-child(2):last-child) {
        --box-border-top: var(--bds-size-line-weight-small) solid var(--box-border-color);
    }

    /* Regular variant - Only child: all corners rounded, all 4 borders */
    .variant-box-base ::slotted(bds-box:only-child) {
        --box-border-top-left-radius: var(--bds-size-radius-small);
        --box-border-top-right-radius: var(--bds-size-radius-small);
        --box-border-bottom-left-radius: var(--bds-size-radius-small);
        --box-border-bottom-right-radius: var(--bds-size-radius-small);
        --box-border-top: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-bottom: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-left: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-right: var(--bds-size-line-weight-small) solid var(--box-border-color);
    }

    /* Alternate variant - First child: rounded top corners, square bottom corners, top/left/right borders, NO bottom border */
    .variant-box-alternate ::slotted(bds-box:first-child) {
        --box-border-top-left-radius: var(--bds-size-radius-small);
        --box-border-top-right-radius: var(--bds-size-radius-small);
        --box-border-bottom-left-radius: 0;
        --box-border-bottom-right-radius: 0;
        --box-border-top: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-left: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-right: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-bottom: none;
    }

    /* Alternate variant - Middle children: square corners, left and right borders only, NO top and NO bottom borders */
    .variant-box-alternate ::slotted(bds-box:not(:first-child, :last-child)) {
        --box-border-top-left-radius: 0;
        --box-border-top-right-radius: 0;
        --box-border-bottom-left-radius: 0;
        --box-border-bottom-right-radius: 0;
        --box-border-left: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-right: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-top: none;
        --box-border-bottom: none;
    }

    /* Alternate variant - Last child: rounded bottom corners, square top corners, bottom/left/right borders, NO top border */
    .variant-box-alternate ::slotted(bds-box:last-child) {
        --box-border-top-left-radius: 0;
        --box-border-top-right-radius: 0;
        --box-border-bottom-left-radius: var(--bds-size-radius-small);
        --box-border-bottom-right-radius: var(--bds-size-radius-small);
        --box-border-bottom: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-left: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-right: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-top: none;
    }

    /* Alternate variant - Only child: all corners rounded, all 4 borders */
    .variant-box-alternate ::slotted(bds-box:only-child) {
        --box-border-top-left-radius: var(--bds-size-radius-small);
        --box-border-top-right-radius: var(--bds-size-radius-small);
        --box-border-bottom-left-radius: var(--bds-size-radius-small);
        --box-border-bottom-right-radius: var(--bds-size-radius-small);
        --box-border-top: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-bottom: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-left: var(--bds-size-line-weight-small) solid var(--box-border-color);
        --box-border-right: var(--bds-size-line-weight-small) solid var(--box-border-color);
    }

    /* Focus management - ensure focus states work properly in grouped context */
    .bds-box-group ::slotted(bds-box:focus-visible) {
        outline: var(--bds-size-line-weight-medium) solid
            var(--bds-color-functional-utils-focus-indicator);
        outline-offset: var(--bds-size-utils-padding-2);
        z-index: 1; /* Ensure focused box appears above siblings */
        position: relative;
    }
`;e.BoxGroup=class extends Ne{constructor(){super(...arguments),this.variant="box-base",this.spacingBottom="none",this.spacingTop="none",this.gap="none"}static get styles(){return[Ki]}getClasses(){var e;return Object.assign(Object.assign({"bds-box-group":!0,[`variant-${this.variant}`]:!0},this.cssClassString&&{[this.cssClassString]:!0}),(null===(e=this.renderContext)||void 0===e?void 0:e.theme)&&{[this.renderContext.theme]:!0})}getStyles(){return{"margin-bottom":`var(--bds-size-spacing-${this.spacingBottom})`,"margin-top":`var(--bds-size-spacing-${this.spacingTop})`,gap:`var(--bds-size-spacing-${this.gap})`}}render(){const e=this.getClasses(),t=this.getStyles();return G`
            <div class="${Wt(e)}" style="${Ct(t)}">
                <slot></slot>
            </div>
        `}},t([we({type:String})],e.BoxGroup.prototype,"variant",void 0),t([we({type:String})],e.BoxGroup.prototype,"spacingBottom",void 0),t([we({type:String})],e.BoxGroup.prototype,"spacingTop",void 0),t([we({type:String})],e.BoxGroup.prototype,"gap",void 0),t([we({type:String})],e.BoxGroup.prototype,"cssClassString",void 0),e.BoxGroup=t([Te("bds-box-group"),Ue],e.BoxGroup);var Yi=p`
    .buy.filled {
        color: var(--bds-color-functional-supplemental-rio-primary);
        background: var(--bds-color-functional-supplemental-rio-buy-now);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-orange-palette-600-blaze, #ff8f00);
        outline: none;
    }

    .buy.filled:active {
        background: var(--bds-rio-color-orange-palette-300-ignition, #eb7b13);
    }

    .buy.filled:focus {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-blue-palette-400-pacific, #007185);
        box-shadow: 0 0 0 0.1875rem #fff inset, 0 0 0 0.1875rem #c8f3fa,
            0 0.125rem 0.3125rem 0 rgba(213, 217, 217, 0.5);
    }

    .buy.filled:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-orange-palette-1200-vent, #ffd894);
        background: var(--bds-rio-color-orange-palette-1500-spark, #fff8e5);
    }

    .buy.filled:hover {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-orange-palette-400-vulcan, #f78307);
        background: var(--bds-rio-color-orange-palette-500-molten, #fa8900);
    }
`,Ji=p`
    .order.filled {
        color: var(--bds-color-functional-supplemental-rio-primary);
        background: var(--bds-color-functional-supplemental-rio-add-to-cart);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-yellow-800-solar, #fcd200);
        outline: none;
    }

    .order.filled:active {
        background: var(--bds-rio-color-yellow-500-supergiant, #f0b800);
    }

    .order.filled:focus {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-blue-palette-400-pacific, #007185);
        box-shadow: 0 0 0 0.1875rem #fff inset, 0 0 0 0.1875rem #c8f3fa,
            0 0.125rem 0.3125rem 0 rgba(213, 217, 217, 0.5);
    }

    .order.filled:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-yellow-1200-sirius, #ffed94);
        background: var(--bds-rio-color-yellow-palette-1500-Luna, #fffae0);
    }

    .order.filled:hover {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-rio-color-yellow-600-arcturus, #f2c200);
        background: var(--bds-rio-color-yellow-700-venus, #f7ca00);
    }
`,Zi=p`
    .common.filled {
        background: var(--bds-color-functional-core-secondary);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-core-secondary);
    }

    .common.outlined {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-neutral-outline);
    }
`,ea=p`
    .rare.filled {
        background: var(
            --bds-color-functional-gradients-electric-unicorn,
            linear-gradient(226deg, #0274e6 -0.01%, #5e5cd1 41.89%, #cc0285 97.94%)
        );
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-transparent);
    }

    .rare.outlined {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-gradients-electric-unicorn, #0274e6);
    }
`,ta=p`
    .reading.filled {
        background: var(--bds-color-functional-core-primary-fixed);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-core-primary-fixed);
    }

    .reading.outlined {
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-core-primary-fixed);
    }
`,ia=p`
    :host > button,
    :host > a {
        position: relative;
        font-family: var(--bds-font-family-functional-body);
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: var(--bds-size-radius-circle);
        font-style: normal;
        font-weight: 400;
        min-width: var(--bds-size-tap-target-minimum);
        min-height: var(--bds-size-tap-target-minimum);
    }

    :host > a {
        text-decoration: none;
        display: inline-flex;
        box-sizing: border-box;
    }

    button:disabled,
    a[aria-disabled='true'] {
        cursor: default;
    }

    :hover {
        cursor: pointer;
    }

    .full-width {
        width: 100%;
        max-width: 400px; /* max width for button for large screens and tablet view */
    }

    .common.filled {
        color: var(--bds-color-functional-core-on-secondary);
    }

    .rare.filled {
        color: var(--bds-color-functional-core-on-electric-unicorn);
    }

    .reading.filled {
        color: var(--bds-color-functional-core-on-primary-fixed);
    }

    .common.outlined,
    .rare.outlined,
    .reading.outlined {
        color: var(--bds-color-functional-neutral-on-surface);
        background: none;
    }

    .common:focus,
    .rare:focus,
    .reading:focus {
        box-shadow: 0 0 0 0.1875rem #fff inset, 0 0 0 0.1875rem #c8f3fa,
            0 0.125rem 0.3125rem 0 rgba(213, 217, 217, 50%);
    }

    .common.filled:disabled,
    .rare.filled:disabled,
    .reading.filled:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        background: var(--bds-color-functional-utils-surface-inactive);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-outline-inactive);
    }

    .common.outlined:disabled,
    .rare.outlined:disabled,
    .reading.outlined:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-neutral-outline-variant);
    }

    .common.filled:hover:after,
    .rare.filled:hover:after,
    .reading.filled:hover:after {
        background: var(--bds-color-functional-utils-overlay-alpha-2-inverse);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-overlay-alpha-2-inverse);
    }

    .common.filled:active:after,
    .rare.filled:active:after,
    .reading.filled:active:after {
        background: var(--bds-color-functional-utils-overlay-alpha-1-inverse);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-overlay-alpha-1-inverse);
    }

    .common.outlined:hover:after,
    .rare.outlined:hover:after,
    .reading.outlined:hover:after {
        background: var(--bds-color-functional-utils-overlay-alpha-2);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-overlay-alpha-2);
    }

    .common.outlined:active:after,
    .rare.outlined:active:after,
    .reading.outlined:active:after {
        background: var(--bds-color-functional-utils-overlay-alpha-1);
        border: var(--bds-size-line-weight-small) solid
            var(--bds-color-functional-utils-overlay-alpha-1);
    }

    .common:hover:after,
    .rare:hover:after,
    .reading:hover:after,
    .common:active:after,
    .rare:active:after,
    .reading:active:after {
        border-radius: var(--bds-size-radius-circle);
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
    }

    .base {
        padding: 6px var(--bds-size-utils-padding-20);
        font-size: var(--bds-size-font-functional-label-medium);
        line-height: var(--bds-size-line-height-functional-label-medium); /* 142.857% */
    }

    .small {
        padding: 2px var(--bds-size-spacing-small);
        font-size: var(--bds-size-font-functional-label-small);
        line-height: var(--bds-size-line-height-functional-label-small); /* 133.333% */
    }

    .inner-border {
        position: absolute;
        inset: 0;
        border-radius: var(--bds-size-radius-circle);
        display: none;
    }
`;e.Button=class extends Ne{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickHandler=e=>{var t;Oe.logCountMetric(`bds-button-clicked-${this.category}-${this.emphasis}`),null===(t=this.handleClick)||void 0===t||t.call(this,e)}}static get styles(){return[ia,Yi,Zi,Ji,ea,ta]}render(){var e,t,i,a;return this.url?G` <a
                href=${this.url}
                aria-label=${mt(this.accessibilityLabel)}
                aria-disabled=${this.isInactive?"true":"false"}
                class="${this.category} ${this.emphasis} ${this.size} ${null!==(t=null===(e=this.renderContext)||void 0===e?void 0:e.theme)&&void 0!==t?t:""} ${this.fullWidth?"full-width":""}"
                ?disabled=${this.isInactive}>
                ${jt(this.content)}
            </a>`:G` <button
            aria-label=${mt(this.accessibilityLabel)}
            @click=${this.onClickHandler}
            class="${this.category} ${this.emphasis} ${this.size} ${null!==(a=null===(i=this.renderContext)||void 0===i?void 0:i.theme)&&void 0!==a?a:""} ${this.fullWidth?"full-width":""}"
            ?disabled=${this.isInactive}>
            ${jt(this.content)}
        </button>`}},t([we({type:String})],e.Button.prototype,"accessibilityLabel",void 0),t([we({type:String})],e.Button.prototype,"category",void 0),t([we({type:String})],e.Button.prototype,"content",void 0),t([we({type:String})],e.Button.prototype,"emphasis",void 0),t([we({type:String})],e.Button.prototype,"size",void 0),t([we({type:Boolean})],e.Button.prototype,"fullWidth",void 0),t([we()],e.Button.prototype,"handleClick",void 0),t([we({type:Boolean})],e.Button.prototype,"isInactive",void 0),t([we({type:String})],e.Button.prototype,"url",void 0),t([ye({context:Pe,subscribe:!0})],e.Button.prototype,"renderContext",void 0),e.Button=t([Te("bds-button"),Ue],e.Button),e.RareButton=class extends Ne{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1}render(){return G` <bds-button
            accessibilityLabel=${mt(this.accessibilityLabel)}
            content=${this.content}
            category="rare"
            emphasis=${this.emphasis}
            size=${mt(this.size)}
            .handleClick=${this.handleClick}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([we({type:String})],e.RareButton.prototype,"accessibilityLabel",void 0),t([we({type:String})],e.RareButton.prototype,"content",void 0),t([we({type:String})],e.RareButton.prototype,"emphasis",void 0),t([we({type:String})],e.RareButton.prototype,"size",void 0),t([we({type:Boolean})],e.RareButton.prototype,"fullWidth",void 0),t([we()],e.RareButton.prototype,"handleClick",void 0),t([we({type:Boolean})],e.RareButton.prototype,"isInactive",void 0),e.RareButton=t([Te("bds-rare-button")],e.RareButton),e.ReadingButton=class extends Ne{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickReadHandler=e=>{var t;this.handleClick?this.handleClick():this.callToAction?(null==e||e.preventDefault(),Ni.openWebPage(null===(t=this.callToAction)||void 0===t?void 0:t.url)):Oe.logCountMetric("bds-reading-button-onclick-error")}}render(){var e,t;const i=this.handleClick||Hi.isNativeBridgeAvailable()&&Hi.isOpenWebPageAvailable();return G` <bds-button
            accessibilityLabel=${mt(this.accessibilityLabel)}
            content=${ri("bds_read_now_button_label",null===(e=this.renderContext)||void 0===e?void 0:e.locale)}
            category="reading"
            emphasis=${this.emphasis}
            size=${mt(this.size)}
            url=${mt(i||null===(t=this.callToAction)||void 0===t?void 0:t.url)}
            .handleClick=${this.onClickReadHandler}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([we({type:String})],e.ReadingButton.prototype,"accessibilityLabel",void 0),t([we({type:String})],e.ReadingButton.prototype,"emphasis",void 0),t([we({type:String})],e.ReadingButton.prototype,"size",void 0),t([we({type:Boolean})],e.ReadingButton.prototype,"fullWidth",void 0),t([we()],e.ReadingButton.prototype,"handleClick",void 0),t([we({type:Object})],e.ReadingButton.prototype,"callToAction",void 0),t([we({type:Boolean})],e.ReadingButton.prototype,"isInactive",void 0),t([ye({context:Pe,subscribe:!0})],e.ReadingButton.prototype,"renderContext",void 0),e.ReadingButton=t([Te("bds-reading-button")],e.ReadingButton),e.CommonButton=class extends Ne{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickReadHandler=e=>{this.handleClick?this.handleClick():this.url?(null==e||e.preventDefault(),Ni.openWebPage(this.url)):Oe.logCountMetric("bds-common-button-onclick-error")}}render(){const e=this.handleClick||Hi.isNativeBridgeAvailable()&&Hi.isOpenWebPageAvailable();return G` <bds-button
            accessibilityLabel=${mt(this.accessibilityLabel)}
            content=${this.content}
            category="common"
            emphasis=${this.emphasis}
            size=${mt(this.size)}
            url=${mt(e||null==this?void 0:this.url)}
            .handleClick=${this.onClickReadHandler}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([we({type:String})],e.CommonButton.prototype,"accessibilityLabel",void 0),t([we({type:String})],e.CommonButton.prototype,"content",void 0),t([we({type:String})],e.CommonButton.prototype,"emphasis",void 0),t([we({type:String})],e.CommonButton.prototype,"size",void 0),t([we({type:Boolean})],e.CommonButton.prototype,"fullWidth",void 0),t([we()],e.CommonButton.prototype,"handleClick",void 0),t([we({type:String})],e.CommonButton.prototype,"url",void 0),t([we({type:Boolean})],e.CommonButton.prototype,"isInactive",void 0),e.CommonButton=t([Te("bds-common-button")],e.CommonButton);const aa={KINDLE_UNLIMITED:"KU",COMICS_UNLIMITED:"CU",PrimeReading:"PRIME"},oa={"content-type":"application/x-www-form-urlencoded"};function ra(e){e&&e.ok&&(e.redirected?Ni.openWebPage(e.url):e.json().then((e=>{var t,i,a;try{const o=null===(a=null===(i=null===(t=null==e?void 0:e.resources)||void 0===t?void 0:t[0].states)||void 0===i?void 0:i[0].links)||void 0===a?void 0:a[0].url;o&&Ni.openWebPage(o)}catch(e){throw Oe.logCountMetric("bds-fetchresponse-handler-error"),new Error(`Error in getting redirect url from fetchResponse: ${e}`)}})))}function sa(e,t){if(!t)return e;const[i,a]=e.split("?"),o=new URLSearchParams(a);Object.entries(t).forEach((([e,t])=>{o.append(e,t)}));const r=new URL(i,"https://www.amazon.com");return r.search=o.toString(),r.pathname+r.search}const na=e=>{const t={};if(!e)return t;for(const i of e)(null==i?void 0:i.name)&&(null==i?void 0:i.value)&&(t[i.name]=i.value);return t};function la(e,t){var i;const{url:a,data:o}=e,r=sa(a,t),s=(e=>{var t,i,a,o,r,s,n,l,d;const c=na(e);return{programCode:null!==(i=null!==(t=null==c?void 0:c.programCode)&&void 0!==t?t:null==c?void 0:c.program)&&void 0!==i?i:"KINDLE_UNLIMITED",channelCode:null!==(o=null!==(a=null==c?void 0:c.programChannel)&&void 0!==a?a:null==c?void 0:c.channel)&&void 0!==o?o:"ALL_YOU_CAN_READ",programName:null!==(n=null!==(r=null==c?void 0:c.programName)&&void 0!==r?r:aa[null!==(s=c.programCode)&&void 0!==s?s:""])&&void 0!==n?n:"KU",actionType:null!==(l=null==c?void 0:c.actionType)&&void 0!==l?l:"Borrow",asin:null!==(d=null==c?void 0:c.asin)&&void 0!==d?d:""}})(null==o?void 0:o.parameters),n={csrf:null!==(i=null==t?void 0:t.csrf)&&void 0!==i?i:"",items:[{action:{asin:s.asin,actionType:s.actionType,program:{programCode:s.programCode,name:s.programName,channelCode:s.channelCode}}}]};return fetch(r,{method:"POST",headers:oa,body:new URLSearchParams(da(n))}).then((e=>ra(e)))}function da(e,t=""){const i=[];for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const o=Array.isArray(e),r=t?o?`${t}[${a}]`:`${t}.${a}`:a,s=o?e[Number(a)]:e[a];null!==s&&"object"==typeof s?i.push(da(s,r)):i.push(`${encodeURIComponent(r)}=${encodeURIComponent(s)}`)}return i.join("&")}e.BuyButton=class extends Ne{constructor(){super(...arguments),this.category="buy",this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickBuyHandler=()=>{if(this.handleClick)this.handleClick();else if(this.callToAction)try{this.isInactive=!0,function(e,t){var i;const a="data"in e?na(null===(i=e.data)||void 0===i?void 0:i.parameters):{},o=new Mt(a).getData();o.csrf=null==t?void 0:t.csrf;const r=sa(e.url,t);return fetch(r,{method:"POST",headers:oa,body:new URLSearchParams(da(o))}).then((e=>ra(e)))}(this.callToAction,this.biFrostRequestParams).finally((()=>{this.isInactive=!1}))}catch(e){Oe.logCountMetric(`bds-buy-button-onclick-error-${this.category}-${this.emphasis}`)}}}render(){return G` <bds-button
            accessibilityLabel=${mt(this.accessibilityLabel)}
            content=${this.content}
            category=${mt(this.category)}
            emphasis=${this.emphasis}
            size=${mt(this.size)}
            .handleClick=${this.onClickBuyHandler}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([we({type:String})],e.BuyButton.prototype,"accessibilityLabel",void 0),t([we({type:String})],e.BuyButton.prototype,"category",void 0),t([we({type:String})],e.BuyButton.prototype,"content",void 0),t([we({type:String})],e.BuyButton.prototype,"emphasis",void 0),t([we({type:String})],e.BuyButton.prototype,"size",void 0),t([we({type:Boolean})],e.BuyButton.prototype,"fullWidth",void 0),t([we()],e.BuyButton.prototype,"handleClick",void 0),t([we({type:Object})],e.BuyButton.prototype,"callToAction",void 0),t([we({type:Object})],e.BuyButton.prototype,"biFrostRequestParams",void 0),t([we({type:Boolean})],e.BuyButton.prototype,"isInactive",void 0),e.BuyButton=t([Te("bds-buy-button")],e.BuyButton),e.BorrowButton=class extends Ne{constructor(){super(...arguments),this.size="base",this.fullWidth=!1,this.isInactive=!1,this.onClickBuyHandler=()=>{if(this.handleClick)this.handleClick();else if(this.isInactive=!0,this.callToAction)try{"data"in this.callToAction&&la(this.callToAction,this.biFrostRequestParams).finally((()=>{this.isInactive=!1}))}catch(e){Oe.logCountMetric("bds-borrow-button-borrow-onclick-error")}else if(this.ebookSample)try{(function(e,t){var i;const a=sa(e.endpoint.url,t);return fetch(a,{method:"POST",headers:oa,body:new URLSearchParams({csrf:null!==(i=null==t?void 0:t.csrf)&&void 0!==i?i:""})}).then((e=>ra(e)))})(this.ebookSample,this.biFrostRequestParams).finally((()=>{this.isInactive=!1}))}catch(e){Oe.logCountMetric("bds-borrow-button-ebookSample-onclick-error")}}}render(){return G` <bds-button
            accessibilityLabel=${mt(this.accessibilityLabel)}
            content=${this.content}
            category=${"order"}
            emphasis=${"filled"}
            size=${mt(this.size)}
            .handleClick=${this.onClickBuyHandler}
            ?fullWidth=${this.fullWidth}
            ?isInactive=${this.isInactive}>
        </bds-button>`}},t([we({type:String})],e.BorrowButton.prototype,"accessibilityLabel",void 0),t([we({type:String})],e.BorrowButton.prototype,"content",void 0),t([we({type:String})],e.BorrowButton.prototype,"size",void 0),t([we({type:Boolean})],e.BorrowButton.prototype,"fullWidth",void 0),t([we()],e.BorrowButton.prototype,"handleClick",void 0),t([we({type:Object})],e.BorrowButton.prototype,"callToAction",void 0),t([we({type:Object})],e.BorrowButton.prototype,"biFrostRequestParams",void 0),t([we({type:Object})],e.BorrowButton.prototype,"ebookSample",void 0),t([we({type:Boolean})],e.BorrowButton.prototype,"isInactive",void 0),e.BorrowButton=t([Te("bds-borrow-button")],e.BorrowButton);var ca=p`
    :host {
        display: block;
        margin: 0;
    }

    .divider {
        border-bottom-style: solid;
        border-bottom-color: var(--bds-color-functional-neutral-outline-variant);
        box-sizing: border-box;
        margin: 0;
    }

    .divider.small {
        border-bottom-width: var(--bds-size-line-weight-small);
    }

    .divider.medium {
        border-bottom-width: var(--bds-size-line-weight-medium);
    }

    .divider-container {
        display: flex;
        align-items: center;
        width: 100%;
        box-sizing: border-box;
        margin: 0;
    }

    .divider-line {
        flex: 1;
        border-bottom-style: solid;
        border-bottom-color: var(--bds-color-functional-neutral-outline-variant);
        box-sizing: border-box;
    }

    .divider-container.small .divider-line {
        border-bottom-width: var(--bds-size-line-weight-small);
    }

    .divider-container.medium .divider-line {
        border-bottom-width: var(--bds-size-line-weight-medium);
    }

    .divider-text {
        padding: 0 var(--bds-size-spacing-medium);
        color: var(--bds-color-functional-neutral-on-surface);
        font-size: var(--bds-size-font-functional-label-medium);
        line-height: var(--bds-size-line-height-functional-label-medium);
        white-space: nowrap;
        flex-shrink: 0;
    }
`;e.Divider=class extends Ne{constructor(){super(...arguments),this.size="small"}render(){const e={"margin-top":this.spacingTop,"margin-bottom":this.spacingBottom};return this.text?this.renderWithText(e):this.renderSimple(e)}renderWithText(e){const t=`divider-container ${this.size}`;return G`
            <div class="${t}" style=${Ct(e)}>
                <div class="divider-line"></div>
                <span class="divider-text">${this.text}</span>
                <div class="divider-line"></div>
            </div>
        `}renderSimple(e){const t=`divider ${this.size}`;return G`<div class="${t}" style=${Ct(e)}></div>`}},e.Divider.styles=ca,t([we({type:String})],e.Divider.prototype,"size",void 0),t([we({type:String,converter:{fromAttribute:e=>{if(null==e)return;const t=e.trim();return""===t?void 0:t}}})],e.Divider.prototype,"text",void 0),t([we({type:String})],e.Divider.prototype,"spacingTop",void 0),t([we({type:String})],e.Divider.prototype,"spacingBottom",void 0),e.Divider=t([Te("bds-divider"),Ue],e.Divider);var ua=p`
    .savings-percentage-overlay {
        background-color: var(--bds-mosaic-faceout-color-deal-percent-background);
        border: 1px solid var(--bds-mosaic-faceout-color-deal-percent-border);
        border-radius: var(--bds-mosaic-faceout-size-deal-percent-border-radius);
        color: var(--bds-mosaic-faceout-color-deal-percent-text);
        font-family: var(--bds-mosaic-faceout-font-family-deal-percent-text);
        font-size: var(--bds-mosaic-faceout-size-deal-percent-text);
        font-weight: var(--bds-mosaic-faceout-font-weight-deal-percent-text);
        line-height: var(--bds-mosaic-faceout-size-deal-percent-line-height);
        padding: 1px 8px;
        text-decoration: var(--bds-mosaic-faceout-font-decoration-deal-percent-text);
    }
`;e.SavingsPercentageOverlay=class extends be{render(){return G`<span class="savings-percentage-overlay">
            ${this.savingsPercentageDisplayString}
        </span>`}},e.SavingsPercentageOverlay.styles=ua,t([we({type:String})],e.SavingsPercentageOverlay.prototype,"savingsPercentageDisplayString",void 0),e.SavingsPercentageOverlay=t([Te("bds-savings-percentage-overlay"),Ue],e.SavingsPercentageOverlay);var ba=[p`
    .card-header {
        /* Allow natural word wrapping */
        overflow-wrap: break-word;
    }

    .standard .card-title {
        color: var(--bds-color-functional-neutral-on-surface);
        font-family: var(--bds-font-family-functional-title);
        font-size: var(--bds-size-font-functional-title-large);
        font-style: normal;
        font-weight: 600;
        line-height: var(--bds-size-line-height-functional-title-large);
    }

    .standard .card-why-line {
        color: var(--bds-color-functional-neutral-on-surface);
        font-family: var(--bds-font-family-functional-title);
        font-size: var(--bds-size-font-functional-title-small);
        font-style: normal;
        font-weight: var(--bds-card-font-weight-subheading);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .headerWithCTA {
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
        gap: var(--bds-size-spacing-small);
        align-self: stretch;
    }

    .headerWithCTA .card-title {
        flex: 1 0 0;
        color: var(--bds-color-functional-neutral-on-surface);
        font-family: var(--bds-font-family-functional-headline);
        font-size: var(--bds-size-font-functional-headline-small);
        font-style: normal;
        font-weight: var(--bds-font-weight-functional-headline);
        line-height: var(--bds-size-line-height-functional-headline-small);
    }

    .headerWithCTA .card-why-line {
        flex: 1 0 0;
        color: var(--bds-color-functional-neutral-on-surface-variant);
        font-family: var(--bds-font-family-functional-body);
        font-size: var(--bds-size-font-functional-body-small);
        font-style: normal;
        font-weight: var(--bds-card-font-weight-subheading);
        line-height: var(--bds-size-line-height-functional-body-small);
    }

    .card-header-cta {
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-2x-small);
        text-decoration: none;
    }

    .card-header-cta-text {
        color: var(--bds-color-functional-core-primary-interactive);
        font-family: var(--bds-font-family-functional-body);
        font-size: var(--bds-size-font-functional-body-small);
        font-style: normal;
        font-weight: var(
            --bds-card-font-weight-footer
        ); /** cta in desktop shoveler is basically footer in mobile **/
        line-height: var(--bds-size-line-height-functional-body-small);
        vertical-align: bottom;
    }

    .card-header-cta-icon {
        display: flex;
        width: 12px;
        height: 12px;
        padding: 2px 3px 2px 4px;
        justify-content: center;
        align-items: center;
        color: var(--bds-color-functional-core-primary-interactive);
    }

    :is(h1, h2, h3, h4, h5, h6) {
        all: inherit;
    }
`,Ut()];e.CardHeader=class extends Ne{constructor(){super(...arguments),this.titleTextHeadingLevel=2,this.layout="standard"}renderHeadingText(e,t,i){let a;switch(i){case 1:a=G`<h1 class=${mt(t)} role="heading">
                    ${e}
                </h1>`;break;case 2:a=G`<h2 class=${mt(t)} role="heading">
                    ${e}
                </h2>`;break;case 3:a=G`<h3 class=${mt(t)} role="heading">
                    ${e}
                </h3>`;break;case 4:a=G`<h4 class=${mt(t)} role="heading">
                    ${e}
                </h4>`;break;case 5:a=G`<h5 class=${mt(t)} role="heading">
                    ${e}
                </h5>`;break;case 6:a=G`<h6 class=${mt(t)} role="heading">
                    ${e}
                </h6>`;break;default:a=G`<span class=${mt(t)} role="text"
                    >${e}</span
                >`}return a}getCTAAriaLabel(){return`${this.ctaText} ${this.titleText}`}renderCardHeaderWithCTA(){return G`
            <div>${this.returnStandardHeader()}</div>
            ${ft(this.ctaText&&this.ctaUrl,(()=>G`
                        <a
                            href=${mt(this.ctaUrl)}
                            class="card-header-cta"
                            role="link"
                            aria-label=${this.getCTAAriaLabel()}>
                            <span class="card-header-cta-text">${this.ctaText}</span>
                            <bds-icon
                                class="card-header-cta-icon"
                                iconName="${ni()?"chevron-left.svg":"chevron-right.svg"}"
                                iconSize="14px"
                                iconColor="var(--bds-color-functional-core-primary-interactive)">
                            </bds-icon>
                        </a>
                    `))}
        `}returnStandardHeader(){return G` ${ft(this.titleText,(()=>this.renderHeadingText(this.titleText,"card-title",this.titleTextHeadingLevel)))}
        ${ft(this.whyLineText,(()=>this.renderHeadingText(this.whyLineText,"card-why-line",this.whyLineTextHeadingLevel)))}`}render(){return this.titleText||this.whyLineText?G`
            <div class="card-header ${this.layout}">
                ${tt(this.layout,[["standard",()=>this.returnStandardHeader()],["headerWithCTA",()=>this.renderCardHeaderWithCTA()]],(()=>this.returnStandardHeader()))}
            </div>
        `:q}},e.CardHeader.styles=ba,t([we({type:String})],e.CardHeader.prototype,"titleText",void 0),t([we({type:Number})],e.CardHeader.prototype,"titleTextHeadingLevel",void 0),t([we({type:String})],e.CardHeader.prototype,"whyLineText",void 0),t([we({type:Number})],e.CardHeader.prototype,"whyLineTextHeadingLevel",void 0),t([we({type:String})],e.CardHeader.prototype,"ctaText",void 0),t([we({type:String})],e.CardHeader.prototype,"ctaUrl",void 0),t([we({type:String})],e.CardHeader.prototype,"layout",void 0),e.CardHeader=t([Te("bds-card-header"),Ue],e.CardHeader);var ga=[p`
    .card-footer.standard {
        color: var(--bds-color-functional-neutral-on-surface);
        font-family: var(--bds-font-family-functional-body);
        font-size: var(--bds-size-font-functional-body-small);
        font-style: normal;
        font-weight: var(--bds-card-font-weight-footer);
        line-height: var(--bds-size-line-height-functional-body-small);
        text-decoration: none;

        ${$t(1)};
    }

    /** underline the anchor only when it is standard layout **/
    a.card-footer.standard {
        color: var(--bds-link-color-text-active);
        text-decoration: underline;
    }

    a.card-footer.standard:hover {
        color: var(--bds-link-color-text-hover);
    }

    .card-footer.fullWidth {
        display: flex;
        justify-content: space-between;
        align-items: center;
        align-self: stretch;
        color: var(--bds-link-color-text-active);
        font-family: var(--bds-font-family-functional-body);
        font-size: var(--bds-size-font-functional-body-medium);
        font-style: normal;
        font-weight: var(--bds-card-font-weight-footer);
        line-height: var(--bds-size-line-height-functional-body-medium);
        text-decoration: none;
    }

    .card-footer-icon {
        display: flex;
        height: 18px;
        padding: 9px 0;
        align-items: center;
        gap: 10px;
    }
`,Ut()];e.CardFooter=class extends Ne{constructor(){super(...arguments),this.layout="standard"}render(){return this.label?this.linkUrl?G` <div>
                <a
                    href="${mt(this.linkUrl)}"
                    class="card-footer ${this.layout}"
                    role="link"
                    aria-label=${mt(this.label)}>
                    ${this.label}
                    ${ft("fullWidth"===this.layout,(()=>G`
                            <bds-icon
                                class="card-footer-icon"
                                iconName="${ni()?"chevron-left.svg":"chevron-right.svg"}"
                                iconSize="14px"
                                iconColor="var(--bds-color-functional-core-primary-interactive)">
                            </bds-icon>
                        `))}
                </a>
            </div>`:G` <div
                class="card-footer ${this.layout}"
                role="text"
                aria-label="${this.label}">
                ${this.label}
            </div>`:q}},e.CardFooter.styles=ga,t([we({type:String})],e.CardFooter.prototype,"label",void 0),t([we({type:String})],e.CardFooter.prototype,"linkUrl",void 0),t([we({type:String})],e.CardFooter.prototype,"layout",void 0),e.CardFooter=t([Te("bds-card-footer"),Ue],e.CardFooter);const ha=p`
    /** Carousel Container styles **/

    #carousel-container {
        position: relative;
    }

    .pagination-control-offset {
        padding: 0 var(--bds-size-spacing-small);
    }

    /* Carousel Scroller styles */

    #carousel-list {
        display: flex;
        flex-direction: row;
        margin: 0;
        padding: 0;
        overflow: scroll;
        scrollbar-width: none;
        list-style-type: none;
    }

    #carousel-list.fade-left-edge {
        mask-image: linear-gradient(to right, transparent, black 80px);
    }

    #carousel-list.fade-right-edge {
        mask-image: linear-gradient(to left, transparent, black 80px);
    }

    #carousel-list.fade-left-edge.fade-right-edge {
        mask-image: linear-gradient(to right, transparent, black 80px),
            linear-gradient(to left, transparent, black 80px);
        mask-composite: intersect; /* Ensures both gradients below work together */
    }

    @media (prefers-reduced-motion) {
        #carousel-list {
            scroll-behavior: auto;
        }
    }

    #carousel-list::-webkit-scrollbar {
        display: none;
    }

    .carousel-item {
        height: 100%;
    }
    
    /* Carousel Pagination Control Button styles */

    #pagination-button-left {
        left: 0;
    }

    #pagination-button-right {
        right: 0;
    }

    .pagination-button {
        background-color: var(--bds-color-functional-neutral-surface);
        border-color: var(--bds-color-functional-neutral-outline);
        border-width: var(--bds-size-line-weight-small);
        border-radius: var(--bds-size-radius-small);
        position: absolute;
        z-index: 2;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(15, 17, 17, 25%); /* TODO Create design token for elevation in BDS */
    }

    .pagination-button-icon {
        vertical-align: middle;
    }

    .hide-pagination-button {
        opacity: 0;
        pointer-events: none;
    }

    .pagination-button-animation {
        transition: opacity 400ms ease-in-out;
    }

    @media (prefers-reduced-motion) {
        .pagination-button-animation {
            transition: none;
        }
    }
`
/**
     * @license
     * Copyright 2020 Google LLC
     * SPDX-License-Identifier: BSD-3-Clause
     */;var va=Symbol.for(""),pa=e=>{if((null==e?void 0:e.r)===va)return null==e?void 0:e._$litStatic$},ma=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return{_$litStatic$:i.reduce(((t,i,a)=>t+(e=>{if(void 0!==e._$litStatic$)return e._$litStatic$;throw Error("Value passed to 'literal' function must be a 'literal' result: ".concat(e,". Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security."))})(i)+e[a+1]),e[0]),r:va}},_a=new Map,fa=(e=>function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];for(var r,s,n,l=a.length,d=[],c=[],u=0,b=!1;u<l;){for(n=t[u];u<l&&void 0!==(s=a[u],r=pa(s));)n+=r+t[++u],b=!0;u!==l&&c.push(s),d.push(n),u++}if(u===l&&d.push(t[l]),b){var g=d.join("$$lit$$");void 0===(t=_a.get(g))&&(d.raw=d,_a.set(g,t=d)),a=c}return e(t,...a)})(G);e.Carousel=class extends et{getDefaultConfiguration(){return{shouldShowPaginationButtons:!0,paginationButtonSize:44,shouldEdgesFade:!1,carouselItemsGap:"20px",enableFullBleedScrolling:!1}}getConfigurationOverrides(){return[{targeting:{layout:"standard-carousel"},overrides:{shouldShowPaginationButtons:!1,paginationButtonSize:44,shouldEdgesFade:!1,carouselItemsGap:"20px"}},{targeting:{layout:"standard-carousel",devicetype:"default"},overrides:{shouldShowPaginationButtons:!0}},{targeting:{layout:"standard-carousel",devicetype:"desktop"},overrides:{shouldShowPaginationButtons:!0}},{targeting:{layout:"standard-carousel",devicetype:"tablet",operatingsystem:"iOS",hostapplication:"default"},overrides:{shouldShowPaginationButtons:!0}},{targeting:{layout:"small-carousel"},overrides:{paginationButtonSize:30,shouldEdgesFade:!0,carouselItemsGap:"8px"}},{targeting:{layout:"small-carousel",devicetype:"mobile"},overrides:{shouldShowPaginationButtons:!1,shouldEdgesFade:!1}},{targeting:{devicetype:"mobile"},overrides:{enableFullBleedScrolling:!0}}]}constructor(){super(),this.scrollingContainerRef=gt(),this.listType="unordered",this.alwaysShowPaginationButtons=!1,this.alwaysFadeEdges=!1,this.saveScrollDistance=!1,this.appliedPadding=0,this.hidePrevPageButton=!0,this.hideNextPageButton=!0,this.layout="standard-carousel",this.ancestorAppliedPadding=0,this.carouselItems=[],this.paginationControlAndItemGap=8,this.fadeEdgeWidth=80,this.enablePaginationAnimation=!1,this.leftIntersectItems=new Set,this.rightIntersectItems=new Set,this.carouselResizeObserver=new ResizeObserver((()=>{this.ancestorAppliedPadding=this.getBoundingClientRect().left})),this.carouselListResizeObserver=new ResizeObserver((()=>{this.layout=this.carouselList.clientHeight<=80?"small-carousel":"standard-carousel",this.attachIntersectionObserversToPaginationOverlapArea()}))}render(){const e=this.getRenderConfiguration(this.layout),t=this.alwaysShowPaginationButtons||e.shouldShowPaginationButtons,i=this.alwaysFadeEdges||e.shouldEdgesFade,a=ft(t,(()=>G`${this.buildPaginationButton("left",ni()?"next":"previous")}`)),o=ft(t,(()=>G`${this.buildPaginationButton("right",ni()?"previous":"next")}`)),r={"pagination-control-offset":e.shouldShowPaginationButtons},s=Object.assign({gap:this.itemsGap||e.carouselItemsGap},e.enableFullBleedScrolling&&(this.appliedPadding?{"padding-left":`${this.appliedPadding}px`,"padding-right":`${this.appliedPadding}px`}:{"padding-left":`${this.ancestorAppliedPadding}px`,"padding-right":`${this.ancestorAppliedPadding}px`,"margin-left":-this.ancestorAppliedPadding+"px","margin-right":-this.ancestorAppliedPadding+"px"})),n={"fade-left-edge":i&&(ni()?!this.hideNextPageButton:!this.hidePrevPageButton),"fade-right-edge":i&&(ni()?!this.hidePrevPageButton:!this.hideNextPageButton)},l="ordered"===this.listType?ma`ol`:ma`ul`;return fa`
            <div id="carousel-container" class="${Wt(r)}">
                ${a}
                <${l} id="carousel-list"
                    role="list"
                    ${pt(this.scrollingContainerRef)}
                    style=${Ct(s)}
                    class=${Wt(n)}
                    aria-label="${this.carouselAriaLabel}"
                    @scroll=${this.handleScroll}
                    @scrollend=${this.handleScrollEnd}
                    @keyboardfocus=${this.handleKeyboardFocus}>
                    <slot @slotchange=${this.initializeCarousel}></slot>
                </${l}>
                ${o}
            </div>`}handleKeyboardFocus(t){if(t.target instanceof e.CarouselItem){const e=t.target;this.leftIntersectItems.has(e)?this.handleLeftNav():this.rightIntersectItems.has(e)&&this.handleRightNav()}}handleScroll(){this.enablePaginationAnimation=!0,this.handleScrollCallback&&this.handleScrollCallback()}handleScrollEnd(){if(this.saveScrollDistance){const e=this.carouselList.scrollLeft;this.setAttribute("data-scroll-distance",e.toString())}}firstUpdated(){this.initializeCarousel()}initializeCarousel(){var e;const t=this.getAttribute("data-scroll-distance");this.saveScrollDistance&&t&&this.restoreScrollPosition(t),this.carouselItems=Array.from(this.querySelectorAll("bds-carousel-item")),(null===(e=this.carouselItems)||void 0===e?void 0:e.length)&&(this.disconnectAllObservers(),(this.alwaysShowPaginationButtons||this.getRenderConfiguration(this.layout).shouldShowPaginationButtons)&&(this.attachIntersectionObserversToFirstAndLastItem(),this.attachIntersectionObserversToPaginationOverlapArea()),this.carouselResizeObserver.observe(this),this.carouselListResizeObserver.observe(this.carouselList))}restoreScrollPosition(e){return i(this,void 0,void 0,(function*(){if(!e)return;const t=parseFloat(e);t&&(yield this.updateComplete,this.carouselList.scrollLeft=t)}))}buildPaginationButton(e,t){var i,a;const o="left"===e?"chevron-left.svg":"chevron-right.svg",r=this.getRenderConfiguration(this.layout).paginationButtonSize,s="previous"===t?ri("bds_previous_set_of_slides",null===(i=this.renderContext)||void 0===i?void 0:i.locale):ri("bds_next_set_of_slides",null===(a=this.renderContext)||void 0===a?void 0:a.locale),n="previous"===t?this.hidePrevPageButton:this.hideNextPageButton,l={"hide-pagination-button":n,"pagination-button-animation":this.enablePaginationAnimation};return G`
            <button
                id="pagination-button-${e}"
                style="${Ct({width:`${r}px`,height:`${r}px`,top:`calc(50% - ${r/2}px)`})}"
                class="pagination-button ${Wt(l)}"
                aria-hidden="${n}"
                ?disabled="${n}"
                tabindex="-1"
                aria-label="${s}"
                @click=${"left"===e?this.handleLeftNav:this.handleRightNav}>
                <bds-icon
                    aria-hidden="true"
                    role="presentation"
                    class="pagination-button-icon"
                    iconName="${o}"
                    iconSize="15px"
                    iconColor="var(--bds-color-functional-neutral-on-surface-variant)">
                </bds-icon>
            </button>
        `}handleLeftNav(){var e;const t=this.getPrecedingOrFollowingElement(this.leftIntersectItems,ni()?"preceding":"following");let i;i=this.getRenderConfiguration(this.layout).shouldEdgesFade?this.carouselList.getBoundingClientRect().right-this.fadeEdgeWidth:(null===(e=this.rightPaginationButton)||void 0===e?void 0:e.getBoundingClientRect().left)-this.paginationControlAndItemGap;const a=t.getBoundingClientRect().right-i;this.scrollCarousel(a)}handleRightNav(){var e;const t=this.getPrecedingOrFollowingElement(this.rightIntersectItems,ni()?"following":"preceding");let i;i=this.getRenderConfiguration(this.layout).shouldEdgesFade?this.carouselList.getBoundingClientRect().left+this.fadeEdgeWidth:(null===(e=this.leftPaginationButton)||void 0===e?void 0:e.getBoundingClientRect().right)+this.paginationControlAndItemGap;const a=t.getBoundingClientRect().left-i;this.scrollCarousel(a)}scrollCarousel(e){window.matchMedia("(prefers-reduced-motion: reduce)").matches?this.carouselList.scrollBy(e,0):this.easeInOutScroll(e)}easeInOutScroll(e){const t=this.carouselList.scrollLeft,i=performance.now(),a=o=>{const r=o-i,s=Math.min(r/400,1),n=(e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1)(s);this.carouselList.scrollLeft=t+e*n,s<1&&requestAnimationFrame(a)};requestAnimationFrame(a)}getPrecedingOrFollowingElement(e,t){const i=[...e];return"preceding"===t?2===i.length&&i[0].compareDocumentPosition(i[1])===Node.DOCUMENT_POSITION_PRECEDING?i[1]:i[0]:2===i.length&&i[0].compareDocumentPosition(i[1])===Node.DOCUMENT_POSITION_FOLLOWING?i[1]:i[0]}attachIntersectionObserversToFirstAndLastItem(){const e={root:this.carouselList,threshold:1,rootMargin:"0px 1px 0px 1px"};this.firstCarouselItemIntersectionObserver=new IntersectionObserver((e=>{this.hidePrevPageButton=1===e[0].intersectionRatio}),e),this.firstCarouselItemIntersectionObserver.observe(this.carouselItems[0]),this.lastCarouselItemIntersectionObserver=new IntersectionObserver((e=>{this.hideNextPageButton=1===e[0].intersectionRatio}),e),this.lastCarouselItemIntersectionObserver.observe(this.carouselItems[this.carouselItems.length-1])}attachIntersectionObserversToPaginationOverlapArea(){var e,t;null===(e=this.leftOverlapIntersectionObserver)||void 0===e||e.disconnect(),null===(t=this.rightOverlapIntersectionObserver)||void 0===t||t.disconnect();const i=this.getRenderConfiguration(this.layout),a={root:this.carouselList,threshold:.001},o=parseInt(getComputedStyle(this).getPropertyValue("--bds-size-spacing-small")),r=i.shouldEdgesFade?this.fadeEdgeWidth:i.paginationButtonSize-o,s=-(this.carouselList.clientWidth-r),n=Object.assign(Object.assign({},a),{rootMargin:`0px ${s}px 0px 0px`}),l=Object.assign(Object.assign({},a),{rootMargin:`0px 0px 0px ${s}px`}),d=(e,t)=>{e.forEach((e=>{const i=e.target;t.delete(i),e.isIntersecting&&t.add(i)}))},c=new IntersectionObserver((e=>d(e,this.leftIntersectItems)),n);this.leftOverlapIntersectionObserver=c,this.carouselItems.forEach((e=>c.observe(e)));const u=new IntersectionObserver((e=>d(e,this.rightIntersectItems)),l);this.rightOverlapIntersectionObserver=u,this.carouselItems.forEach((e=>u.observe(e)))}disconnectAllObservers(){var e,t,i,a;this.carouselResizeObserver.disconnect(),this.carouselListResizeObserver.disconnect(),null===(e=this.firstCarouselItemIntersectionObserver)||void 0===e||e.disconnect(),null===(t=this.lastCarouselItemIntersectionObserver)||void 0===t||t.disconnect(),null===(i=this.leftOverlapIntersectionObserver)||void 0===i||i.disconnect(),null===(a=this.rightOverlapIntersectionObserver)||void 0===a||a.disconnect()}disconnectedCallback(){super.disconnectedCallback(),this.disconnectAllObservers()}},e.Carousel.styles=ha,t([we({type:String})],e.Carousel.prototype,"listType",void 0),t([we({type:String})],e.Carousel.prototype,"itemsGap",void 0),t([we({type:String})],e.Carousel.prototype,"carouselAriaLabel",void 0),t([we({type:Boolean})],e.Carousel.prototype,"alwaysShowPaginationButtons",void 0),t([we({type:Boolean})],e.Carousel.prototype,"alwaysFadeEdges",void 0),t([we({type:Object})],e.Carousel.prototype,"csaAttributes",void 0),t([we({type:Object})],e.Carousel.prototype,"handleScrollCallback",void 0),t([we({type:Boolean})],e.Carousel.prototype,"saveScrollDistance",void 0),t([we({type:Number})],e.Carousel.prototype,"appliedPadding",void 0),t([Ce()],e.Carousel.prototype,"hidePrevPageButton",void 0),t([Ce()],e.Carousel.prototype,"hideNextPageButton",void 0),t([Ce()],e.Carousel.prototype,"layout",void 0),t([Ce()],e.Carousel.prototype,"ancestorAppliedPadding",void 0),t([Be("#carousel-list")],e.Carousel.prototype,"carouselList",void 0),t([Be("#pagination-button-left")],e.Carousel.prototype,"leftPaginationButton",void 0),t([Be("#pagination-button-right")],e.Carousel.prototype,"rightPaginationButton",void 0),e.Carousel=t([Te("bds-carousel"),Ue],e.Carousel),e.CarouselItem=class extends be{constructor(){super(...arguments),this.isMouseDown=!1}handleMouseDown(){this.isMouseDown=!0}handleMouseUp(){this.isMouseDown=!1}handleFocusIn(){this.isMouseDown||this.dispatchEvent(new CustomEvent("keyboardfocus",{bubbles:!0,composed:!0}))}render(){return G`
            <li
                class="carousel-item"
                @mousedown=${this.handleMouseDown}
                @mouseup=${this.handleMouseUp}
                @focusin=${this.handleFocusIn}>
                <slot></slot>
            </li>
        `}},e.CarouselItem.styles=ha,e.CarouselItem=t([Te("bds-carousel-item")],e.CarouselItem);var ya=[p`
    .spinner-container {
        position: relative;
    }

    .spinner-icon {
        animation: bds-spinner-rotate 1s linear infinite;
        display: block;
    }

    @keyframes bds-spinner-rotate {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    /* CSS fallback spinner when image fails to load */
    .spinner-container.spinner-fallback .spinner-icon {
        opacity: 0;
    }

    .spinner-container.spinner-fallback::before {
        content: '';
        position: absolute;
        width: inherit;
        height: inherit;
        border: var(--bds-size-spacing-x-small) solid
            var(--bds-color-functional-neutral-outline-variant);
        border-top: var(--bds-size-spacing-x-small) solid
            var(--bds-color-functional-core-primary-interactive);
        border-radius: var(--bds-size-radius-circle);
        opacity: 1;
        animation: bds-spinner-rotate 1s linear infinite;
        box-sizing: border-box;
    }

    /* Small spinner fallback */
    .spinner-container[data-size='small'].spinner-fallback::before {
        border-width: var(--bds-size-spacing-2x-small);
    }

    /* Large spinner fallback */
    .spinner-container[data-size='large'].spinner-fallback::before {
        border-width: var(--bds-size-spacing-small);
    }

    /* Respect user preference for reduced motion */
    @media (prefers-reduced-motion: reduce) {
        .spinner-icon {
            animation: none;
        }

        .spinner-container.spinner-fallback::before {
            animation: none;
        }
    }
`,Ut()];const xa={small:"small",medium:"medium",large:"large"},ka={inline:"inline",block:"block"};e.Spinner=class extends be{constructor(){super(...arguments),this.sizeConfig={[xa.small]:{icon:"spinner-small.svg",dimension:"16px"},[xa.medium]:{icon:"spinner-medium.svg",dimension:"32px"},[xa.large]:{icon:"spinner-large.svg",dimension:"64px"}},this.size=xa.medium,this.ariaRole="status",this.display=ka.inline,this.hasImageError=!1}getValidatedSize(){return this.size in this.sizeConfig?this.size:xa.medium}getValidatedDisplay(){return this.display in ka?this.display:ka.inline}getValidatedAriaRole(){return this.ariaRole&&["status","progressbar","img"].includes(this.ariaRole)?this.ariaRole:"status"}getIconName(){const e=this.getValidatedSize();return this.sizeConfig[e].icon}getDimensions(){const e=this.getValidatedSize();return this.sizeConfig[e].dimension}get displayStyles(){return"block"===this.getValidatedDisplay()?{display:"flex",alignItems:"center",justifyContent:"center"}:{display:"inline-block",verticalAlign:"middle"}}connectedCallback(){super.connectedCallback(),Object.assign(this.style,this.displayStyles)}willUpdate(e){e.has("display")&&Object.assign(this.style,this.displayStyles)}handleImageError(){this.hasImageError=!0}render(){var e;const t=this.getIconName(),i=this.getDimensions(),a=ri("bds_spinner_loading_label",null===(e=this.renderContext)||void 0===e?void 0:e.locale);return G`
            <div
                class="spinner-container ${this.hasImageError?"spinner-fallback":""}"
                role="${this.getValidatedAriaRole()}"
                aria-live="polite"
                data-size="${this.getValidatedSize()}"
                style="width: ${i}; height: ${i};">
                <img
                    class="spinner-icon"
                    src="${Ke(t)}"
                    aria-hidden="true"
                    @error="${this.handleImageError}" />
                <span class="offscreen">${a}</span>
            </div>
        `}},e.Spinner.styles=ya,t([ye({context:Pe,subscribe:!0})],e.Spinner.prototype,"renderContext",void 0),t([we({type:String})],e.Spinner.prototype,"size",void 0),t([we({type:String})],e.Spinner.prototype,"ariaRole",void 0),t([we({type:String,reflect:!0})],e.Spinner.prototype,"display",void 0),t([we({type:Boolean})],e.Spinner.prototype,"hasImageError",void 0),e.Spinner=t([Te("bds-spinner")],e.Spinner);var wa=p`
    .tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: var(--bds-size-line-weight-small) solid;
        font-size: var(--bds-size-font-functional-body-small);
        font-family: var(--bds-font-family-functional-body);
        white-space: nowrap;
        height: 36px;
        border-radius: 36px;
        padding: var(--bds-size-utils-padding-6) var(--bds-size-spacing-medium);
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
        /* A quick fix for a strange display issue on iOS web browsers https://sim.amazon.com/issues/BSX-Storefront-611 */
        margin-bottom: 1px;
    }

    .tag.circular {
        width: 36px;
        border-radius: 50%;
    }

    .selectedIconContainer {
        max-width: 0;
        display: inline-flex;
        align-items: center;
    }

    .selectedIconContainer img {
        max-width: inherit;
        height: 14px;
    }

    .selectedIconContainer.visible {
        max-width: 16px;
        margin-right: var(--bds-size-spacing-x-small);
    }

    .selectedIconContainer,
    .selectedIconContainer.visible {
        transition: max-width, margin-right;
        transition-duration: 200ms;
    }

    @media screen and (prefers-reduced-motion) {
        .selectedIconContainer,
        .selectedIconContainer.visible {
            transition: max-width, margin-right;
            transition-duration: 0;
        }
    }

    .endIconContainer {
        margin-bottom: var(--bds-size-utils-padding-2);
        margin-left: var(--bds-size-utils-padding-10);
    }

    .endIconContainer.dropdown {
        margin-bottom: var(--bds-size-spacing-2x-small);
    }

    .tagContent {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        gap: var(--bds-size-spacing-x-small);
    }

    /* Per UX team: offset the text by 1px to make it look more centered */
    .tagText {
        padding-bottom: var(--bds-size-utils-padding-1);
    }

    .programLogo {
        height: 14px;
    }

    .endIcon {
        width: 8px;
    }

    /* Light mode styling */
    .tag.light {
        border-color: #a2a6a6;
        background-color: #fff;
        color: #0f1111;
    }

    /* Prevent hover effects from showing up on touch devices after tag deselection */
    @media (hover: hover) {
        .tag.light:hover {
            border-color: #0f1111;
            box-shadow: var(--bds-size-line-weight-medium) var(--bds-size-line-weight-medium)
                var(--bds-size-line-weight-x-large) rgba(86, 86, 86, 0.2);
        }
    }

    .tag.light:focus-visible {
        outline: none;
        border: var(--bds-size-line-weight-large) solid #0f1111;
        box-shadow: var(--bds-size-line-weight-medium) var(--bds-size-line-weight-medium)
            var(--bds-size-line-weight-x-large) rgba(86, 86, 86, 0.2);
    }

    .tag.light.selected {
        border: var(--bds-size-line-weight-large) solid #007185;
        box-shadow: inset 0 var(--bds-size-line-weight-small) var(--bds-size-line-weight-medium)
            var(--bds-size-line-weight-small) rgba(1, 67, 79, 0.1);
        font-weight: var(--bds-font-weight-functional-display);
    }

    .tag.light.selected:focus-visible {
        border-color: #0f1111;
    }

    .tag.light.selected.textBased {
        background-color: #edfdff;
    }

    .tag.light.inactive,
    .tag.light.inactive.textBased {
        border: var(--bds-size-line-weight-small) solid #bbbfbf;
        background-color: #f0f2f2;
        box-shadow: none;
        color: #565959;
        font-weight: var(--bds-font-weight-functional-body);
    }

    /* Dark mode styling */
    .tag.dark {
        border-color: #d5d9d9;
        background-color: #0f1111;
        color: #fff;
    }

    /* Prevent hover effects from showing up on touch devices after tag deselection */
    @media (hover: hover) {
        .tag.dark:hover {
            border-color: #f7feff;
            box-shadow: var(--bds-size-line-weight-medium) var(--bds-size-line-weight-medium)
                var(--bds-size-line-weight-x-large) rgba(86, 86, 86, 0.2);
        }
    }

    .tag.dark:focus-visible {
        outline: none;
        border: var(--bds-size-line-weight-large) solid #f7feff;
        box-shadow: var(--bds-size-line-weight-medium) var(--bds-size-line-weight-medium)
            var(--bds-size-line-weight-x-large) rgba(86, 86, 86, 0.2);
    }

    .tag.dark.selected {
        border: var(--bds-size-line-weight-large) solid #c8f3fa;
        box-shadow: inset 0 var(--bds-size-line-weight-small) var(--bds-size-line-weight-medium)
            var(--bds-size-line-weight-small) rgba(1, 67, 79, 0.1);
        font-weight: var(--bds-font-weight-functional-display);
    }

    .tag.dark.selected:focus-visible {
        border-color: #f7feff;
    }

    .tag.dark.selected.textBased {
        background-color: #054b59;
    }

    .tag.dark.inactive,
    .tag.dark.inactive.textBased {
        border: var(--bds-size-line-weight-small) solid #888c8c;
        background-color: #303333;
        box-shadow: 0 0 var(--bds-size-line-weight-medium) var(--bds-size-line-weight-small)
            rgba(86, 86, 86, 0.1);
        color: #bbbfbf;
        font-weight: var(--bds-font-weight-functional-body);
    }

    /* Custom displays */
    .starRatingDisplay {
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-x-small);
        line-height: 100%;
    }
`;e.TagPill=class extends be{constructor(){super(...arguments),this.tagId="",this.tagName="",this.selectionMode="multi",this.ariaLabel="",this.darkMode=!1,this.selected=!1,this.inactive=!1,this.circular=!1,this.noSelectionChange=!1,this.visibilityThreshold=-1,this.prefixIcons=[],this.suffixIcons=[],this.renderByDisplayParams=(e,t)=>{if("star_rating"===e.displayId&&e.numberOfStars)return G`
                <span role="group" aria-label=${t} class="starRatingDisplay">
                    <span aria-hidden="true">
                        <bds-star-rating
                            numberOfStars=${e.numberOfStars}
                            ?hasHalfStar=${e.hasHalfStar}>
                        </bds-star-rating>
                    </span>
                    ${ft(e.additionalText,(()=>G` <span aria-hidden="true"> ${e.additionalText} </span> `))}
                </span>
            `}}get onVisibilityChange(){return this.handleVisibilityChange}set onVisibilityChange(e){this.handleVisibilityChange=e}get onClick(){return this.handleClick}set onClick(e){this.handleClick=e}updated(e){var t;if(e.has("visibilityThreshold")&&this.visibilityThreshold>=0){const e=this.renderRoot.querySelector("button");if(!e)return;null===(t=this.visibilityObserver)||void 0===t||t.unobserve(e),this.visibilityObserver=new IntersectionObserver((e=>{e.forEach((e=>{var t;null===(t=this.handleVisibilityChange)||void 0===t||t.call(this,e.target.id,e.isIntersecting&&"hidden"!==window.getComputedStyle(e.target).visibility)}))}),{threshold:this.visibilityThreshold}),this.visibilityObserver.observe(e)}}onClickHandler(){var e;this.noSelectionChange||(this.selected=!this.selected);const t={tagId:this.tagId,selected:this.selected};null===(e=this.handleClick)||void 0===e||e.call(this,t)}renderIcons(e){return null==e?void 0:e.map((e=>G`<img
                src=${e.src}
                alt=${mt(e.altText)}
                aria-hidden=${!e.altText}
                class=${mt(e.class)}
                draggable="false" />`))}render(){const e="multi"===this.selectionMode&&this.selected&&!this.inactive,t={src:this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/selected-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/selected-light.svg"},i=((e,t,i)=>{switch(e){case"Kindle Unlimited":case"Kindle Unlimited Eligible":return i?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-light.svg";case"Kindle Unlimited Audio":return i?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/ku-audio-light.svg";case"Prime Reading":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/PRR_Dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/PRR_Light.svg";case"Prime Eligible":return i?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/prime-light.svg";case"Comixology":return i?t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-dark-inactive.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-light-inactive.svg":t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/comixology-light.svg";case"Kids+":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/amazonkidsplusdark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/amazonkidsplus.svg";case"Audible Plus":return"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/audible-plus-light.png"}return""})(this.programType,this.darkMode,this.inactive),a=((e,t)=>{switch(e){case"deselect":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/deselect-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/deselect-light.svg";case"dropdown":return t?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/dropdown-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/dropdown-light.svg"}return""})(this.endIconType,this.darkMode),o=this.ariaRole||("multi"===this.selectionMode?"checkbox":"radio"),r="checkbox"===o||"radio"===o?this.selected:void 0;let s;return i?s=this.renderIcons([{src:i,altText:this.tagName,class:"programLogo"}]):this.displayParameters?s=this.renderByDisplayParams(this.displayParameters,this.tagName):this.tagName&&(s=G`<span class="tagText">${this.tagName}</span>`),G`
            <button
                id=${this.tagId}
                name=${this.tagName}
                aria-label=${this.ariaLabel||this.tagName}
                ?disabled=${this.inactive}
                role=${o}
                aria-checked=${mt(r)}
                class=${Wt({tag:!0,light:!this.darkMode,dark:this.darkMode,textBased:!this.programType,selected:this.selected,inactive:this.inactive,circular:this.circular})}
                @click=${this.onClickHandler}>
                <div
                    class=${Wt({selectedIconContainer:!0,visible:e})}>
                    ${this.renderIcons([t])}
                </div>
                <div class="tagContent">
                    ${this.renderIcons(this.prefixIcons)} ${s}
                    ${this.renderIcons(this.suffixIcons)}
                </div>
                ${ft(this.endIconType,(()=>G`
                            <div
                                class=${Wt({endIconContainer:!0,dropdown:"dropdown"===this.endIconType})}>
                                ${this.renderIcons([{src:a,class:"endIcon"}])}
                            </div>
                        `))}
            </button>
        `}},e.TagPill.styles=wa,t([we()],e.TagPill.prototype,"tagId",void 0),t([we()],e.TagPill.prototype,"tagName",void 0),t([we()],e.TagPill.prototype,"programType",void 0),t([we()],e.TagPill.prototype,"selectionMode",void 0),t([we()],e.TagPill.prototype,"ariaRole",void 0),t([we()],e.TagPill.prototype,"ariaLabel",void 0),t([we({type:Boolean})],e.TagPill.prototype,"darkMode",void 0),t([we({type:Boolean})],e.TagPill.prototype,"selected",void 0),t([we({type:Boolean})],e.TagPill.prototype,"inactive",void 0),t([we({type:Boolean})],e.TagPill.prototype,"circular",void 0),t([we()],e.TagPill.prototype,"handleClick",void 0),t([we({type:Boolean})],e.TagPill.prototype,"noSelectionChange",void 0),t([we({type:Number})],e.TagPill.prototype,"visibilityThreshold",void 0),t([we()],e.TagPill.prototype,"handleVisibilityChange",void 0),t([we({type:Array})],e.TagPill.prototype,"prefixIcons",void 0),t([we({type:Array})],e.TagPill.prototype,"suffixIcons",void 0),t([we()],e.TagPill.prototype,"endIconType",void 0),t([we({type:Object})],e.TagPill.prototype,"displayParameters",void 0),t([we()],e.TagPill.prototype,"onVisibilityChange",null),t([we()],e.TagPill.prototype,"onClick",null),e.TagPill=t([Te("tag-pill")],e.TagPill);var Ca=p`
    .tagsRows {
        display: grid;
        flex-direction: column;
        padding: 0;
        row-gap: var(--bds-size-spacing-small);
        overflow-x: scroll;

        /* Hide scroll bar */
        -ms-overflow-style: none; /* Edge */
        scrollbar-width: none; /* Firefox */
    }

    /* Chrome & Safari */
    .tagsRows::-webkit-scrollbar {
        display: none;
    }

    .tagsRow {
        all: unset;
        display: flex;
        align-items: center;
        gap: var(--bds-size-spacing-x-small);
    }

    /* Used to add a fake padding that will disappear on scroll at the beginning of the tag rows */
    .tagsRow.addPseudoPadding::before,
    .tagsRow.addPseudoPadding::after {
        content: '';
        display: inline-block;
        min-width: var(--bds-size-spacing-medium);
    }

    .tagsRow.addPseudoPaddingRight::after {
        content: '';
        display: inline-block;
        min-width: var(--bds-size-spacing-medium);
    }
`;class Ba extends be{constructor(){super(...arguments),this.tags=[],this.selectionMode="multi",this.noSelectionChange=!1,this.darkMode=!1,this.ariaLabel=""}renderTag(e){return G`
            <li style="all: unset" role="listitem">
                <tag-pill
                    tagId=${e.id}
                    tagName=${e.name}
                    programType=${mt(e.programType)}
                    selectionMode=${this.selectionMode}
                    ariaLabel=${mt(e.ariaLabel)}
                    ?darkMode=${this.darkMode}
                    ?noSelectionChange=${e.noSelectionChange||this.noSelectionChange}
                    ?selected=${e.selected}
                    ?inactive=${e.inactive}
                    visibilityThreshold=${mt(this.tagVisibilityThreshold)}
                    .handleClick=${e=>this.onTagClickCallback(e)}
                    .handleVisibilityChange=${this.handleTagVisibilityChange}
                    .prefixIcons=${e.prefixIcons}
                    .suffixIcons=${e.suffixIcons}
                    .endIconType=${e.endIconType}
                    .displayParameters=${e.displayParameters}>
                </tag-pill>
            </li>
        `}renderTags(){var e,t;return null!==(t=null===(e=this.tags)||void 0===e?void 0:e.map((e=>this.renderTag(e))))&&void 0!==t?t:q}onTagClickCallback(e){var t;"single"===this.selectionMode&&(this.tags=this.tags.map((t=>Object.assign(Object.assign({},t),{selected:t.id===e.tagId&&e.selected})))),null===(t=this.handleTagClick)||void 0===t||t.call(this,e)}get onTagClick(){return this.handleTagClick}set onTagClick(e){this.handleTagClick=e}get onTagVisibilityChange(){return this.handleTagVisibilityChange}set onTagVisibilityChange(e){this.handleTagVisibilityChange=e}}t([we({type:Array})],Ba.prototype,"tags",void 0),t([we()],Ba.prototype,"selectionMode",void 0),t([we({type:Boolean})],Ba.prototype,"noSelectionChange",void 0),t([we({type:Boolean})],Ba.prototype,"darkMode",void 0),t([we()],Ba.prototype,"ariaLabel",void 0),t([we()],Ba.prototype,"handleTagClick",void 0),t([we({type:Number})],Ba.prototype,"tagVisibilityThreshold",void 0),t([we()],Ba.prototype,"handleTagVisibilityChange",void 0),t([we()],Ba.prototype,"onTagClick",null),t([we()],Ba.prototype,"onTagVisibilityChange",null),e.TagsRows=class extends Ba{constructor(){super(...arguments),this.scrollingContentRef=gt(),this.numRows=1,this.addPseudoPadding=!1,this.addPseudoPaddingRight=!1,this.renderTagsRows=e=>{const t=[];for(let i=0;i<this.numRows;i+=1){const a=e.filter(((e,t)=>t%this.numRows===i)).map((e=>this.renderTag(e)));t.push(G`
                <ul
                    aria-label=${this.ariaLabel}
                    tabindex="0"
                    role="list"
                    class=${Wt({tagsRow:!0,addPseudoPadding:this.addPseudoPadding,addPseudoPaddingRight:this.addPseudoPaddingRight})}>
                    ${a}
                </ul>
            `)}return t}}scrollContentTo(e){var t;null===(t=this.scrollingContentRef.value)||void 0===t||t.scrollTo({left:e,behavior:"smooth"})}render(){return G`
            <div class="tagsRows" ${pt(this.scrollingContentRef)}>
                ${this.renderTagsRows(this.tags)}
            </div>
        `}},e.TagsRows.styles=Ca,t([we({type:Number})],e.TagsRows.prototype,"numRows",void 0),t([we({type:Boolean})],e.TagsRows.prototype,"addPseudoPadding",void 0),t([we({type:Boolean})],e.TagsRows.prototype,"addPseudoPaddingRight",void 0),e.TagsRows=t([Te("tags-rows")],e.TagsRows);var Pa=p`
    .tagsScroller {
        display: flex;
        align-items: center;
        position: relative;
    }

    .tagsContainer {
        all: unset;
        display: inline-flex;
        align-items: center;
        gap: var(--bds-size-spacing-x-small);
        padding: 0 44px;
    }

    .scrollingContent {
        width: 100%;
        border-radius: var(--bds-size-radius-small);
        overflow: scroll;

        /* Hide scroll bar */
        -ms-overflow-style: none; /* Edge */
        scrollbar-width: none; /* Firefox */
    }

    /* Chrome & Safari */
    .scrollingContent::-webkit-scrollbar {
        display: none;
    }

    .navArrowContainer {
        height: 36px;
        width: 36px;
        border-radius: var(--bds-size-radius-small);
        position: absolute;
        display: inline-flex;
        flex-shrink: 0;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
        border: var(--bds-size-line-weight-small) solid #d5d9d9;
        background-color: #fff;
        box-shadow: 0 var(--bds-size-line-weight-medium) 6px rgba(0, 0, 0, 15%);
        cursor: pointer;
        user-select: none;
    }

    .navArrowContainer.left {
        left: 0;
    }

    .navArrowContainer.right {
        right: 0;
    }

    .navArrowContainer.dark {
        border-color: #d5d9d9;
        background-color: #0f1111;
    }

    .navArrowContainer.inactive {
        box-shadow: none;
        cursor: default;
    }

    .navArrowContainer:not(.inactive):hover {
        background-color: #f8f8f8;
    }

    .navArrowContainer.dark:not(.inactive):hover {
        background-color: #262828;
    }
`;e.TagsScroller=class extends Ba{constructor(){super(...arguments),this.scrollingContentRef=gt(),this.BUFFER_WIDTH=1,this.DURATION_FOR_TAG_UPDATE_MS=360,this.scrollPercentage=.75,this.showLeftArrow=!1,this.showRightArrow=!1}updateNavArrows(){const e=this.scrollingContentRef.value;e&&(this.showLeftArrow=e.scrollLeft>0,this.showRightArrow=Math.abs(e.scrollWidth-e.clientWidth-e.scrollLeft)>=this.BUFFER_WIDTH)}firstUpdated(){if(this.updateNavArrows(),this.scrollingContentRef.value){new ResizeObserver((()=>this.updateNavArrows())).observe(this.scrollingContentRef.value)}}scrollContent(e){const t=this.scrollingContentRef.value;if(!t)return;const i=Math.round(t.clientWidth*this.scrollPercentage);if("left"===e){const e=ni()?t.scrollLeft-i:Math.max(0,t.scrollLeft-i);t.scrollTo({left:e,behavior:"smooth"})}"right"===e&&t.scrollTo({left:Math.min(t.scrollLeft+i,t.scrollWidth-t.clientWidth+this.BUFFER_WIDTH),behavior:"smooth"})}scrollContentTo(e){var t;null===(t=this.scrollingContentRef.value)||void 0===t||t.scrollTo({left:e,behavior:"smooth"})}onTagClickCallback(e){super.onTagClickCallback(e),setTimeout((()=>{this.updateNavArrows()}),this.DURATION_FOR_TAG_UPDATE_MS)}render(){return G`
            <div class="tagsScroller">
                <div
                    class=${Wt({navArrowContainer:!0,left:!0,inactive:!this.showLeftArrow,dark:this.darkMode})}
                    @click=${()=>this.scrollContent("left")}
                    aria-hidden="true">
                    <img
                        src=${this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/left-arrow-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/left-arrow-light.svg"}
                        role="presentation" />
                </div>
                <div
                    class="scrollingContent"
                    @scroll=${this.updateNavArrows}
                    ${pt(this.scrollingContentRef)}>
                    <ul class="tagsContainer" tabindex="0" aria-label=${this.ariaLabel} role="list">
                        ${this.renderTags()}
                    </ul>
                </div>
                <div
                    class=${Wt({navArrowContainer:!0,right:!0,inactive:!this.showRightArrow,dark:this.darkMode})}
                    @click=${()=>this.scrollContent("right")}
                    aria-hidden="true">
                    <img
                        src=${this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/right-arrow-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/right-arrow-light.svg"}
                        role="presentation" />
                </div>
            </div>
        `}},e.TagsScroller.styles=Pa,t([we({type:Number})],e.TagsScroller.prototype,"scrollPercentage",void 0),t([Ce()],e.TagsScroller.prototype,"showLeftArrow",void 0),t([Ce()],e.TagsScroller.prototype,"showRightArrow",void 0),e.TagsScroller=t([Te("tags-scroller")],e.TagsScroller);var $a=p`
    :host {
        box-sizing: border-box;
    }

    .tagFiltersSection {
        display: flex;
        flex-direction: column;
        gap: var(--bds-size-spacing-small);
        font-family: var(--bds-font-family-functional-body);
        color: #0f1111;
    }

    .header {
        all: unset;
        position: relative;
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        margin-left: var(--bds-size-spacing-2x-small);
        font-weight: var(--bds-font-weight-functional-display);
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .header.main {
        font-size: var(--bds-size-font-functional-display-small);
        line-height: var(--bds-size-line-height-functional-body-large);
    }

    .header.secondary {
        font-size: var(--bds-size-font-functional-body-x-large);
        line-height: var(--bds-size-line-height-functional-title-small);
    }

    .header.expandable {
        cursor: pointer;
    }

    .header.expandable:focus {
        outline: revert;
    }

    .tagsContainer {
        all: unset;
        display: inline-flex;
        flex-wrap: wrap;
        gap: var(--bds-size-spacing-small) var(--bds-size-spacing-x-small);
    }
`;e.TagFiltersSection=class extends Ba{constructor(){super(...arguments),this.header="",this.headerSize="main",this.expandable=!1,this.expanded=!1}renderExpanderIcon(e){const t=this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-down-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-down-light.svg",i=this.darkMode?"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-up-dark.svg":"https://m.media-amazon.com/images/G/01/Books/BooksDesignSystem/chevron-up-light.svg";return G`<img src=${e?i:t} aria-hidden="true" />`}renderHeader(){return this.expandable?G`
                <button
                    class=${Wt({header:!0,main:"main"===this.headerSize,secondary:"secondary"===this.headerSize,expandable:!0})}
                    aria-expanded=${this.expanded}
                    @click=${this.onHeaderClick}>
                    <span>${this.header}</span>
                    ${this.renderExpanderIcon(this.expanded)}
                </button>
            `:G`
            <div
                class=${Wt({header:!0,main:"main"===this.headerSize,secondary:"secondary"===this.headerSize,expandable:!1})}
                role="heading"
                aria-level="3">
                ${this.header}
            </div>
        `}onHeaderClick(){this.expanded=!this.expanded}render(){if(this.tags.length)return G`
            <div class="tagFiltersSection">
                ${ft(this.header&&this.headerSize,(()=>this.renderHeader()))}
                ${ft(!this.expandable||this.expanded,(()=>G`
                        <ul
                            class="tagsContainer"
                            aria-label=${this.ariaLabel}
                            tabindex="0"
                            role="list">
                            ${this.renderTags()}
                        </ul>
                    `))}
            </div>
        `}},e.TagFiltersSection.styles=$a,t([we()],e.TagFiltersSection.prototype,"header",void 0),t([we()],e.TagFiltersSection.prototype,"headerSize",void 0),t([we({type:Boolean})],e.TagFiltersSection.prototype,"expandable",void 0),t([we({type:Boolean})],e.TagFiltersSection.prototype,"expanded",void 0),e.TagFiltersSection=t([Te("tag-filters-section")],e.TagFiltersSection);var Ta=p`
    .tagLabels,
    .tagLabelContainer {
        all: unset;
        display: inline-flex;
        align-items: center;
        font-family: var(--bds-font-family-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
    }

    .tagLabels {
        flex-wrap: wrap;
    }

    .tagLabels.navigational {
        row-gap: var(--bds-size-spacing-2x-small);
    }

    .tagLabel {
        font-size: var(--bds-size-font-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface);
        white-space: nowrap;
    }

    .tagLabel.navigational {
        color: var(--bds-link-color-text-active);
        font-weight: bold;
        text-decoration: underline;
    }

    .tagLabel.navigational:hover {
        color: var(--bds-link-color-text-hover);
    }

    .tagLabelIcon {
        margin-right: var(--bds-size-utils-padding-6);
    }

    .dividerDot {
        font-size: var(--bds-size-font-functional-body-small);
        margin: 0 var(--bds-size-spacing-x-small);
    }

    .dividerDot.light {
        color: #1196ab;
    }

    .dividerDot.dark {
        color: #c8f3fa;
    }

    .dividerDot.navigational.light {
        color: #888c8c;
    }

    .dividerDot.navigational.dark {
        color: #d5d9d9;
    }
`;e.TagLabels=class extends be{constructor(){super(...arguments),this.tags=[],this.darkMode=!1,this.ariaLabel=""}renderTagLabel(e,t){const i=!!e.link,a=i?G`
                <a
                    href=${mt(e.link)}
                    target="_blank"
                    aria-label=${mt(e.ariaLabel)}
                    class=${Wt({tagLabel:!0,navigational:!0,light:!this.darkMode,dark:this.darkMode})}>
                    ${e.displayText}
                </a>
            `:G`
                <span
                    aria-label=${mt(e.ariaLabel)}
                    class=${Wt({tagLabel:!0,navigational:!1,light:!this.darkMode,dark:this.darkMode})}>
                    ${e.displayText}
                </span>
            `;return G`
            <li class="tagLabelContainer" role="listitem">
                ${this.renderIcons(e.prefixIcons)}
                ${a}
                ${ft(t,(()=>G`
                            <span
                                aria-hidden="true"
                                class=${Wt({dividerDot:!0,navigational:i,light:!this.darkMode,dark:this.darkMode})}>
                                
                            </span>
                        `))}
            </li>
        `}renderIcons(e){return null==e?void 0:e.map((e=>G`
                <span class="tagLabelIcon">
                    <img
                        src=${e.src}
                        alt=${mt(e.altText)}
                        aria-hidden=${!e.altText}
                        class=${mt(e.class)}
                        draggable="false" />
                </span>
            `))}render(){var e,t;return G`
            <ul
                class=${Wt({tagLabels:!0,navigational:this.tags.some((e=>e.link))})}
                aria-label=${mt(this.ariaLabel)}
            >
                ${null!==(t=null===(e=this.tags)||void 0===e?void 0:e.map(((e,t)=>this.renderTagLabel(e,t!==this.tags.length-1))))&&void 0!==t?t:q}
            </ul>
        `}},e.TagLabels.styles=Ta,t([we({type:Array})],e.TagLabels.prototype,"tags",void 0),t([we({type:Boolean})],e.TagLabels.prototype,"darkMode",void 0),t([we()],e.TagLabels.prototype,"ariaLabel",void 0),e.TagLabels=t([Te("tag-labels")],e.TagLabels);var Sa=p`
    :host {
        display: inline;
    }

    .bds-link {
        display: inline-flex;
        align-items: center;
        gap: var(--bds-size-spacing-2x-small);
        text-decoration: underline;
        cursor: pointer;
        border: none;
        background: none;
        margin: 0;
        font-family: var(--bds-font-family-functional-label);
        font-weight: var(--bds-font-weight-functional-label);
        color: var(--bds-link-color-text-active);
    }

    .bds-link.base {
        font-size: var(--bds-size-font-functional-label-medium);
        line-height: var(--bds-size-line-height-functional-label-medium);
    }

    .bds-link.small {
        font-size: var(--bds-size-font-functional-label-small);
        line-height: var(--bds-size-line-height-functional-label-small);
    }

    .bds-link:hover {
        color: var(--bds-link-color-text-hover);
    }

    .bds-link__icon {
        width: 16px;
        height: 16px;
        background-color: var(--bds-link-color-icon-active);
    }

    .bds-link__icon:dir(rtl) {
        transform: scaleX(-1);
    }
`;e.Link=class extends be{constructor(){super(...arguments),this.layout="base"}renderIcon(){return this.iconName?G`
            <div
                class="bds-link__icon"
                style="
                    mask: url(${Ke(this.iconName)}) no-repeat center;
                    mask-size: 100%;
                "></div>
        `:q}render(){return G`
            <a
                href=${mt(this.href)}
                class="bds-link ${this.layout}"
                aria-label=${mt(this.accessibilityLabel)}>
                ${this.label} ${ft(this.iconName,(()=>this.renderIcon()))}
            </a>
        `}},e.Link.styles=Sa,t([we({type:String})],e.Link.prototype,"href",void 0),t([we({type:String})],e.Link.prototype,"label",void 0),t([we({type:String})],e.Link.prototype,"layout",void 0),t([we({type:String})],e.Link.prototype,"iconName",void 0),t([we({type:String})],e.Link.prototype,"accessibilityLabel",void 0),e.Link=t([Te("bds-link")],e.Link);var za=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
        display: block;
    }

    .banner-container {
        display: grid;
        grid-template-columns: auto 1fr;
        align-items: stretch;
    }

    .banner-text {
        font-size: var(--bds-size-font-functional-headline-medium);
        font-weight: var(--bds-font-weight-functional-headline);
        line-height: var(--bds-size-line-height-functional-headline-medium);
        padding: var(--bds-size-spacing-medium);
    }

    .with-adornment {
        padding-left: 0;
    }

    .ribbon-container {
        --ribbon-width: calc(60px + 0.5rem);
        clip-path: polygon(35px 0, var(--ribbon-width) 0, 0 var(--ribbon-width), 0 35px);
        position: relative;
        width: var(--ribbon-width);
    }

    .ribbon-text {
        transform: rotate(-45deg) translate(-25%, 45%);
        text-align: center;
        white-space: nowrap;
        font-weight: var(--bds-font-weight-functional-headline);
        font-size: var(--bds-size-font-functional-label-small);
        line-height: var(--bds-size-line-height-functional-label-small);
    }

    /* Default styling */
    .default {
        background-color: var(--bds-color-functional-core-primary);
        color: var(--bds-color-functional-core-on-primary);
    }

    .ribbon-container.default {
        background-color: var(--bds-color-functional-neutral-on-surface-inverse);
        color: var(--bds-color-functional-core-primary);
    }

    /* Promotional styling */
    .promotional {
        background-color: var(--bds-color-functional-supplemental-rio-bonfire);
        color: var(--bds-color-functional-neutral-on-surface-inverse);
    }

    .ribbon-container.promotional {
        background-color: var(--bds-color-functional-neutral-on-surface-inverse);
        color: var(--bds-color-functional-supplemental-discount);
    }
`;e.HeaderBanner=class extends be{renderRibbon(){return G`
            <div class="ribbon-container ${this.bannerType}">
                <div class="ribbon-transform-container">
                    <div class="ribbon-text">${this.ribbonText}</div>
                </div>
            </div>
        `}renderAdornment(){return"ribbon"===this.adornmentType?this.renderRibbon():q}render(){const e=this.adornmentType?this.renderAdornment():null,t=!!e&&e!==q;return G`
            <div class="banner-container ${this.bannerType}">
                ${ft(t,(()=>e))}
                <div
                    class=${Wt({"banner-text":!0,[this.bannerType]:!0,"with-adornment":t})}>
                    ${this.bannerText}
                </div>
            </div>
        `}},e.HeaderBanner.styles=za,t([we({type:String})],e.HeaderBanner.prototype,"bannerType",void 0),t([we({type:String})],e.HeaderBanner.prototype,"bannerText",void 0),t([we({type:String})],e.HeaderBanner.prototype,"adornmentType",void 0),t([we({type:String})],e.HeaderBanner.prototype,"ribbonText",void 0),e.HeaderBanner=t([Te("bds-header-banner"),Ue],e.HeaderBanner);var Ia=p`
    :host {
        display: inline-block;
        font-family: var(--bds-font-family-functional-body);
    }

    :host(.in-button-group) {
        display: inline-flex;
        margin-right: var(--bds-size-spacing-medium);
        flex: 1;
        max-width: none;
    }

    :host(.in-button-group:last-child) {
        margin-right: 0;
    }

    button {
        min-width: var(--bds-size-tap-target-minimum, 130px);
        min-height: var(--bds-size-tap-target-minimum); /* Minimum touch target size for mobile */
        width: auto;
        padding: var(--bds-size-spacing-medium);
        border: var(--bds-size-line-weight-small) solid;
        border-radius: var(--bds-size-radius-small);
        display: flex;
        flex-direction: column;
        gap: var(--bds-size-spacing-small);
        position: relative;
        transition: transform 0.1s ease;

        /* Button reset styles */
        background: none;
        font: inherit;
        cursor: pointer;
        text-align: left;
        margin: 0;
        appearance: none;

        /* Ensure text doesn't overflow on small screens */
        word-wrap: break-word;
        overflow-wrap: break-word;

        /* Center content for toggle button use case */
        justify-content: center;
        align-items: center;
    }

    button.selected {
        border-color: var(--bds-color-functional-neutral-outline-variant);
        background: var(--bds-chip-color-container-background-on);
        color: var(--bds-color-functional-neutral-on-surface);
        box-shadow: inset 0 0 0 2px var(--bds-chip-color-container-outline-on-focus);
    }

    button.unselected {
        border-color: var(--bds-color-functional-neutral-outline-variant);
        background: var(--bds-chip-color-container-background-off);
        color: var(--bds-color-functional-neutral-on-surface);
    }

    /* Touch feedback for mobile devices */
    button:active {
        transform: scale(0.98);
    }

    button:disabled {
        cursor: default;
    }

    /* Base size styling */
    .base {
        padding: var(--bds-size-spacing-medium);
        font-size: var(--bds-size-font-functional-body-large);
        line-height: var(--bds-size-line-height-functional-body-large);
        font-weight: var(--bds-font-weight-functional-display);
    }

    /* Small size styling */
    .small {
        padding: var(--bds-size-spacing-small);
        font-size: var(--bds-size-font-functional-body-small);
        line-height: var(--bds-size-line-height-functional-body-small);
    }

    /* Disabled states */
    button.unselected:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        background: var(--bds-color-functional-neutral-surface);
        border-color: var(--bds-color-functional-utils-outline-inactive);
    }

    button.selected:disabled {
        color: var(--bds-color-functional-utils-on-surface-inactive);
        background: var(--bds-color-functional-utils-surface-inactive);
        border-color: var(--bds-color-functional-utils-outline-inactive);
    }
`;class Aa{constructor(e,t,i){this.button=e,this.getState=t,this.setState=i}get isSelected(){return this.getState()}select(){var e,t;this.isSelected||(this.setState(!0),null===(t=(e=this.button).handleToggle)||void 0===t||t.call(e))}deselect(){var e,t;this.isSelected&&this.canDeselect()&&(this.setState(!1),null===(t=(e=this.button).handleToggle)||void 0===t||t.call(e))}canDeselect(){return!this.button.preventDeselect}}class La{constructor(e,t){this.button=e,this.context=t}get isSelected(){return this.context.selectedButtonIds.includes(this.button.buttonId)}select(){var e,t,i,a;this.isSelected||(null===(t=(e=this.context).onButtonToggle)||void 0===t||t.call(e,this.button.buttonId),null===(a=(i=this.button).handleToggle)||void 0===a||a.call(i))}deselect(){var e,t,i,a;this.isSelected&&(null===(t=(e=this.context).onButtonToggle)||void 0===t||t.call(e,this.button.buttonId),null===(a=(i=this.button).handleToggle)||void 0===a||a.call(i))}canDeselect(){return!0}}e.ToggleButton=class extends Ne{constructor(){super(...arguments),this._isSelected=!1,this.size="base",this.isInactive=!1,this.isAvailable=!0,this.preventDeselect=!1,this.onToggleHandler=()=>{if(this.isInactive)return;const e=this.isSelected;Oe.logCountMetric("toggle-button-clicked-"+(e?"selected":"unselected")),this.toggle()}}static get styles(){return[Ia]}get selectionBehavior(){return this.groupContext&&this.buttonId?new La(this,this.groupContext):new Aa(this,(()=>this._isSelected),(e=>{this._isSelected=e}))}get isSelected(){return this.selectionBehavior.isSelected}set isSelected(e){e?this.select():this.deselect()}get name(){return this.buttonId}set name(e){this.buttonId=e}select(){this.selectionBehavior.select()}deselect(){this.selectionBehavior.deselect()}toggle(){this.isSelected?this.deselect():this.select()}enable(){return this.isInactive=!1,this}disable(){return this.isInactive=!0,this}setAvailable(){return this.isAvailable=!0,this}setUnavailable(){return this.isAvailable=!1,this}setSelected(){return this.select(),this}setUnselected(){return this.deselect(),this}isEnabled(){return!this.isInactive}getIsSelected(){return this.isSelected}getIsAvailable(){return this.isAvailable}getButtonClasses(){const e=this.isSelected;return{selected:e,unselected:!e,base:"base"===this.size,small:"small"===this.size}}render(){return G`
            <button
                aria-label=${mt(this.accessibilityLabel)}
                aria-pressed=${this.isSelected}
                @click=${this.onToggleHandler}
                class="${Wt(this.getButtonClasses())}"
                ?disabled=${this.isInactive||!this.isAvailable}
                ?hidden=${!this.isAvailable}>
                <slot></slot>
            </button>
        `}},t([we({type:String})],e.ToggleButton.prototype,"accessibilityLabel",void 0),t([we({type:Boolean})],e.ToggleButton.prototype,"_isSelected",void 0),t([we({type:String})],e.ToggleButton.prototype,"size",void 0),t([we({type:Boolean})],e.ToggleButton.prototype,"isInactive",void 0),t([we({type:Boolean})],e.ToggleButton.prototype,"isAvailable",void 0),t([we({type:Boolean})],e.ToggleButton.prototype,"preventDeselect",void 0),t([we()],e.ToggleButton.prototype,"handleToggle",void 0),t([we({type:String})],e.ToggleButton.prototype,"buttonId",void 0),t([ye({context:Pe,subscribe:!0})],e.ToggleButton.prototype,"renderContext",void 0),t([ye({context:He,subscribe:!0})],e.ToggleButton.prototype,"groupContext",void 0),e.ToggleButton=t([Te("bds-toggle-button"),Ue],e.ToggleButton);var Ra=p`
    :host {
        font-family: var(--bds-font-family-functional-body);
        display: block;
    }

    .promo-buy-box {
        display: grid;
        grid-template-rows: auto auto auto auto auto auto;
        gap: var(--bds-size-spacing-small);
        width: 100%;
    }

    .price-section {
        display: flex;
        flex-direction: column;
        gap: var(--bds-size-spacing-2x-small);
    }

    .price-row {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
    }

    .price-label {
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .price-amount {
        font-size: var(--bds-size-font-functional-title-large);
        font-weight: var(--bds-font-weight-functional-headline);
        line-height: var(--bds-size-line-height-functional-title-large);
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .price-subtext {
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface-variant);
        text-align: right;
    }

    .points-section {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
    }

    .points-label {
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .points-amount {
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-headline);
        line-height: var(--bds-size-line-height-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface);
    }

    .slot-container {
        width: 100%;
    }

    .button-section {
        margin-top: var(--bds-size-spacing-x-small);
        display: flex;
        justify-content: center;
    }

    .button-section bds-buy-button {
        width: 100%;
        max-width: 400px;
    }

    .charge-notice {
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface-variant);
        text-align: center;
        margin-top: var(--bds-size-spacing-2x-small);
    }

    .legal-text {
        font-size: var(--bds-size-font-functional-body-small);
        font-weight: var(--bds-font-weight-functional-body);
        line-height: var(--bds-size-line-height-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface-variant);
        text-align: center;
        margin-top: var(--bds-size-spacing-x-small);
    }
`;e.PromoBuyBox=class extends be{constructor(){super(...arguments),this.buttonCategory="buy",this.buttonEmphasis="filled",this.buttonSize="base",this.isButtonInactive=!1}render(){return G`
            <div class="promo-buy-box">
                <div class="price-section">
                    <div class="price-row">
                        <div class="price-label">${this.priceLabel}</div>
                        <div class="price-amount">${this.price}</div>
                    </div>
                    ${ft(this.taxIncluded&&this.taxIncludedUrl,(()=>G`<div class="price-subtext">
                            <bds-link
                                href=${mt(this.taxIncludedUrl)}
                                label=${mt(this.taxIncluded)}
                                layout="small"></bds-link>
                        </div>`))}
                </div>

                ${ft(this.pointsLabel&&this.points,(()=>G`<div class="points-section">
                        <div class="points-label">${this.pointsLabel}</div>
                        <div class="points-amount">${this.points}</div>
                    </div>`))}

                <div class="slot-container">
                    <slot></slot>
                </div>

                <div class="button-section">
                    <bds-buy-button
                        content=${this.buttonText}
                        category=${mt(this.buttonCategory)}
                        emphasis=${mt(this.buttonEmphasis)}
                        size=${mt(this.buttonSize)}
                        accessibilityLabel=${mt(this.accessibilityLabel)}
                        .handleClick=${this.handleButtonClick}
                        .callToAction=${this.callToAction}
                        .biFrostRequestParams=${this.biFrostRequestParams}
                        ?isInactive=${this.isButtonInactive}
                        ?fullWidth=${!0}>
                    </bds-buy-button>
                </div>

                ${ft(this.chargeNotice,(()=>G`<div class="charge-notice">${this.chargeNotice}</div>`))}
                ${ft(this.legalRichContent,(()=>G`<div class="legal-text">
                        <bds-rich-content .content=${this.legalRichContent}></bds-rich-content>
                    </div>`))}
            </div>
        `}},e.PromoBuyBox.styles=Ra,t([we({type:String})],e.PromoBuyBox.prototype,"priceLabel",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"price",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"taxIncluded",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"taxIncludedUrl",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"pointsLabel",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"points",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"buttonText",void 0),t([we({type:Object})],e.PromoBuyBox.prototype,"legalRichContent",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"chargeNotice",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"accessibilityLabel",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"buttonCategory",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"buttonEmphasis",void 0),t([we({type:String})],e.PromoBuyBox.prototype,"buttonSize",void 0),t([we()],e.PromoBuyBox.prototype,"handleButtonClick",void 0),t([we({type:Object})],e.PromoBuyBox.prototype,"callToAction",void 0),t([we({type:Object})],e.PromoBuyBox.prototype,"biFrostRequestParams",void 0),t([we({type:Boolean})],e.PromoBuyBox.prototype,"isButtonInactive",void 0),e.PromoBuyBox=t([Te("bds-promo-buy-box")],e.PromoBuyBox);var Oa=p`
    :host {
        display: inline-block;
        font-family: var(--bds-font-family-functional-body);
    }

    .offer-content {
        display: flex;
        flex-direction: column;
        align-self: flex-start;
        justify-content: flex-start;
        text-overflow: ellipsis;
    }

    .title {
        color: var(--bds-color-functional-neutral-on-surface);
        font-size: var(--bds-size-font-functional-body-large);
        line-height: var(--bds-size-line-height-functional-body-large);
        font-weight: var(--bds-font-weight-functional-display);
        padding-bottom: var(--bds-size-spacing-2x-small);
    }

    .subtitle {
        font-size: var(--bds-size-font-functional-body-medium);
        line-height: var(--bds-size-line-height-functional-body-small);
        color: var(--bds-color-functional-neutral-on-surface);
        font-weight: var(--bds-font-weight-functional-body);
        padding-bottom: var(--bds-size-spacing-2x-small);
    }

    .selected {
        font-weight: var(--bds-font-weight-expressive-display);
    }

    .selectedlight {
        color: var(--bds-color-functional-supplemental-discount);
    }
`;e.OfferBox=class extends Ne{get isSelected(){return this.groupContext.selectedButtonIds.includes(this.buttonId)}renderBookDealBadge(){return ft(this.dealBadge,(()=>G`
                <div class="book-deal-badge">
                    <bds-book-deal-badge .dealBadge=${this.dealBadge}></bds-book-deal-badge>
                </div>
            `))}render(){var e;const t={subtitle:!0,selected:this.isSelected,selectedlight:this.isSelected&&"light"===(null===(e=this.renderContext)||void 0===e?void 0:e.theme)};return this.groupContext?G`
                  <bds-toggle-button
                      buttonId=${this.buttonId}
                      ?preventDeselect=${!0}
                      accessibilityLabel=${mt(this.accessibilityLabel)}
                      .handleToggle=${this.onOfferBoxClick}>
                      <div class="offer-content">
                          <div class="title">${this.title}</div>
                          ${ft(this.subTitle,(()=>G`<div class=${Wt(t)}>
                                      ${this.subTitle}
                                  </div>`))}
                          ${ft(this.secondarySubTitle,(()=>G`<div class="${Wt(t)}">
                                      ${this.secondarySubTitle}
                                  </div>`))}
                          ${this.renderBookDealBadge()}
                      </div>
                  </bds-toggle-button>
              `:G``}},e.OfferBox.styles=Oa,t([we({type:String})],e.OfferBox.prototype,"title",void 0),t([we({type:String})],e.OfferBox.prototype,"buttonId",void 0),t([ye({context:He,subscribe:!0})],e.OfferBox.prototype,"groupContext",void 0),t([we({type:String})],e.OfferBox.prototype,"subTitle",void 0),t([we({type:String})],e.OfferBox.prototype,"secondarySubTitle",void 0),t([we({type:Object})],e.OfferBox.prototype,"dealBadge",void 0),t([we({type:String})],e.OfferBox.prototype,"accessibilityLabel",void 0),t([we({attribute:!1})],e.OfferBox.prototype,"onOfferBoxClick",void 0),e.OfferBox=t([Te("bds-offer-box")],e.OfferBox),e.SKELETON_BACKWARD_COMPAT_DIMENSIONS=Bt,e.SPINNER_DISPLAYS=ka,e.SPINNER_SIZES=xa,e.defaultTimerEndedText=Qt,Object.defineProperty(e,"__esModule",{value:!0})}({});
/////////////////////////
// END FILE bds-base-assets.js
/////////////////////////
/////////////////////////
// BEGIN FILE bds-global-config.js
/////////////////////////
/*


Full source (including license, if applicable) included below.
*/
// Custom event to signal when BDS Global Config is available
window.dispatchEvent(new Event('BooksDesignSystemGlobalsUpdated'));
/////////////////////////
// END FILE bds-global-config.js
/////////////////////////

// END ASSET BooksDesignSystemWebBuzzAssets@BaseAssets-1.0.5031.0
////////////////////////////////////////////