<!-- library_management/templates/dashboard.html -->
{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<div class="card">
  <h3>Overview</h3>
  <div style="display:flex;gap:12px;margin-top:8px">
    <div style="flex:1"><strong>{{ total_books }}</strong><div class="small-muted">Total Books</div></div>
    <div style="flex:1"><strong>{{ available_books }}</strong><div class="small-muted">Available</div></div>
    <div style="flex:1"><strong>{{ total_members }}</strong><div class="small-muted">Members</div></div>
    <div style="flex:1"><strong>{{ active_borrows }}</strong><div class="small-muted">Active Borrows</div></div>
    <div style="flex:1"><strong>{{ overdue_borrows }}</strong><div class="small-muted">Overdue</div></div>
  </div>
</div>

<div class="card">
  <h4>Recently added books</h4>
  <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:12px">
    {% for b in recent_books %}
      <div style="width:160px">
        {% if b.cover %}
          <img src="{{ b.cover.url }}" style="width:160px;height:220px;object-fit:cover;border-radius:6px">
        {% else %}
          <div style="width:160px;height:220px;background:#eee;border-radius:6px;display:flex;align-items:center;justify-content:center">No cover</div>
        {% endif %}
        <div style="padding-top:6px"><strong>{{ b.title|truncatechars:24 }}</strong><div class="small-muted">{{ b.author }}</div></div>
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
